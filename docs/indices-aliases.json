{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.008582",
        "size": 6410,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html",
        "type": "documentation",
        "role": [
            "child_attributes",
            "child_attributes"
        ],
        "has_code": false,
        "title": "indices-aliases",
        "version": "8.15"
    },
    "doc": "[[indices-aliases]]\n=== Aliases API\n++++\n<titleabbrev>Aliases</titleabbrev>\n++++\n\nPerforms one or more <<aliases,alias>> actions in a single atomic operation.\n\n[source,console]\n----\nPOST _aliases\n{\n  \"actions\": [\n    {\n      \"add\": {\n        \"index\": \"my-data-stream\",\n        \"alias\": \"my-alias\"\n      }\n    }\n  ]\n}\n----\n// TEST[setup:my_data_stream]\n// TEST[teardown:data_stream_cleanup]\n\n[[indices-aliases-api-request]]\n==== {api-request-title}\n\n`POST _aliases`\n\n[[indices-aliases-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the following\n<<privileges-list-indices,index privileges>>:\n\n** To use the `add` or `remove` action, you must have the `manage` index\nprivilege for the alias and its data streams or indices.\n\n** To use the `remove_index` action, you must have the `manage` index privilege\nfor the index.\n\n[[indices-aliases-api-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=timeoutparms]\n\n[role=\"child_attributes\"]\n[[indices-aliases-api-request-body]]\n==== {api-request-body-title}\n\n`actions`::\n(Required, array of objects) Actions to perform.\n+\n.Properties of `actions` objects\n[%collapsible%open]\n====\n`<action>`::\n(Required, object) The key is the action type. At least one action is required.\n+\n.Valid `<action>` keys\n[%collapsible%open]\n=====\n`add`::\nAdds a data stream or index to an alias. If the alias doesn't exist, the `add`\naction creates it.\n\n`remove`::\nRemoves a data stream or index from an alias.\n\n`remove_index`::\nDeletes an index. You cannot use this action on aliases or data streams.\n=====\n+\nThe object body contains options for the alias. Supports an empty object.\n+\n.Properties of `<action>`\n[%collapsible%open]\n=====\n`alias`::\n(Required*, string) Alias for the action. Index alias names support\n<<api-date-math-index-names,date math>>. If `aliases` is not specified, the `add`\nand `remove` actions require this parameter. For the `remove` action, this\nparameter supports wildcards (`*`). The `remove_index` action doesn't support\nthis parameter.\n\n`aliases`::\n(Required*, array of strings) Aliases for the action. Index alias names support\n<<api-date-math-index-names,date math>>. If `alias` is not specified, the `add` and\n`remove` actions require this parameter. For the `remove` action, this parameter\nsupports wildcards (`*`). The `remove_index` action doesn't support this\nparameter.\n\n// tag::alias-options[]\n`filter`::\n(Optional, <<query-dsl,Query DSL object>> Query used to limit documents the\nalias can access.\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n\n`index`::\n(Required*, string) Data stream or index for the action. Supports wildcards\n(`*`). If `indices` is not specified, this parameter is required. For the `add`\nand `remove_index` actions, wildcard patterns that match both data streams and\nindices return an error.\n\n`indices`::\n(Required*, array of strings) Data streams or indices for the action. Supports\nwildcards (`*`). If `index` is not specified, this parameter is required. For\nthe `add` and `remove_index` actions, wildcard patterns that match both data\nstreams and indices return an error.\n\n// tag::alias-options[]\n`index_routing`::\n(Optional, string) Value used to route indexing operations to a specific shard.\nIf specified, this overwrites the `routing` value for indexing operations. Data\nstream aliases don't support this parameter.\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n\n// tag::alias-options[]\n`is_hidden`::\n(Optional, Boolean) If `true`, the alias is <<multi-hidden,hidden>>. Defaults to\n`false`. All data streams or indices for the alias must have the same\n`is_hidden` value.\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n\n// tag::alias-options[]\n`is_write_index`::\n(Optional, Boolean) If `true`, sets the write index or data stream for the\nalias.\n+\n// tag::write-index-defaults[]\nIf an alias points to multiple indices or data streams and `is_write_index`\nisn't set, the alias rejects write requests. If an index alias points to one\nindex and `is_write_index` isn't set, the index automatically acts as the write\nindex. Data stream aliases don't automatically set a write data stream, even if\nthe alias points to one data stream.\n// end::write-index-defaults[]\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n\n// tag::alias-options[]\n`must_exist`::\n(Optional, Boolean)\nAffects the behavior when attempting to remove an alias which does not exist.\nIf `true`, removing an alias which does not exist will cause all actions to fail.\nIf `false`, removing an alias which does not exist will only cause that removal to fail.\nDefaults to `false`.\n// end::alias-options[]\n+\nOnly the `remove` action supports this parameter.\n\n// tag::alias-options[]\n`routing`::\n(Optional, string) Value used to route indexing and search operations to a\nspecific shard. Data stream aliases don't support this parameter.\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n\n// tag::alias-options[]\n`search_routing`::\n(Optional, string) Value used to route search operations to a specific shard. If\nspecified, this overwrites the `routing` value for search operations. Data\nstream aliases don't support this parameter.\n// end::alias-options[]\n+\nOnly the `add` action supports this parameter.\n=====\n====\n\n\n\n[role=\"child_attributes\"]\n[[indices-aliases-api-response-body]]\n==== {api-response-body-title}\n\n`acknowledged`::\n(Boolean)\nIf `true`, the request received a response from the master node within the\n`timeout` period.\n\n`errors`::\n(Boolean)\nIf `true`, at least one of the requested actions failed.\n\n`action_results`::\n(Optional, array of objects) Results for each requested action.\n+\n.Properties of `action_results` objects\n[%collapsible%open]\n====\n\n`action`::\n(object)\nDescription of the associated action request.\n+\n.Properties of `action` object\n[%collapsible%open]\n=====\n`type`::\n(string) The type of the associated action, one of `add`, `remove`, or `remove_index`.\n\n`indices`::\n(array of strings) List of indices in the associated action.\n\n`aliases`::\n(array of strings) List of aliases in the associated action.\n=====\n\n`status`::\n(integer) HTTP status code returned for the action.\n\n`error`::\n(Optional, object) Contains additional information about the failed action.\n+\nOnly present if the action failed.\n====\n"
}