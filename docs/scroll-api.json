{
    "meta": {
        "timestamp": "2024-11-01T02:49:26.309068",
        "size": 4950,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/scroll-api.html",
        "type": "documentation",
        "role": [
            "child_attributes",
            "child_attributes"
        ],
        "has_code": true,
        "title": "scroll-api",
        "version": "8.15"
    },
    "doc": "[[scroll-api]]\n=== Scroll API\n++++\n<titleabbrev>Scroll</titleabbrev>\n++++\n\nIMPORTANT: We no longer recommend using the scroll API for deep pagination. If\nyou need to preserve the index state while paging through more than 10,000 hits,\nuse the <<search-after,`search_after`>> parameter with a point in time (PIT).\n\nRetrieves the next batch of results for a <<scroll-search-results,scrolling\nsearch>>.\n\n////\n[source,console]\n--------------------------------------------------\nGET /_search?scroll=1m\n{\n  \"size\": 1,\n  \"query\": {\n    \"match_all\": {}\n  }\n}\n--------------------------------------------------\n// TEST[setup:my_index]\n////\n\n[source,console]\n--------------------------------------------------\nGET /_search/scroll\n{\n  \"scroll_id\" : \"DXF1ZXJ5QW5kRmV0Y2gBAAAAAAAAAD4WYm9laVYtZndUQlNsdDcwakFMNjU1QQ==\"\n}\n--------------------------------------------------\n// TEST[continued]\n// TEST[s/DXF1ZXJ5QW5kRmV0Y2gBAAAAAAAAAD4WYm9laVYtZndUQlNsdDcwakFMNjU1QQ==/$body._scroll_id/]\n\n[[scroll-api-request]]\n==== {api-request-title}\n\n`GET /_search/scroll/<scroll_id>`\ndeprecated:[7.0.0]\n\n`GET /_search/scroll`\n\n`POST /_search/scroll/<scroll_id>`\ndeprecated:[7.0.0]\n\n`POST /_search/scroll`\n\n[[scroll-api-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the `read`\n<<privileges-list-indices,index privilege>> for the target data stream, index,\nor alias.\n\n[[scroll-api-desc]]\n==== {api-description-title}\n\nYou can use the scroll API to retrieve large sets of results from a single\n<<scroll-search-results,scrolling search>> request.\n\nThe scroll API requires a scroll ID. To get a scroll ID, submit a\n<<search-search,search API>> request that includes an argument for the\n<<search-api-scroll-query-param,`scroll` query parameter>>. The `scroll`\nparameter indicates how long {es} should retain the\n<<scroll-search-context,search context>> for the request.\n\nThe search response returns a scroll ID in the `_scroll_id` response body\nparameter. You can then use the scroll ID with the scroll API to retrieve the\nnext batch of results for the request. If the {es} {security-features} are enabled,\nthe access to the results of a specific scroll ID is restricted to\n<<can-access-resources-check,the user or API key that submitted the search>>.\n\nYou can also use the scroll API to specify a new `scroll` parameter that extends\nor shortens the retention period for the search context.\n\nSee <<scroll-search-results>>.\n\nIMPORTANT: Results from a scrolling search reflect the state of the index at the\ntime of the initial search request. Subsequent indexing or document changes only\naffect later search and scroll requests.\n\n[[scroll-api-path-params]]\n==== {api-path-parms-title}\n\n`<scroll_id>`::\ndeprecated:[7.0.0]\n(Optional, string)\nScroll ID of the search.\n+\nIMPORTANT: Scroll IDs can be long. We recommend only specifying scroll IDs using\nthe <<scroll-api-scroll-id-param,`scroll_id` request body parameter>>.\n\n[[scroll-api-query-params]]\n==== {api-query-parms-title}\n\n`scroll`::\n(Optional, <<time-units,time value>>)\nPeriod to retain the <<scroll-search-context,search context>> for scrolling. See\n<<scroll-search-results>>.\n+\nThis value overrides the duration set by the original search API request's\n`scroll` parameter.\n+\nBy default, this value cannot exceed `1d` (24 hours). You can change\nthis limit using the `search.max_keep_alive` cluster-level setting.\n+\nIMPORTANT: You can also specify this value using the `scroll` request body\nparameter. If both parameters are specified, only the query parameter is used.\n\n`scroll_id`::\ndeprecated:[7.0.0]\n(Optional, string)\nScroll ID for the search.\n+\nIMPORTANT: Scroll IDs can be long. We recommend only specifying scroll IDs using\nthe <<scroll-api-scroll-id-param,`scroll_id` request body parameter>>.\n\n`rest_total_hits_as_int`::\n(Optional, Boolean)\nIf `true`, the API response's `hit.total` property is returned as an integer.\nIf `false`, the API response's `hit.total` property is returned as an object.\nDefaults to `false`.\n\n[role=\"child_attributes\"]\n[[scroll-api-request-body]]\n==== {api-request-body-title}\n\n`scroll`::\n(Optional, <<time-units,time value>>)\nPeriod to retain the <<scroll-search-context,search context>> for scrolling. See\n<<scroll-search-results>>.\n+\nThis value overrides the duration set by the original search API request's\n`scroll` parameter.\n+\nBy default, this value cannot exceed `1d` (24 hours). You can change\nthis limit using the `search.max_keep_alive` cluster-level setting.\n+\nIMPORTANT: You can also specify this value using the `scroll` query\nparameter. If both parameters are specified, only the query parameter is used.\n\n[[scroll-api-scroll-id-param]]\n`scroll_id`::\n(Required, string)\nScroll ID for the search.\n\n[role=\"child_attributes\"]\n[[scroll-api-response-body]]\n==== {api-response-body-title}\n\nThe scroll API returns the same response body as the search API. See the search\nAPI's <<search-api-response-body,response body parameters>>.\n"
}