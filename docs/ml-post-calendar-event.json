{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.189578",
        "size": 4693,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ml-post-calendar-event.html",
        "type": "documentation",
        "role": [
            "xpack",
            "child_attributes"
        ],
        "has_code": true,
        "title": "ml-post-calendar-event",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ml-post-calendar-event]]\n= Add events to calendar API\n++++\n<titleabbrev>Add events to calendar</titleabbrev>\n++++\n\nPosts scheduled events in a calendar.\n\n[[ml-post-calendar-event-request]]\n== {api-request-title}\n\n`POST _ml/calendars/<calendar_id>/events`\n\n[[ml-post-calendar-event-prereqs]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the\n`machine_learning_admin` built-in role.\n\n[[ml-post-calendar-event-desc]]\n== {api-description-title}\n\nThis API accepts a list of\n{ml-docs}/ml-ad-run-jobs.html#ml-ad-calendars[scheduled events], each\nof which must have a start time, end time, and description.\n\n[[ml-post-calendar-event-path-parms]]\n== {api-path-parms-title}\n\n`<calendar_id>`::\n(Required, string)\ninclude::../../ml-shared.asciidoc[tag=calendar-id]\n\n[role=\"child_attributes\"]\n[[ml-post-calendar-event-request-body]]\n== {api-request-body-title}\n\n`events`::\n(Required, array) A list of one of more scheduled events. The event's start and\nend times may be specified as integer milliseconds since the epoch or as a\nstring in ISO 8601 format.\n+\n.Properties of events\n[%collapsible%open]\n====\n`description`:::\n(Optional, string) A description of the scheduled event.\n\n`end_time`:::\n(Required, date) The timestamp for the end of the scheduled event in\nmilliseconds since the epoch or ISO 8601 format.\n\n`start_time`:::\n(Required, date) The timestamp for the beginning of the scheduled event in\nmilliseconds since the epoch or ISO 8601 format.\n\n`skip_results`:::\n(Optional, Boolean) If `true`, the results during the scheduled event are not created.\nThe default value is `true`.\n\n`skip_model_update`:::\n(Optional, Boolean) If `true`, the model is not updated during the scheduled event.\nThe default value is `true`.\n\n`force_time_shift`:::\n(Optional, integer) Allows you to shift the time within the anomaly detector\nby a specified number of seconds in a specified direction. This is useful to quickly\nadjust to known Daylight Saving Time (DST) events. For example, to account for a\none-hour backward time shift during the fall DST event, use a value of `-3600`.\nThe parameter is not set by default. The time is shifted once at the beginning of the\nscheduled event. The shift is measured in seconds.\n====\n\n[[ml-post-calendar-event-example]]\n== {api-examples-title}\n\n[source,console]\n--------------------------------------------------\nPOST _ml/calendars/planned-outages/events\n{\n  \"events\" : [\n    {\"description\": \"event 1\", \"start_time\": 1513641600000, \"end_time\": 1513728000000},\n    {\"description\": \"event 2\", \"start_time\": 1513814400000, \"end_time\": 1513900800000},\n    {\"description\": \"event 3\", \"start_time\": 1514160000000, \"end_time\": 1514246400000}\n  ]\n}\n--------------------------------------------------\n// TEST[skip:setup:calendar_outages_addjob]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n  \"events\": [\n    {\n      \"description\": \"event 1\",\n      \"start_time\": 1513641600000,\n      \"end_time\": 1513728000000,\n      \"skip_result\": true,\n      \"skip_model_update\": true,\n      \"calendar_id\": \"planned-outages\"\n    },\n    {\n      \"description\": \"event 2\",\n      \"start_time\": 1513814400000,\n      \"end_time\": 1513900800000,\n      \"skip_result\": true,\n      \"skip_model_update\": true,\n      \"calendar_id\": \"planned-outages\"\n    },\n    {\n      \"description\": \"event 3\",\n      \"start_time\": 1514160000000,\n      \"end_time\": 1514246400000,\n      \"skip_result\": true,\n      \"skip_model_update\": true,\n      \"calendar_id\": \"planned-outages\"\n    }\n  ]\n}\n----\n\n[source,console]\n--------------------------------------------------\nPOST _ml/calendars/dst-germany/events\n{\n  \"events\" : [\n    {\"description\": \"Fall 2024\", \"start_time\": 1729994400000, \"end_time\": 1730167200000, \"skip_result\": false, \"skip_model_update\": false, \"force_time_shift\": -3600},\n    {\"description\": \"Spring 2025\", \"start_time\": 1743296400000, \"end_time\": 1743469200000, \"skip_result\": false, \"skip_model_update\": false, \"force_time_shift\": 3600}\n  ]\n}\n--------------------------------------------------\n// TEST[skip:setup:calendar_dst_addjob]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n  \"events\": [\n    {\n      \"description\": \"Fall 2024\",\n      \"start_time\": 1729994400000,\n      \"end_time\": 1730167200000,\n      \"skip_result\": false,\n      \"skip_model_update\": false,\n      \"force_time_shift\": -3600,\n      \"calendar_id\": \"dst-germany\"\n    },\n    {\n      \"description\": \"Spring 2025\",\n      \"start_time\": 1743296400000,\n      \"end_time\": 1743469200000,\n      \"skip_result\": false,\n      \"skip_model_update\": false,\n      \"force_time_shift\": 3600,\n      \"calendar_id\": \"dst-germany\"\n    }\n  ]\n}\n----\n"
}