{
    "meta": {
        "size": 3551,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/searchable-snapshots-api-mount-snapshot.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "searchable-snapshots-api-mount-snapshot",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[searchable-snapshots-api-mount-snapshot]]\n=== Mount snapshot API\n++++\n<titleabbrev>Mount snapshot</titleabbrev>\n++++\n\nMount a snapshot as a searchable snapshot index.\n\n[[searchable-snapshots-api-mount-request]]\n==== {api-request-title}\n\n`POST /_snapshot/<repository>/<snapshot>/_mount`\n\n[[searchable-snapshots-api-mount-prereqs]]\n==== {api-prereq-title}\n\nIf the {es} {security-features} are enabled, you must have the\n`manage` cluster privilege and the `manage` index privilege\nfor any included indices to use this API.\nFor more information, see <<security-privileges>>.\n\n[[searchable-snapshots-api-mount-desc]]\n==== {api-description-title}\n\nThis API mounts a snapshot as a searchable snapshot index. \n\nDon't use this API for snapshots managed by {ilm-init}. Manually mounting\n{ilm-init}-managed snapshots can <<manually-mounting-snapshots,interfere>> with\n<<index-lifecycle-management,{ilm-init} processes>>.\n\n[[searchable-snapshots-api-mount-path-params]]\n==== {api-path-parms-title}\n\n`<repository>`::\n(Required, string)\nThe name of the repository containing\nthe snapshot of the index to mount.\n\n`<snapshot>`::\n(Required, string)\nThe name of the snapshot of the index\nto mount.\n\n[[searchable-snapshots-api-mount-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n\n`wait_for_completion`::\n(Optional, Boolean) If `true`, the request blocks until the operation is complete.\nDefaults to `false`.\n\n`storage`::\n+\n--\n(Optional, string)\n<<searchable-snapshot-mount-storage-options,Mount option>> for the\n{search-snap} index. Possible values are:\n\n`full_copy` (Default):::\n<<fully-mounted,Fully mounted index>>.\n\n`shared_cache`:::\n<<partially-mounted,Partially mounted index>>.\n--\n\n[[searchable-snapshots-api-mount-request-body]]\n==== {api-request-body-title}\n\n`index`::\n(Required, string)\nName of the index contained in the snapshot\nwhose data is to be mounted.\n\nIf no `renamed_index` is specified this name\nwill also be used to create the new index.\n\n`renamed_index`::\n+\n--\n(Optional, string)\nName of the index that will be created.\n--\n\n`index_settings`::\n+\n--\n(Optional, object)\nSettings that should be added to the index when it is mounted.\n--\n\n`ignore_index_settings`::\n+\n--\n(Optional, array of strings)\nNames of settings that should be removed from the index when it is mounted.\n--\n\n[[searchable-snapshots-api-mount-example]]\n==== {api-examples-title}\n////\n[source,console]\n-----------------------------------\nPUT /my_docs\n{\n  \"settings\" : {\n    \"index.number_of_shards\" : 1,\n    \"index.number_of_replicas\" : 0\n  }\n}\n\nPUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n{\n  \"include_global_state\": false,\n  \"indices\": \"my_docs\"\n}\n\nDELETE /my_docs\n-----------------------------------\n// TEST[setup:setup-repository]\n////\n\nMounts the index `my_docs` from an existing snapshot named `my_snapshot` stored\nin the `my_repository` as a new index `docs`:\n\n[source,console]\n--------------------------------------------------\nPOST /_snapshot/my_repository/my_snapshot/_mount?wait_for_completion=true\n{\n  \"index\": \"my_docs\", <1>\n  \"renamed_index\": \"docs\", <2>\n  \"index_settings\": { <3>\n    \"index.number_of_replicas\": 0\n  },\n  \"ignore_index_settings\": [ \"index.refresh_interval\" ] <4>\n}\n--------------------------------------------------\n// TEST[continued]\n\n<1> The name of the index in the snapshot to mount\n<2> The name of the index to create\n<3> Any index settings to add to the new index\n<4> List of index settings to ignore when mounting the snapshotted index\n"
}