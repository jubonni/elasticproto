{
    "meta": {
        "size": 2321,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-clear-service-token-caches.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "security-api-clear-service-token-caches",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[security-api-clear-service-token-caches]]\n=== Clear service account token caches API\n\n++++\n<titleabbrev>Clear service account token caches</titleabbrev>\n++++\n\nEvicts a subset of all entries from the  <<service-accounts,service account>>\ntoken caches.\n\n[[security-api-clear-service-token-caches-request]]\n==== {api-request-title}\n\n`POST /_security/service/{namespace}/{service}/credential/token/{token_name}/_clear_cache`\n\n[[security-api-clear-service-token-caches-prereqs]]\n==== {api-prereq-title}\n\n* To use this API, you must have at least the `manage_security`\n<<privileges-list-cluster,cluster privilege>>.\n\n[[security-api-clear-service-token-caches-desc]]\n==== {api-description-title}\nTwo, separate caches exist for service account tokens: one cache for tokens\nbacked by the `service_tokens` file, and another for tokens backed by the\n`.security` index. This API clears matching entries from both caches.\n\nThe cache for service account tokens backed by the `.security` index is cleared\nautomatically on state changes of the security index. The cache for tokens\nbacked by the `service_tokens` file is cleared automatically on file changes.\n\nSee <<service-accounts,Service accounts>> for more information.\n\n[[security-api-clear-service-token-caches-path-params]]\n==== {api-path-parms-title}\n\n`namespace`::\n(Required, string) Name of the namespace.\n\n`service`::\n(Required, string) Name of the service name.\n\n`token_name`::\n(Required, string) Comma-separated list of token names to evict from the\nservice account token caches. Use a wildcard (`*`) to evict all tokens that\nbelong to a service account. Does not support other wildcard patterns.\n\n[[security-api-clear-service-token-caches-example]]\n==== {api-examples-title}\nThe following request clears the service account token cache for the `token1`\ntoken:\n\n[source,console]\n----\nPOST /_security/service/elastic/fleet-server/credential/token/token1/_clear_cache\n----\n\nSpecify multiple token names as a comma-separated list:\n\n[source,console]\n----\nPOST /_security/service/elastic/fleet-server/credential/token/token1,token2/_clear_cache\n----\n\nTo clear all entries from the service account token caches, use a wildcard\n(`*`) in place of token names:\n\n[source,console]\n----\nPOST /_security/service/elastic/fleet-server/credential/token/*/_clear_cache\n----\n"
}