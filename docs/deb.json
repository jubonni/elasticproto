{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.353582",
        "size": 7810,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/deb.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "deb",
        "version": "8.15"
    },
    "doc": "[[deb]]\n=== Install Elasticsearch with Debian Package\n\n:include-xpack: true\n\nThe Debian package for Elasticsearch can be <<install-deb,downloaded from our website>>\nor from our <<deb-repo,APT repository>>. It can be used to install\nElasticsearch on any Debian-based system such as Debian and Ubuntu.\n\ninclude::license.asciidoc[]\n\nThe latest stable version of Elasticsearch can be found on the\nlink:/downloads/elasticsearch[Download Elasticsearch] page. Other versions can\nbe found on the link:/downloads/past-releases[Past Releases page].\n\nNOTE: Elasticsearch includes a bundled version of https://openjdk.java.net[OpenJDK]\nfrom the JDK maintainers (GPLv2+CE). To use your own version of Java,\nsee the <<jvm-version, JVM version requirements>>\n\n[[deb-key]]\n==== Import the Elasticsearch PGP Key\n\ninclude::key.asciidoc[]\n\n[source,sh]\n-------------------------\nwget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /usr/share/keyrings/elasticsearch-keyring.gpg\n-------------------------\n\n[[deb-repo]]\n==== Installing from the APT repository\n\nifeval::[\"{release-state}\"==\"unreleased\"]\n\nWARNING: Version {version} of Elasticsearch has not yet been released.\n\nendif::[]\n\nYou may need to install the `apt-transport-https` package on Debian before proceeding:\n\n[source,sh]\n--------------------------------------------------\nsudo apt-get install apt-transport-https\n--------------------------------------------------\n\nSave the repository definition to  +/etc/apt/sources.list.d/elastic-{major-version}.list+:\n\nifeval::[\"{release-state}\"==\"released\"]\n\n[\"source\",\"sh\",subs=\"attributes,callouts\"]\n--------------------------------------------------\necho \"deb [signed-by=/usr/share/keyrings/elasticsearch-keyring.gpg] https://artifacts.elastic.co/packages/{major-version}/apt stable main\" | sudo tee /etc/apt/sources.list.d/elastic-{major-version}.list\n--------------------------------------------------\n\nifeval::[\"{release-state}\"==\"prerelease\"]\n\n[\"source\",\"sh\",subs=\"attributes,callouts\"]\n--------------------------------------------------\necho \"deb [signed-by=/usr/share/keyrings/elasticsearch-keyring.gpg] https://artifacts.elastic.co/packages/{major-version}-prerelease/apt stable main\" | sudo tee /etc/apt/sources.list.d/elastic-{major-version}.list\n--------------------------------------------------\n\nendif::[]\n\n\n[NOTE]\n==================================================\n\nThese instructions do not use `add-apt-repository` for several reasons:\n\n. `add-apt-repository` adds entries to the system `/etc/apt/sources.list` file\n  rather than a clean per-repository file in `/etc/apt/sources.list.d`\n. `add-apt-repository` is not part of the default install on many distributions\n  and requires a number of non-default dependencies.\n. Older versions of `add-apt-repository` always add a `deb-src` entry which\n  will cause errors because we do not provide a source package. If you have added\n  the `deb-src` entry, you will see an error like the following until you delete\n  the `deb-src` line:\n\n    Unable to find expected entry 'main/source/Sources' in Release file\n    (Wrong sources.list entry or malformed file)\n\n==================================================\n\nYou can install the Elasticsearch Debian package with:\n\n[source,sh]\n--------------------------------------------------\nsudo apt-get update && sudo apt-get install elasticsearch\n--------------------------------------------------\n\n[WARNING]\n==================================================\nIf two entries exist for the same Elasticsearch repository, you will see an error like this during `apt-get update`:\n\n[\"literal\",subs=\"attributes,callouts\"]\n\nDuplicate sources.list entry https://artifacts.elastic.co/packages/{major-version}/apt/ ...`\n\nExamine +/etc/apt/sources.list.d/elasticsearch-{major-version}.list+ for the duplicate entry or locate the duplicate entry amongst the files in `/etc/apt/sources.list.d/` and the `/etc/apt/sources.list` file.\n==================================================\n\nendif::[]\n\ninclude::skip-set-kernel-parameters.asciidoc[]\n\n[[install-deb]]\n==== Download and install the Debian package manually\n\nifeval::[\"{release-state}\"==\"unreleased\"]\n\nWARNING: Version {version} of Elasticsearch has not yet been released. The package might not be available.\n\nendif::[]\n\nThe Debian package for Elasticsearch v{version} can be downloaded from the website and installed as follows:\n\n[\"source\",\"sh\",subs=\"attributes\"]\n--------------------------------------------\nwget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-{version}-amd64.deb\nwget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-{version}-amd64.deb.sha512\nshasum -a 512 -c elasticsearch-{version}-amd64.deb.sha512 <1>\nsudo dpkg -i elasticsearch-{version}-amd64.deb\n--------------------------------------------\n<1> Compares the SHA of the downloaded Debian package and the published checksum, which should output\n    `elasticsearch-{version}-amd64.deb: OK`.\n\n// Set a `distro` attribute so we can reuse files containing anchors\n:distro: deb\n[id=\"deb-security-configuration\"]\ninclude::package-security.asciidoc[]\n\nifdef::include-xpack[]\n[role=\"xpack\"]\n[[deb-enable-indices]]\n==== Enable automatic creation of system indices\n\ninclude::xpack-indices.asciidoc[]\n\nendif::include-xpack[]\n\n[id=\"{distro}-running-systemd\"]\ninclude::systemd.asciidoc[]\n\n[[deb-check-running]]\n\n:es-conf:       /etc/elasticsearch\n:slash:        /\n\ninclude::check-running.asciidoc[]\n\n[[deb-configuring]]\n==== Configuring Elasticsearch\n\ninclude::etc-elasticsearch.asciidoc[]\n\nThe Debian package also has a system configuration file (`/etc/default/elasticsearch`),\nwhich allows you to set the following parameters:\n\ninclude::sysconfig-file.asciidoc[]\n\nNOTE: Distributions that use `systemd` require that system resource limits be\nconfigured via `systemd` rather than via the `/etc/sysconfig/elasticsearch`\nfile. See <<systemd>> for more information.\n\ninclude::connect-clients.asciidoc[]\n\n[[deb-layout]]\n==== Directory layout of Debian package\n\nThe Debian package places config files, logs, and the data directory in the appropriate\nlocations for a Debian-based system:\n\n\n[cols=\"<h,<,<m,<m\",options=\"header\",]\n|=======================================================================\n| Type | Description | Default Location | Setting\n| home\n  | Elasticsearch home directory or `$ES_HOME`\n  | /usr/share/elasticsearch\n d|\n\n| bin\n  | Binary scripts including `elasticsearch` to start a node\n    and `elasticsearch-plugin` to install plugins\n  | /usr/share/elasticsearch/bin\n d|\n\n| conf\n  | Configuration files including `elasticsearch.yml`\n  | /etc/elasticsearch\n  | <<config-files-location,ES_PATH_CONF>>\n\n| conf\n  | Environment variables including heap size, file descriptors.\n  | /etc/default/elasticsearch\n d|\n\n| conf\n| Generated TLS keys and certificates for the transport and http layer.\n| /etc/elasticsearch/certs\nd|\n\n| data\n  | The location of the data files of each index / shard allocated\n    on the node.\n  | /var/lib/elasticsearch\n  | path.data\n\n| jdk\n  | The bundled Java Development Kit used to run Elasticsearch. Can\n    be overridden by setting the `ES_JAVA_HOME` environment variable\n    in `/etc/default/elasticsearch`.\n  | /usr/share/elasticsearch/jdk\n d|\n\n| logs\n  | Log files location.\n  | /var/log/elasticsearch\n  | path.logs\n\n| plugins\n  | Plugin files location. Each plugin will be contained in a subdirectory.\n  | /usr/share/elasticsearch/plugins\n  |\n\n| repo\n  | Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.\n d| Not configured\n  | path.repo\n\n|=======================================================================\n\ninclude::security-files-reference.asciidoc[]\ninclude::next-steps.asciidoc[]\n"
}