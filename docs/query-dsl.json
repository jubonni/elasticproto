{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.256579",
        "size": 3157,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "query-dsl",
        "version": "8.15"
    },
    "doc": "[[query-dsl]]\n= Query DSL\n\n[partintro]\n--\n\nElasticsearch provides a full Query DSL (Domain Specific Language) based on JSON to define queries.\nThink of the Query DSL as an AST (Abstract Syntax Tree) of queries, consisting of two types of clauses:\n\nLeaf query clauses::\n\nLeaf query clauses look for a particular value in a particular field, such as the\n<<query-dsl-match-query,`match`>>, <<query-dsl-term-query,`term`>> or\n<<query-dsl-range-query,`range`>> queries.\nThese queries can be used by themselves.\n\nCompound query clauses::\n\nCompound query clauses wrap other leaf *or* compound queries and are used to combine multiple queries in a logical fashion (such as the\n<<query-dsl-bool-query,`bool`>> or <<query-dsl-dis-max-query,`dis_max`>> query), or to alter their behaviour (such as the\n<<query-dsl-constant-score-query,`constant_score`>> query).\n\nQuery clauses behave differently depending on whether they are used in\n<<query-filter-context,query context or filter context>>.\n\n[[query-dsl-allow-expensive-queries]]\nAllow expensive queries::\nCertain types of queries will generally execute slowly due to the way they are implemented, which can affect the stability of the cluster.\nThose queries can be categorised as follows:\n\n* Queries that need to do linear scans to identify matches:\n** <<query-dsl-script-query,`script` queries>>\n** queries on <<number,numeric>>, <<date,date>>, <<boolean,boolean>>, <<ip,ip>>,\n<<geo-point,geo_point>> or <<keyword,keyword>> fields that are not indexed but have <<doc-values,doc values>> enabled\n\n* Queries that have a high up-front cost:\n** <<query-dsl-fuzzy-query,`fuzzy` queries>> (except on\n<<wildcard-field-type,`wildcard`>> fields)\n** <<query-dsl-regexp-query,`regexp` queries>> (except on\n<<wildcard-field-type,`wildcard`>> fields)\n** <<query-dsl-prefix-query,`prefix` queries>>  (except on\n<<wildcard-field-type,`wildcard`>> fields or those without\n<<index-prefixes,`index_prefixes`>>)\n** <<query-dsl-wildcard-query,`wildcard` queries>> (except on\n<<wildcard-field-type,`wildcard`>> fields)\n** <<query-dsl-range-query,`range` queries>> on <<text,`text`>> and\n<<keyword,`keyword`>> fields\n\n* <<joining-queries,Joining queries>>\n\n* Queries that may have a high per-document cost:\n** <<query-dsl-script-score-query,`script_score` queries>>\n** <<query-dsl-percolate-query,`percolate` queries>>\n\nThe execution of such queries can be prevented by setting the value of the `search.allow_expensive_queries`\nsetting to `false` (defaults to `true`).\n--\n\ninclude::query-dsl/query_filter_context.asciidoc[]\n\ninclude::query-dsl/compound-queries.asciidoc[]\n\ninclude::query-dsl/full-text-queries.asciidoc[]\n\ninclude::query-dsl/geo-queries.asciidoc[]\n\ninclude::query-dsl/shape-queries.asciidoc[]\n\ninclude::query-dsl/joining-queries.asciidoc[]\n\ninclude::query-dsl/match-all-query.asciidoc[]\n\ninclude::query-dsl/span-queries.asciidoc[]\n\ninclude::query-dsl/vector-queries.asciidoc[]\n\ninclude::query-dsl/special-queries.asciidoc[]\n\ninclude::query-dsl/term-level-queries.asciidoc[]\n\ninclude::query-dsl/minimum-should-match.asciidoc[]\n\ninclude::query-dsl/multi-term-rewrite.asciidoc[]\n\ninclude::query-dsl/regexp-syntax.asciidoc[]\n"
}