{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.489273",
        "size": 3207,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/update-connector-api-key-id-api.html",
        "type": "documentation",
        "role": [
            "child_attributes"
        ],
        "has_code": true,
        "title": "update-connector-api-key-id-api",
        "version": "8.15"
    },
    "doc": "[[update-connector-api-key-id-api]]\n=== Update connector API key ID API\n++++\n<titleabbrev>Update connector API key id</titleabbrev>\n++++\n\nbeta::[]\n\nUpdates the `api_key_id` and/or `api_key_secret_id` field(s) of a connector, specifying:\n\n. The ID of the API key used for authorization\n. The ID of the Connector Secret where the API key is stored\n\nThe Connector Secret ID is only required for Elastic managed connectors.\nSelf-managed connectors do not use this field.\nSee the documentation for <<es-native-connectors-manage-API-keys-programmatically,programmatically managed connector API keys>> for more details.\n\nTo get started with Connector APIs, check out <<es-connectors-tutorial-api, our tutorial>>.\n\n\n[[update-connector-api-key-id-api-request]]\n==== {api-request-title}\n\n`PUT _connector/<connector_id>/_api_key_id`\n\n[[update-connector-api-key-id-api-prereq]]\n==== {api-prereq-title}\n\n* To sync data using self-managed connectors, you need to deploy the <<es-connectors-deploy-connector-service,Elastic connector service>>. on your own infrastructure. This service runs automatically on Elastic Cloud for Elastic managed connectors.\n* The `connector_id` parameter should reference an existing connector.\n* The `api_key_id` parameter should reference an existing API key.\n* The `api_key_secret_id` parameter should reference an existing Connector Secret containing an encoded API key value.\n\n[[update-connector-api-key-id-api-path-params]]\n==== {api-path-parms-title}\n\n`<connector_id>`::\n(Required, string)\n\n[role=\"child_attributes\"]\n[[update-connector-api-key-id-api-request-body]]\n==== {api-request-body-title}\n\n`api_key_id`::\n(Optional, string) ID of the API key that the connector will use to authorize access to required indices. Each connector can be associated with at most one API key.\n\n`api_key_secret_id`::\n(Optional, string) ID of the Connector Secret that contains the encoded API key. This should be the same API key as `api_key_id` references. This is only required for Elastic managed connectors.\n\n[[update-connector-api-key-id-api-response-codes]]\n==== {api-response-codes-title}\n\n`200`::\nConnector `api_key_id` and/or `api_key_secret_id` field(s) successfully updated.\n\n`400`::\nThe `connector_id` was not provided or the request payload was malformed.\n\n`404` (Missing resources)::\nNo connector matching `connector_id` could be found.\n\n[[update-connector-api-key-id-api-example]]\n==== {api-examples-title}\n\nThe following example updates the `api_key_id` and `api_key_secret_id` field(s) for the connector with ID `my-connector`:\n\n////\n[source, console]\n--------------------------------------------------\nPUT _connector/my-connector\n{\n  \"index_name\": \"search-google-drive\",\n  \"name\": \"My Connector\",\n  \"service_type\": \"google_drive\"\n}\n--------------------------------------------------\n// TESTSETUP\n\n[source,console]\n--------------------------------------------------\nDELETE _connector/my-connector\n--------------------------------------------------\n// TEARDOWN\n////\n\n[source,console]\n----\nPUT _connector/my-connector/_api_key_id\n{\n    \"api_key_id\": \"my-api-key-id\",\n    \"api_key_secret_id\": \"my-connector-secret-id\"\n}\n----\n\n[source,console-result]\n----\n{\n    \"result\": \"updated\"\n}\n----\n"
}