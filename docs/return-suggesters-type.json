{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.957585",
        "size": 2309,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/return-suggesters-type.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "return-suggesters-type",
        "version": "8.15"
    },
    "doc": "[[return-suggesters-type]]\n==== Returning the type of the suggester\n\nSometimes you need to know the exact type of a suggester in order to parse its results. The `typed_keys` parameter\n can be used to change the suggester's name in the response so that it will be prefixed by its type.\n\nConsidering the following example with two suggesters `term` and `phrase`:\n\n[source,console]\n--------------------------------------------------\nPOST _search?typed_keys\n{\n  \"suggest\": {\n    \"text\" : \"some test mssage\",\n    \"my-first-suggester\" : {\n      \"term\" : {\n        \"field\" : \"message\"\n      }\n    },\n    \"my-second-suggester\" : {\n      \"phrase\" : {\n        \"field\" : \"message\"\n      }\n    }\n  }\n}\n--------------------------------------------------\n// TEST[setup:messages]\n\nIn the response, the suggester names will be changed to respectively `term#my-first-suggester` and\n`phrase#my-second-suggester`, reflecting the types of each suggestion:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"suggest\": {\n    \"term#my-first-suggester\": [ <1>\n      {\n        \"text\": \"some\",\n        \"offset\": 0,\n        \"length\": 4,\n        \"options\": []\n      },\n      {\n        \"text\": \"test\",\n        \"offset\": 5,\n        \"length\": 4,\n        \"options\": []\n      },\n      {\n        \"text\": \"mssage\",\n        \"offset\": 10,\n        \"length\": 6,\n        \"options\": [\n          {\n            \"text\": \"message\",\n            \"score\": 0.8333333,\n            \"freq\": 4\n          }\n        ]\n      }\n    ],\n    \"phrase#my-second-suggester\": [ <2>\n      {\n        \"text\": \"some test mssage\",\n        \"offset\": 0,\n        \"length\": 16,\n        \"options\": [\n          {\n            \"text\": \"some test message\",\n            \"score\": 0.030227963\n          }\n        ]\n      }\n    ]\n  },\n  ...\n}\n--------------------------------------------------\n// TESTRESPONSE[s/\\.\\.\\./\"took\": \"$body.took\", \"timed_out\": false, \"_shards\": \"$body._shards\", \"hits\": \"$body.hits\"/]\n// TESTRESPONSE[s/\"score\": 0.8333333/\"score\": $body.suggest.term#my-first-suggester.2.options.0.score/]\n// TESTRESPONSE[s/\"score\": 0.030227963/\"score\": $body.suggest.phrase#my-second-suggester.0.options.0.score/]\n\n<1> The name `my-first-suggester` now contains the `term` prefix.\n<2> The name `my-second-suggester` now contains the `phrase` prefix.\n"
}