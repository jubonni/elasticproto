{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.885580",
        "size": 980,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/vm-max-map-count.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "vm-max-map-count",
        "version": "8.15"
    },
    "doc": "[[vm-max-map-count]]\n=== Virtual memory\n\nElasticsearch uses a <<mmapfs,`mmapfs`>> directory by\ndefault to store its indices. The default operating system limits on mmap\ncounts is likely to be too low, which may result in out of memory exceptions.\n\nOn Linux, you can increase the limits by running the following command as\n`root`:\n\n[source,sh]\n-------------------------------------\nsysctl -w vm.max_map_count=262144\n-------------------------------------\n\nTo set this value permanently, update the `vm.max_map_count` setting in\n`/etc/sysctl.conf`. To verify after rebooting, run `sysctl vm.max_map_count`.\n\nThe RPM and Debian packages will configure this setting automatically. No\nfurther configuration is required.\n\nYou can find out the current mmap count of a running Elasticsearch process\nusing the following command, where `$PID` is the process ID of the running\nElasticsearch process:\n[source,sh]\n----------------------------\nwc -l /proc/$PID/maps\n----------------------------\n"
}