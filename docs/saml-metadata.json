{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.403588",
        "size": 5291,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/saml-metadata.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "saml-metadata",
        "version": "8.15"
    },
    "doc": "[[saml-metadata]]\n== elasticsearch-saml-metadata\n\nThe `elasticsearch-saml-metadata` command can be used to generate a SAML 2.0 Service\nProvider Metadata file.\n\n[discrete]\n=== Synopsis\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-saml-metadata\n[--realm <name>]\n[--out <file_path>] [--batch] \n[--attribute <name>] [--service-name <name>]\n[--locale <name>] [--contacts]\n([--organisation-name <name>] [--organisation-display-name <name>] [--organisation-url <url>])\n([--signing-bundle <file_path>] | [--signing-cert <file_path>][--signing-key <file_path>])\n[--signing-key-password <password>]\n[-E <KeyValuePair>]\n[-h, --help] ([-s, --silent] | [-v, --verbose])\n--------------------------------------------------\n\n[discrete]\n=== Description\n\nThe SAML 2.0 specification provides a mechanism for Service Providers to\ndescribe their capabilities and configuration using a _metadata file_.\n\nThe `elasticsearch-saml-metadata` command generates such a file, based on the\nconfiguration of a SAML realm in {es}.\n\nSome SAML Identity Providers will allow you to automatically import a metadata\nfile when you configure the Elastic Stack as a Service Provider.\n\nYou can optionally select to digitally sign the metadata file in order to\nensure its integrity and authenticity before sharing it with the Identity Provider.\nThe key used for signing the metadata file need not necessarily be the same as\nthe keys already used in the saml realm configuration for SAML message signing.\n\nIf your {es} keystore is password protected, you\nare prompted to enter the password when you run the\n`elasticsearch-saml-metadata` command.\n\n[discrete]\n[[saml-metadata-parameters]]\n=== Parameters\n\n`--attribute <name>`:: Specifies a SAML attribute that should be\nincluded as a `<RequestedAttribute>` element in the metadata. Any attribute\nconfigured in the {es} realm is automatically included and does not need to be\nspecified as a commandline option.\n\n`--batch`:: Do not prompt for user input.\n\n`--contacts`:: Specifies that the metadata should include one or more\n`<ContactPerson>` elements. The user will be prompted to enter the details for\neach person.\n\n`-E <KeyValuePair>`:: Configures an {es} setting.\n\n`-h, --help`:: Returns all of the command parameters.\n\n`--locale <name>`:: Specifies the locale to use for metadata elements such as\n`<ServiceName>`. Defaults to the JVM's default system locale.\n\n`--organisation-display-name <name`:: Specified the value of the\n`<OrganizationDisplayName>` element.\nOnly valid if `--organisation-name` is also specified.\n\n`--organisation-name <name>`:: Specifies that an `<Organization>` element should\nbe included in the metadata and provides the value for the `<OrganizationName>`.\nIf this is specified, then `--organisation-url` must also be specified.\n\n`--organisation-url <url>`:: Specifies the value of the `<OrganizationURL>`\nelement. This is required if `--organisation-name` is specified.\n\n`--out <file_path>`:: Specifies a path for the output files.\nDefaults to `saml-elasticsearch-metadata.xml`\n\n`--service-name <name>`:: Specifies the value for the `<ServiceName>` element in\nthe metadata. Defaults to `elasticsearch`.\n\n`--signing-bundle <file_path>`:: Specifies the path to an existing key pair\n(in PKCS#12 format). The private key of that key pair will be used to sign\nthe metadata file.\n\n`--signing-cert <file_path>`:: Specifies the path to an existing certificate (in\nPEM format) to be used for signing of the metadata file. You must also specify\nthe `--signing-key` parameter. This parameter cannot be used with the\n`--signing-bundle` parameter.\n\n`--signing-key <file_path>`:: Specifies the path to an existing key (in PEM format)\nto be used for signing of the metadata file. You must also specify the\n`--signing-cert` parameter. This parameter cannot be used with the\n`--signing-bundle` parameter.\n\n`--signing-key-password <password>`:: Specifies the password for the signing key.\nIt can be used with either the `--signing-key` or the `--signing-bundle` parameters.\n\n`--realm <name>`:: Specifies the name of the realm for which the metadata\nshould be generated. This parameter is required if there is more than 1 `saml`\nrealm in your {es} configuration.\n\n`-s, --silent`:: Shows minimal output.\n\n`-v, --verbose`:: Shows verbose output.\n\n[discrete]\n=== Examples\n\nThe following command generates a default metadata file for the `saml1` realm:\n\n[source, sh]\n--------------------------------------------------\nbin/elasticsearch-saml-metadata --realm saml1\n--------------------------------------------------\n\nThe file will be written to `saml-elasticsearch-metadata.xml`.\nYou may be prompted to provide the \"friendlyName\" value for any attributes that\nare used by the realm.\n\nThe following command generates a metadata file for the `saml2` realm, with a\n`<ServiceName>` of `kibana-finance`, a locale of `en-GB` and includes \n`<ContactPerson>` elements and an `<Organization>` element:\n\n[source, sh]\n--------------------------------------------------\nbin/elasticsearch-saml-metadata --realm saml2 \\\n    --service-name kibana-finance \\\n    --locale en-GB \\\n    --contacts \\\n    --organisation-name \"Mega Corp. Finance Team\" \\\n    --organisation-url \"http://mega.example.com/finance/\"\n--------------------------------------------------\n\n"
}