{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.967272",
        "size": 2458,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/put-geoip-database-api.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "put-geoip-database-api",
        "version": "8.15"
    },
    "doc": "[[put-geoip-database-api]]\n=== Create or update geoip database configuration API\n++++\n<titleabbrev>Create or update geoip database configuration</titleabbrev>\n++++\n\nCreates or updates an IP geolocation database configuration.\n\nIMPORTANT: The Maxmind `account_id` shown below requires a license key. Because the license key is sensitive information,\nit is stored as a <<secure-settings,secure setting>> in {es} named `ingest.geoip.downloader.maxmind.license_key`. Only\none Maxmind license key is currently allowed per {es} cluster. A valid license key must be in the secure settings in order\nto download from Maxmind. The license key setting does not take effect until all nodes are restarted.\n\n[source,console]\n----\nPUT _ingest/geoip/database/my-database-id\n{\n  \"name\": \"GeoIP2-Domain\",\n  \"maxmind\": {\n    \"account_id\": \"1025402\"\n  }\n}\n----\n// TEST[skip:we don't want to leak the enterprise-geoip-downloader task, which touching these APIs would cause. Therefore, skip this test.]\n\n[[put-geoip-database-api-request]]\n==== {api-request-title}\n\n`PUT /_ingest/geoip/database/<database>`\n\n[[put-geoip-database-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the\n`manage` <<privileges-list-cluster,cluster privilege>> to use this API.\n\n\n[[put-geoip-database-api-path-params]]\n==== {api-path-parms-title}\n\n`<database>`::\n+\n__\n(Required, string) ID of the database configuration to create or update.\n\n[[put-geoip-database-api-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=timeoutparms]\n\n[[put-geoip-database-api-request-body]]\n==== {api-request-body-title}\n\n// tag::geoip-database-object[]\n`name`::\n(Required, string)\nThe provider-assigned name of the IP geolocation database to download.\n\n`<provider>`::\n(Required, a provider object and its associated configuration)\nThe configuration necessary to identify which IP geolocation provider to use to download\nthe database, as well as any provider-specific configuration necessary for such downloading.\n+\nAt present, the only supported provider is `maxmind`, and the maxmind provider\nrequires that an `account_id` (string) is configured.\n// end::geoip-database-object[]\n\n[[geoip-database-configuration-licensing]]\n==== Licensing\n\nDownloading databases from third party providers is a commercial feature that requires an\nappropriate license. For more information, refer to https://www.elastic.co/subscriptions.\n"
}