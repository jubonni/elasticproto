{
    "meta": {
        "timestamp": "2024-11-01T02:49:24.648078",
        "size": 6302,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/sql-cli.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "sql-cli",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[sql-cli]]\n== SQL CLI\n\nElasticsearch ships with a script to run the SQL CLI in its `bin` directory:\n\n[source,bash]\n--------------------------------------------------\n$ ./bin/elasticsearch-sql-cli\n--------------------------------------------------\n\nYou can pass the URL of the Elasticsearch instance to connect to as\nthe first parameter:\n\n[source,bash]\n--------------------------------------------------\n$ ./bin/elasticsearch-sql-cli https://some.server:9200\n--------------------------------------------------\n\nIf security is enabled on your cluster, you can pass the username\nand password in the form `username:password@host_name:port`\nto the SQL CLI:\n\n[source,bash]\n--------------------------------------------------\n$ ./bin/elasticsearch-sql-cli https://sql_user:strongpassword@some.server:9200\n--------------------------------------------------\n\nOnce the CLI is running you can use any <<sql-spec,query>> that\nElasticsearch supports:\n\n[source,sqlcli]\n--------------------------------------------------\nsql> SELECT * FROM library WHERE page_count > 500 ORDER BY page_count DESC;\n     author      |        name        |  page_count   | release_date\n-----------------+--------------------+---------------+---------------\nPeter F. Hamilton|Pandora's Star      |768            |1078185600000\nVernor Vinge     |A Fire Upon the Deep|613            |707356800000\nFrank Herbert    |Dune                |604            |-144720000000\nAlastair Reynolds|Revelation Space    |585            |953078400000\nJames S.A. Corey |Leviathan Wakes     |561            |1306972800000\n--------------------------------------------------\n// TODO it'd be lovely to be able to assert that this is correct but\n// that is probably more work then it is worth right now.\n\nThe jar containing the SQL CLI is a stand alone Java application and\nthe scripts just launch it. You can move it around to other machines\nwithout having to install Elasticsearch on them. Without the already\nprovided script files, you can use a command similar to the following\nto start the SQL CLI:\n\n[source,bash]\n--------------------------------------------------\n$ ./java -jar [PATH_TO_CLI_JAR]/elasticsearch-sql-cli-[VERSION].jar https://some.server:9200\n--------------------------------------------------\n\nor\n\n[source,bash]\n--------------------------------------------------\n$ ./java -cp [PATH_TO_CLI_JAR]/elasticsearch-sql-cli-[VERSION].jar org.elasticsearch.xpack.sql.cli.Cli https://some.server:9200\n--------------------------------------------------\n\nThe jar name will be different for each Elasticsearch version (for example `elasticsearch-sql-cli-7.3.2.jar`),\nthus the generic `VERSION` specified in the example above. Furthermore,\nif not running the command from the folder where the SQL CLI jar resides,\nyou'd have to provide the full path, as well.\n\n\n\n[[cli-commands]]\n[discrete]\n=== CLI commands\n\nApart from SQL queries, CLI can also execute some specific commands:\n\n\n`allow_partial_search_results = <boolean>` (default `false`)::\n\nIf `true`, returns partial results if there are shard request timeouts or\n<<shard-failures,shard failures>>. If `false`, returns an error with\nno partial results.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> allow_partial_search_results = true;\nallow_partial_search_results set to true\n--------------------------------------------------\n\n\n`fetch_size = <number>` (default `1000`)::\n\nAllows to change the size of fetches for query execution.\nEach fetch is delimited by fetch separator (if explicitly set).\n\n[source,sqlcli]\n--------------------------------------------------\nsql> fetch_size = 2000;\nfetch size set to 2000\n--------------------------------------------------\n\n\n\n`fetch_separator = <string>` (empty string by default)::\n\nAllows to change the separator string between fetches.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> fetch_separator = \"---------------------\";\nfetch separator set to \"---------------------\"\n--------------------------------------------------\n\n\n`lenient = <boolean>` (default `false`)::\n\nIf `false`, {es-sql} returns an error for fields containing <<array,array values>>.\nIf `true`, {es-sql} returns the first value from the array with no guarantee of consistent results.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> lenient = true;\nlenient set to true\n--------------------------------------------------\n\n\n\n`info`::\n\nReturns server information.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> info;\nNode:mynode Cluster:elasticsearch Version:8.3\n--------------------------------------------------\n\n\n\n\n`exit`::\n\nCloses the CLI.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> exit;\nBye!\n--------------------------------------------------\n\n\n\n`cls`::\n\nClears the screen.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> cls;\n--------------------------------------------------\n\n\n\n`logo`::\n\nPrints Elastic logo.\n\n[source,sqlcli]\n--------------------------------------------------\nsql> logo;\n\n                       asticElasticE\n                     ElasticE  sticEla\n          sticEl  ticEl            Elast\n        lasti Elasti                   tic\n      cEl       ast                     icE\n     icE        as                       cEl\n     icE        as                       cEl\n     icEla     las                        El\n   sticElasticElast                     icElas\n las           last                    ticElast\nEl              asti                 asti    stic\nEl              asticEla           Elas        icE\nEl            Elas  cElasticE   ticEl           cE\nEla        ticEl         ticElasti              cE\n las     astic               last              icE\n   sticElas                   asti           stic\n     icEl                      sticElasticElast\n     icE                       sticE   ticEla\n     icE                       sti       cEla\n     icEl                      sti        Ela\n      cEl                      sti       cEl\n       Ela                    astic    ticE\n         asti               ElasticElasti\n           ticElasti  lasticElas\n              ElasticElast\n\n                       SQL\n                      8.3.0\n\n--------------------------------------------------\n"
}