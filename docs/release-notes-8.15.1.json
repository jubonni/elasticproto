{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.616274",
        "size": 5657,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/release-notes-8.15.1.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "release-notes-8.15.1",
        "version": "8.15"
    },
    "doc": "[[release-notes-8.15.1]]\n== {es} version 8.15.1\n\nAlso see <<breaking-changes-8.15,Breaking changes in 8.15>>.\n\n[[known-issues-8.15.1]]\n[float]\n=== Known issues\n* Elasticsearch will not start if custom role mappings are configured using the\n`xpack.security.authc.realms.*.files.role_mapping` configuration option. As a workaround, custom role mappings\ncan be configured using the https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-put-role-mapping.html[REST API] (issue: {es-issue}112503[#112503])\n\n* ES|QL queries can lead to node crashes due to Out Of Memory errors when:\n** Multiple indices match the query pattern\n** These indices have many conflicting field mappings\n** Many of those fields are included in the request\nThese issues deplete heap memory, increasing the likelihood of OOM errors. (issue: {es-issue}111964[#111964], {es-issue}111358[#111358]).\nIn Kibana, you might indirectly execute these queries when using Discover, or adding a Field Statistics panel to a dashboard.\n+\nTo work around this issue, you have a number of options:\n** Downgrade to an earlier version\n** Upgrade to 8.15.2 upon release\n** Follow the instructions to\n<<esql-kibana-enable,disable ES|QL queries in {kib}>>\n** Change the default data view in Discover to a smaller set of indices and/or one with fewer mapping conflicts.\n\n* Index Stats, Node Stats and Cluster Stats API can return a null pointer exception if an index contains a `dense_vector` field\nbut there is an index segment that does not contain any documents with a dense vector field ({es-pull}112720[#112720]). Workarounds:\n** If the affected index already contains documents with a dense vector field, force merge the index to a single segment.\n** If the affected index does not already contain documents with a dense vector field, index a document with a dense vector field\nand then force merge to a single segment.\n** If the affected index's `dense_vector` fields are unused, reindex without the `dense_vector` fields.\n\n* Synthetic source bug. Synthetic source may fail generating the _source at runtime, causing failures in get APIs or\npartial failures in the search APIs. The result is that for the affected documents the _source can't be retrieved.\nThere is no workaround and the only option to is to upgrade to 8.15.2 when released.\n+\nIf you use synthetic source then you may be affected by this bug if the following is true:\n** If you have more fields then the `index.mapping.total_fields.limit` setting allows.\n** If you use dynamic mappings and the `index.mapping.total_fields.ignore_dynamic_beyond_limit` setting is enabled.\n\n[[bug-8.15.1]]\n[float]\n=== Bug fixes\n\nAggregations::\n* Revert \"Avoid bucket copies in Aggs\" {es-pull}111758[#111758] (issue: {es-issue}111679[#111679])\n\nAuthorization::\n* Fix DLS over Runtime Fields {es-pull}112260[#112260] (issue: {es-issue}111637[#111637])\n\nES|QL::\n* Avoid losing error message in failure collector {es-pull}111983[#111983] (issue: {es-issue}111894[#111894])\n* Avoid wrapping rejection exception in exchange {es-pull}112178[#112178] (issue: {es-issue}112106[#112106])\n* ESQL: Fix for overzealous validation in case of invalid mapped fields {es-pull}111475[#111475] (issue: {es-issue}111452[#111452])\n\nGeo::\n* Add maximum nested depth check to WKT parser {es-pull}111843[#111843]\n* Always check `crsType` when folding spatial functions {es-pull}112090[#112090] (issue: {es-issue}112089[#112089])\n* Fix NPE when executing doc value queries over shape geometries with empty segments {es-pull}112139[#112139]\n\nIndices APIs::\n* Fix template alias parsing livelock {es-pull}112217[#112217]\n\nInfra/Core::\n* Fix windows memory locking {es-pull}111866[#111866] (issue: {es-issue}111847[#111847])\n\nIngest Node::\n* Fixing incorrect bulk request took time {es-pull}111863[#111863] (issue: {es-issue}111854[#111854])\n* Improve performance of grok pattern cycle detection {es-pull}111947[#111947]\n\nLogs::\n* Merge multiple ignored source entires for the same field {es-pull}111994[#111994] (issue: {es-issue}111694[#111694])\n\nMachine Learning::\n* [Inference API] Move Delete inference checks to threadpool worker {es-pull}111646[#111646]\n\nMapping::\n* Check for valid `parentDoc` before retrieving its previous {es-pull}112005[#112005] (issue: {es-issue}111990[#111990])\n* Fix calculation of parent offset for ignored source in some cases {es-pull}112046[#112046]\n* Fix synthetic source for empty nested objects {es-pull}111943[#111943] (issue: {es-issue}111811[#111811])\n* No error when `store_array_source` is used without synthetic source {es-pull}111966[#111966]\n* Prevent synthetic field loaders accessing stored fields from using stale data {es-pull}112173[#112173] (issue: {es-issue}112156[#112156])\n\nRanking::\n* Properly handle filters on `TextSimilarityRank` retriever {es-pull}111673[#111673]\n\nRelevance::\n* Semantic reranking should fail whenever inference ID does not exist {es-pull}112038[#112038] (issue: {es-issue}111934[#111934])\n* [Bugfix] Add `accessDeclaredMembers` permission to allow search application templates to parse floats {es-pull}111285[#111285]\n\nSearch::\n* Explain Function Score Query {es-pull}111807[#111807]\n\nSecurity::\n* Fix \"unexpected field [remote_cluster]\" for CCS (RCS 1.0) when using API key that references `remote_cluster` {es-pull}112226[#112226]\n* Fix connection timeout for `OpenIdConnectAuthenticator` get Userinfo {es-pull}112230[#112230]\n\nVector Search::\n* Fix `NullPointerException` when doing knn search on empty index without dims {es-pull}111756[#111756] (issue: {es-issue}111733[#111733])\n* Speed up dense/sparse vector stats {es-pull}111729[#111729] (issue: {es-issue}111715[#111715])\n\n\n"
}