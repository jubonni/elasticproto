{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.655578",
        "size": 3442,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/get-query-ruleset.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "get-query-ruleset",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[get-query-ruleset]]\n=== Get query ruleset\n\n++++\n<titleabbrev>Get query ruleset</titleabbrev>\n++++\n\nRetrieves information about a query ruleset.\n\n[[get-query-ruleset-request]]\n==== {api-request-title}\n\n`GET _query_rules/<ruleset_id>`\n\n[[get-query-ruleset-prereq]]\n==== {api-prereq-title}\n\nRequires the `manage_search_query_rules` privilege.\n\n[[get-query-ruleset-path-params]]\n==== {api-path-parms-title}\n\n`<ruleset_id>`::\n(Required, string)\n\n[[get-query-ruleset-response-codes]]\n==== {api-response-codes-title}\n\n`400`::\nThe `ruleset_id` was not provided.\n\n`404` (Missing resources)::\nNo query ruleset matching `ruleset_id` could be found.\n\n[[get-query-ruleset-example]]\n==== {api-examples-title}\n\nThe following example gets the query ruleset named `my-ruleset`:\n\n////\n\n[source,console]\n--------------------------------------------------\nPUT _query_rules/my-ruleset\n{\n    \"rules\": [\n        {\n            \"rule_id\": \"my-rule1\",\n            \"type\": \"pinned\",\n            \"criteria\": [\n                {\n                    \"type\": \"contains\",\n                    \"metadata\": \"query_string\",\n                    \"values\": [ \"pugs\", \"puggles\" ]\n                }\n            ],\n            \"actions\": {\n                \"ids\": [\n                    \"id1\",\n                    \"id2\"\n                ]\n            }\n        },\n        {\n            \"rule_id\": \"my-rule2\",\n            \"type\": \"pinned\",\n            \"criteria\": [\n                {\n                    \"type\": \"fuzzy\",\n                    \"metadata\": \"query_string\",\n                    \"values\": [ \"rescue dogs\" ]\n                }\n            ],\n            \"actions\": {\n                \"docs\": [\n                    {\n                        \"_index\": \"index1\",\n                        \"_id\": \"id3\"\n                    },\n                    {\n                        \"_index\": \"index2\",\n                        \"_id\": \"id4\"\n                    }\n                ]\n            }\n        }\n    ]\n}\n--------------------------------------------------\n// TESTSETUP\n\n[source,console]\n--------------------------------------------------\nDELETE _query_rules/my-ruleset\n--------------------------------------------------\n// TEARDOWN\n\n////\n\n[source,console]\n----\nGET _query_rules/my-ruleset/\n----\n\nA sample response:\n\n[source,console-result]\n----\n{\n    \"ruleset_id\": \"my-ruleset\",\n    \"rules\": [\n        {\n            \"rule_id\": \"my-rule1\",\n            \"type\": \"pinned\",\n            \"criteria\": [\n                {\n                    \"type\": \"contains\",\n                    \"metadata\": \"query_string\",\n                    \"values\": [ \"pugs\", \"puggles\" ]\n                }\n            ],\n            \"actions\": {\n                \"ids\": [\n                    \"id1\",\n                    \"id2\"\n                ]\n            }\n        },\n        {\n            \"rule_id\": \"my-rule2\",\n            \"type\": \"pinned\",\n            \"criteria\": [\n                {\n                    \"type\": \"fuzzy\",\n                    \"metadata\": \"query_string\",\n                    \"values\": [ \"rescue dogs\" ]\n                }\n            ],\n            \"actions\": {\n                \"docs\": [\n                    {\n                        \"_index\": \"index1\",\n                        \"_id\": \"id3\"\n                    },\n                    {\n                        \"_index\": \"index2\",\n                        \"_id\": \"id4\"\n                    }\n                ]\n            }\n        }\n    ]\n}\n----\n"
}