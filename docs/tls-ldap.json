{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.736584",
        "size": 2402,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/tls-ldap.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "tls-ldap",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[tls-ldap]]\n==== Encrypting communications between {es} and LDAP\n\nTo protect the user credentials that are sent for authentication in an LDAP\nrealm, it's highly recommended to encrypt communications between {es} and your\nLDAP server. Connecting via SSL/TLS ensures that the identity of the LDAP server\nis authenticated before {es} transmits the user credentials and the\ncontents of the connection are encrypted. Clients and nodes that connect via\nTLS to the LDAP server need to have the LDAP server's certificate or the\nserver's root CA certificate installed in their keystore or truststore.\n\nFor more information, see <<ldap-realm>>.\n\n. Configure the realm's TLS settings on each node to trust certificates signed\nby the CA that signed your LDAP server certificates. The following example\ndemonstrates how to trust a CA certificate, `cacert.pem`, located within the\n{es} <<config-files-location,configuration directory>>:\n+\n--\n[source,shell]\n--------------------------------------------------\nxpack:\n  security:\n    authc:\n      realms:\n        ldap:\n          ldap1:\n            order: 0\n            url: \"ldaps://ldap.example.com:636\"\n            ssl:\n              certificate_authorities: [ \"cacert.pem\" ]\n--------------------------------------------------\n\nIn the example above, the CA certificate must be PEM encoded.\n\nPKCS#12 and JKS files are also supported - see the description of\n`ssl.truststore.path` in <<ref-ldap-settings>>.\n\nNOTE: You can also specify the individual server certificates rather than the CA\ncertificate, but this is only recommended if you have a single LDAP server or\nthe certificates are self-signed.\n\n--\n\n. Set the `url` attribute in the realm configuration to specify the LDAPS\nprotocol and the secure port number. For example, `url: ldaps://ldap.example.com:636`.\n\n. Restart {es}.\n\nNOTE: By default, when you configure {es} to connect to an LDAP server\n      using SSL/TLS, it attempts to verify the hostname or IP address\n      specified with the `url` attribute in the realm configuration with the\n      values in the certificate. If the values in the certificate and realm\n      configuration do not match, {es} does not allow a connection to the\n      LDAP server. This is done to protect against man-in-the-middle attacks. If\n      necessary, you can disable this behavior by setting the\n      `ssl.verification_mode` property to `certificate`.\n"
}