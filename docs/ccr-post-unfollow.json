{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.954084",
        "size": 2363,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-post-unfollow.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ccr-post-unfollow",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ccr-post-unfollow]]\n=== Unfollow API\n++++\n<titleabbrev>Unfollow</titleabbrev>\n++++\n\nConverts a <<xpack-ccr,{ccr}>> follower index to a regular index.\n\n[[ccr-post-unfollow-request]]\n==== {api-request-title}\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPUT /follower_index/_ccr/follow?wait_for_active_shards=1\n{\n  \"remote_cluster\" : \"remote_cluster\",\n  \"leader_index\" : \"leader_index\"\n}\n\nPOST /follower_index/_ccr/pause_follow\n\nPOST /follower_index/_close\n--------------------------------------------------\n// TESTSETUP\n// TEST[setup:remote_cluster_and_leader_index]\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPOST /<follower_index>/_ccr/unfollow\n--------------------------------------------------\n// TEST[s/<follower_index>/follower_index/]\n\n[[ccr-post-unfollow-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have `manage_follow_index`\nindex privileges for the follower index. For more information, see\n<<security-privileges>>.\n\n[[ccr-post-unfollow-desc]]\n==== {api-description-title}\n\nThis API stops the following task associated with a follower index and removes\nindex metadata and settings associated with {ccr}. This enables the index to\ntreated as a regular index. The follower index must be paused and closed before\ninvoking the unfollow API.\n\nNOTE: Currently {ccr} does not support converting an existing regular index to a\nfollower index. Converting a follower index to a regular index is an\nirreversible operation.\n\n[[ccr-post-unfollow-path-parms]]\n==== {api-path-parms-title}\n\n`<follower_index>`::\n  (Required, string) The name of the follower index.\n\n[[ccr-post-unfollow-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n\n[[ccr-post-unfollow-examples]]\n==== {api-examples-title}\n\nThis example converts `follower_index` from a follower index to a regular index:\n\n[source,console]\n--------------------------------------------------\nPOST /follower_index/_ccr/unfollow\n--------------------------------------------------\n// TEST\n\nThe API returns the following result:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"acknowledged\" : true\n}\n--------------------------------------------------\n"
}