{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.624578",
        "size": 9039,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-get-stats.html",
        "type": "documentation",
        "role": [
            "xpack",
            "child_attributes"
        ],
        "has_code": true,
        "title": "ccr-get-stats",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ccr-get-stats]]\n=== Get {ccr} stats API\n[subs=\"attributes\"]\n++++\n<titleabbrev>Get {ccr-init} stats</titleabbrev>\n++++\n\nGet <<xpack-ccr,{ccr}>> stats.\n\n[[ccr-get-stats-request]]\n==== {api-request-title}\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPUT /follower_index/_ccr/follow?wait_for_active_shards=1\n{\n  \"remote_cluster\" : \"remote_cluster\",\n  \"leader_index\" : \"leader_index\"\n}\n--------------------------------------------------\n// TESTSETUP\n// TEST[setup:remote_cluster_and_leader_index]\n\n[source,console]\n--------------------------------------------------\nPOST /follower_index/_ccr/pause_follow\n--------------------------------------------------\n// TEARDOWN\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nGET /_ccr/stats\n--------------------------------------------------\n\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have `monitor` cluster\nprivileges on the cluster that contains the follower index. For more information,\nsee <<security-privileges>>.\n\n[[ccr-get-stats-desc]]\n==== {api-description-title}\n\nThis API gets {ccr} stats. This API will return all stats related to {ccr}. In\nparticular, this API returns stats about auto-following, and returns the same\nshard-level stats as in the <<ccr-get-follow-stats,get follower stats API>>.\n\n[[ccr-get-stats-query-params]]\n==== {api-query-parms-title}\n\n`timeout`::\n(Optional, time) Controls the amount of time to wait for results. Defaults to unlimited.\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n\n[role=\"child_attributes\"]\n[[ccr-get-stats-response-body]]\n==== {api-response-body-title}\n\n//Begin auto_follow_stats\n`auto_follow_stats`::\n(object) An object representing stats for the auto-follow coordinator.\n+\n.Properties of `auto_follow_stats`\n[%collapsible%open]\n====\n`number_of_failed_follow_indices`::\n(long) The number of indices that the auto-follow coordinator failed to\nautomatically follow. The causes of recent failures are captured in the logs\nof the elected master node and in the\n`auto_follow_stats.recent_auto_follow_errors` field.\n\n`number_of_failed_remote_cluster_state_requests`::\n(long) The number of times that the auto-follow coordinator failed to retrieve\nthe cluster state from a remote cluster registered in a collection of\nauto-follow patterns.\n\n`number_of_successful_follow_indices`::\n(long) The number of indices that the auto-follow coordinator successfully\nfollowed.\n\n`recent_auto_follow_errors`::\n(array) An array of objects representing failures by the auto-follow coordinator.\n====\n//End auto_follow_stats\n\n`follow_stats`::\n(object) An object representing shard-level stats for follower indices; refer to\nthe details of the response in the\n<<ccr-get-follow-stats,get follower stats API>>.\n\n[[ccr-get-stats-examples]]\n==== {api-examples-title}\n\nThis example retrieves {ccr} stats:\n\n[source,console]\n--------------------------------------------------\nGET /_ccr/stats\n--------------------------------------------------\n\nThe API returns the following results:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"auto_follow_stats\" : {\n    \"number_of_failed_follow_indices\" : 0,\n    \"number_of_failed_remote_cluster_state_requests\" : 0,\n    \"number_of_successful_follow_indices\" : 1,\n    \"recent_auto_follow_errors\" : [],\n    \"auto_followed_clusters\" : []\n  },\n  \"follow_stats\" : {\n    \"indices\" : [\n      {\n        \"index\" : \"follower_index\",\n        \"total_global_checkpoint_lag\" : 256,\n        \"shards\" : [\n          {\n            \"remote_cluster\" : \"remote_cluster\",\n            \"leader_index\" : \"leader_index\",\n            \"follower_index\" : \"follower_index\",\n            \"shard_id\" : 0,\n            \"leader_global_checkpoint\" : 1024,\n            \"leader_max_seq_no\" : 1536,\n            \"follower_global_checkpoint\" : 768,\n            \"follower_max_seq_no\" : 896,\n            \"last_requested_seq_no\" : 897,\n            \"outstanding_read_requests\" : 8,\n            \"outstanding_write_requests\" : 2,\n            \"write_buffer_operation_count\" : 64,\n            \"follower_mapping_version\" : 4,\n            \"follower_settings_version\" : 2,\n            \"follower_aliases_version\" : 8,\n            \"total_read_time_millis\" : 32768,\n            \"total_read_remote_exec_time_millis\" : 16384,\n            \"successful_read_requests\" : 32,\n            \"failed_read_requests\" : 0,\n            \"operations_read\" : 896,\n            \"bytes_read\" : 32768,\n            \"total_write_time_millis\" : 16384,\n            \"write_buffer_size_in_bytes\" : 1536,\n            \"successful_write_requests\" : 16,\n            \"failed_write_requests\" : 0,\n            \"operations_written\" : 832,\n            \"read_exceptions\" : [ ],\n            \"time_since_last_read_millis\" : 8\n          }\n        ]\n      }\n    ]\n  }\n}\n--------------------------------------------------\n// TESTRESPONSE[s/\"total_global_checkpoint_lag\" : 256/\"total_global_checkpoint_lag\" : 0/]\n// TESTRESPONSE[s/\"number_of_failed_follow_indices\" : 0/\"number_of_failed_follow_indices\" : $body.auto_follow_stats.number_of_failed_follow_indices/]\n// TESTRESPONSE[s/\"number_of_failed_remote_cluster_state_requests\" : 0/\"number_of_failed_remote_cluster_state_requests\" : $body.auto_follow_stats.number_of_failed_remote_cluster_state_requests/]\n// TESTRESPONSE[s/\"number_of_successful_follow_indices\" : 1/\"number_of_successful_follow_indices\" : $body.auto_follow_stats.number_of_successful_follow_indices/]\n// TESTRESPONSE[s/\"recent_auto_follow_errors\" : \\[\\]/\"recent_auto_follow_errors\" : $body.auto_follow_stats.recent_auto_follow_errors/]\n// TESTRESPONSE[s/\"auto_followed_clusters\" : \\[\\]/\"auto_followed_clusters\" : $body.auto_follow_stats.auto_followed_clusters/]\n// TESTRESPONSE[s/\"leader_global_checkpoint\" : 1024/\"leader_global_checkpoint\" : $body.follow_stats.indices.0.shards.0.leader_global_checkpoint/]\n// TESTRESPONSE[s/\"leader_max_seq_no\" : 1536/\"leader_max_seq_no\" : $body.follow_stats.indices.0.shards.0.leader_max_seq_no/]\n// TESTRESPONSE[s/\"follower_global_checkpoint\" : 768/\"follower_global_checkpoint\" : $body.follow_stats.indices.0.shards.0.follower_global_checkpoint/]\n// TESTRESPONSE[s/\"follower_max_seq_no\" : 896/\"follower_max_seq_no\" : $body.follow_stats.indices.0.shards.0.follower_max_seq_no/]\n// TESTRESPONSE[s/\"last_requested_seq_no\" : 897/\"last_requested_seq_no\" : $body.follow_stats.indices.0.shards.0.last_requested_seq_no/]\n// TESTRESPONSE[s/\"outstanding_read_requests\" : 8/\"outstanding_read_requests\" : $body.follow_stats.indices.0.shards.0.outstanding_read_requests/]\n// TESTRESPONSE[s/\"outstanding_write_requests\" : 2/\"outstanding_write_requests\" : $body.follow_stats.indices.0.shards.0.outstanding_write_requests/]\n// TESTRESPONSE[s/\"write_buffer_operation_count\" : 64/\"write_buffer_operation_count\" : $body.follow_stats.indices.0.shards.0.write_buffer_operation_count/]\n// TESTRESPONSE[s/\"follower_mapping_version\" : 4/\"follower_mapping_version\" : $body.follow_stats.indices.0.shards.0.follower_mapping_version/]\n// TESTRESPONSE[s/\"follower_settings_version\" : 2/\"follower_settings_version\" : $body.follow_stats.indices.0.shards.0.follower_settings_version/]\n// TESTRESPONSE[s/\"follower_aliases_version\" : 8/\"follower_aliases_version\" : $body.follow_stats.indices.0.shards.0.follower_aliases_version/]\n// TESTRESPONSE[s/\"total_read_time_millis\" : 32768/\"total_read_time_millis\" : $body.follow_stats.indices.0.shards.0.total_read_time_millis/]\n// TESTRESPONSE[s/\"total_read_remote_exec_time_millis\" : 16384/\"total_read_remote_exec_time_millis\" : $body.follow_stats.indices.0.shards.0.total_read_remote_exec_time_millis/]\n// TESTRESPONSE[s/\"successful_read_requests\" : 32/\"successful_read_requests\" : $body.follow_stats.indices.0.shards.0.successful_read_requests/]\n// TESTRESPONSE[s/\"failed_read_requests\" : 0/\"failed_read_requests\" : $body.follow_stats.indices.0.shards.0.failed_read_requests/]\n// TESTRESPONSE[s/\"operations_read\" : 896/\"operations_read\" : $body.follow_stats.indices.0.shards.0.operations_read/]\n// TESTRESPONSE[s/\"bytes_read\" : 32768/\"bytes_read\" : $body.follow_stats.indices.0.shards.0.bytes_read/]\n// TESTRESPONSE[s/\"total_write_time_millis\" : 16384/\"total_write_time_millis\" : $body.follow_stats.indices.0.shards.0.total_write_time_millis/]\n// TESTRESPONSE[s/\"write_buffer_size_in_bytes\" : 1536/\"write_buffer_size_in_bytes\" : $body.follow_stats.indices.0.shards.0.write_buffer_size_in_bytes/]\n// TESTRESPONSE[s/\"successful_write_requests\" : 16/\"successful_write_requests\" : $body.follow_stats.indices.0.shards.0.successful_write_requests/]\n// TESTRESPONSE[s/\"failed_write_requests\" : 0/\"failed_write_requests\" : $body.follow_stats.indices.0.shards.0.failed_write_requests/]\n// TESTRESPONSE[s/\"operations_written\" : 832/\"operations_written\" : $body.follow_stats.indices.0.shards.0.operations_written/]\n// TESTRESPONSE[s/\"time_since_last_read_millis\" : 8/\"time_since_last_read_millis\" : $body.follow_stats.indices.0.shards.0.time_since_last_read_millis/]\n"
}