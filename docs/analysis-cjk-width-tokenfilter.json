{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.155578",
        "size": 2090,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-cjk-width-tokenfilter.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "analysis-cjk-width-tokenfilter",
        "version": "8.15"
    },
    "doc": "[[analysis-cjk-width-tokenfilter]]\n=== CJK width token filter\n++++\n<titleabbrev>CJK width</titleabbrev>\n++++\n\nNormalizes width differences in CJK (Chinese, Japanese, and Korean) characters\nas follows:\n\n* Folds full-width ASCII character variants into the equivalent basic Latin\ncharacters\n* Folds half-width Katakana character variants into the equivalent Kana\ncharacters\n\nThis filter is included in {es}'s built-in <<cjk-analyzer,CJK language\nanalyzer>>. It uses Lucene's\n{lucene-analysis-docs}/cjk/CJKWidthFilter.html[CJKWidthFilter].\n\nNOTE: This token filter can be viewed as a subset of NFKC/NFKD Unicode\nnormalization. See the\n{plugins}/analysis-icu-normalization-charfilter.html[`analysis-icu` plugin] for\nfull normalization support.\n\n[[analysis-cjk-width-tokenfilter-analyze-ex]]\n==== Example\n\n[source,console]\n--------------------------------------------------\nGET /_analyze\n{\n  \"tokenizer\" : \"standard\",\n  \"filter\" : [\"cjk_width\"],\n  \"text\" : \"\uff7c\uff70\uff7b\uff72\uff84\uff9e\uff97\uff72\uff85\uff70\"\n}\n--------------------------------------------------\n\nThe filter produces the following token:\n\n[source,text]\n--------------------------------------------------\n\u30b7\u30fc\u30b5\u30a4\u30c9\u30e9\u30a4\u30ca\u30fc\n--------------------------------------------------\n\n/////////////////////\n[source,console-result]\n--------------------------------------------------\n{\n  \"tokens\" : [\n    {\n      \"token\" : \"\u30b7\u30fc\u30b5\u30a4\u30c9\u30e9\u30a4\u30ca\u30fc\",\n      \"start_offset\" : 0,\n      \"end_offset\" : 10,\n      \"type\" : \"<KATAKANA>\",\n      \"position\" : 0\n    }\n  ]\n}\n--------------------------------------------------\n/////////////////////\n\n[[analysis-cjk-width-tokenfilter-analyzer-ex]]\n==== Add to an analyzer\n\nThe following <<indices-create-index,create index API>> request uses the\nCJK width token filter to configure a new \n<<analysis-custom-analyzer,custom analyzer>>.\n\n[source,console]\n--------------------------------------------------\nPUT /cjk_width_example\n{\n  \"settings\": {\n    \"analysis\": {\n      \"analyzer\": {\n        \"standard_cjk_width\": {\n          \"tokenizer\": \"standard\",\n          \"filter\": [ \"cjk_width\" ]\n        }\n      }\n    }\n  }\n}\n--------------------------------------------------\n"
}