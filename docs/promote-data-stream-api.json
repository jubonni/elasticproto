{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.214580",
        "size": 1660,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/promote-data-stream-api.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "promote-data-stream-api",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[promote-data-stream-api]]\n=== Promote data stream API\n++++\n<titleabbrev>Promote data stream</titleabbrev>\n++++\n\nThe purpose of the promote <<data-streams,data stream>> API is to turn\na data stream that is replicated by CCR into a regular\ndata stream.\n\nVia CCR Auto Following, a data stream from a remote cluster\ncan be replicated to the local cluster. These data streams\ncan't be rolled over in the local cluster. Only if the upstream\ndata stream rolls over then these replicated data streams roll\nover as well. In the event that the remote cluster is no longer\navailable, the data stream in the local cluster can be promoted\nto a regular data stream, which allows these data streams to\nbe rolled over in the local cluster.\n\nNOTE: When promoting a data stream, ensure the local cluster has a data stream enabled index template that matches the data stream.\nIf this is missing, the data stream will not be able to roll over until a matching index template is created.\nThis will affect the lifecycle management of the data stream and interfere with the data stream size and retention.\n\n[source,console]\n----\nPOST /_data_stream/_promote/my-data-stream\n----\n// TEST[catch:missing]\n\n[[promote-data-stream-api-request]]\n==== {api-request-title}\n\n`POST /_data_stream/_promote/<data-stream>`\n\n[[promote-data-stream-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the `manage_follow_index`\n<<privileges-list-cluster,cluster privilege>> to use this API.\n\n[[promote-data-stream-api-path-params]]\n==== {api-path-parms-title}\n\n`<data-stream>`::\n(Required, string)\nThe name of the data stream to promote.\n"
}