{
    "meta": {
        "size": 2135,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ml-delete-expired-data.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ml-delete-expired-data",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ml-delete-expired-data]]\n= Delete expired data API\n++++\n<titleabbrev>Delete expired data</titleabbrev>\n++++\n\nDeletes expired and unused machine learning data.\n\n[[ml-delete-expired-data-request]]\n== {api-request-title}\n\n`DELETE _ml/_delete_expired_data` +\n\n`DELETE _ml/_delete_expired_data/<job_id>`\n\n[[ml-delete-expired-data-prereqs]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the \n`machine_learning_admin` built-in role.\n\n[[ml-delete-expired-data-desc]]\n== {api-description-title}\n\nDeletes all job results, model snapshots and forecast data that have exceeded\ntheir `retention days` period. Machine learning state documents that are not\nassociated with any job are also deleted.\n\nYou can limit the request to a single or set of {anomaly-jobs} by using a job \nidentifier, a group name, a comma-separated list of jobs, or a wildcard \nexpression. You can delete expired data for all {anomaly-jobs} by using `_all`, \nby specifying `*` as the `<job_id>`, or by omitting the `<job_id>`.\n\n[[ml-delete-expired-data-path-parms]]\n== {api-path-parms-title}\n\n`<job_id>`::\n(Optional, string)\nIdentifier for an {anomaly-job}. It can be a job identifier, a group name, or a\nwildcard expression.\n\n[[ml-delete-expired-data-query-parms]]\n== {api-query-parms-title}\n\n`requests_per_second`::\n(Optional, float) The desired requests per second for the deletion processes.\nThe default behavior is no throttling.\n\n`timeout`::\n(Optional, string) How long can the underlying delete processes run until they are canceled.\nThe default value is `8h` (8 hours).\n\n[[ml-delete-expired-data-request-body]]\n== {api-request-body-title}\n\nYou can also specify the query parameters (`requests_per_second` and\n`timeout`) in the request body.\n\n[[ml-delete-expired-data-example]]\n== {api-examples-title}\n\n[source,console]\n--------------------------------------------------\nDELETE _ml/_delete_expired_data?timeout=1h\n--------------------------------------------------\n// TEST\n\nWhen the expired data is deleted, you receive the following response:\n\n[source,console-result]\n----\n{\n  \"deleted\": true\n}\n----\n"
}