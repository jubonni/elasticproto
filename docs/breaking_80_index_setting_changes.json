{
    "meta": {
        "size": 4494,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking_80_index_setting_changes.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "breaking_80_index_setting_changes",
        "version": "8.15"
    },
    "doc": "[discrete]\n[[breaking_80_index_setting_changes]]\n==== Index setting changes\n\n[[deprecation-system-indices]]\n.Direct access to system indices is deprecated.\n[%collapsible]\n====\n*Details* +\nDirectly accessing system indices is deprecated, and may be prevented in a\nfuture version. If you must access a system index, create a security role with\nan index permission that targets the specific index and set the\n`allow_restricted_indices` permission to `true`. Refer to \n{ref}/defining-roles.html#roles-indices-priv[indices privileges] for\ninformation on adding this permission to an index privilege.\n\n*Impact* +\nAccessing system indices directly results in warnings in the header of API\nresponses. If available, use {kib} or the associated feature's {es} APIs to\nmanage the data that you want to access.\n====\n\n[[deprecate-max-merge-at-once-explicit-setting]]\n.`index.merge.policy.max_merge_at_once_explicit` is deprecated and has no effect.\n[%collapsible]\n====\n*Details* +\nThe `index.merge.policy.max_merge_at_once_explicit` index setting is deprecated\nand has no effect.\n\nPreviously, you could specify `index.merge.policy.max_merge_at_once_explicit` to\nset the maximum number of segments to merge at the same time during a force\nmerge or when expunging deleted documents. In 8.0, this number is unlimited,\nregardless of the setting.\n\n*Impact* +\nSpecifying `index.merge.policy.max_merge_at_once_explicit` will have no effect\nbut will generate deprecation warnings.\n\nTo avoid these deprecation warnings, discontinue use of the setting. Don't\nspecify the setting when creating new indices, and remove the setting from\nindex and component templates.\n\nTo remove the setting from an existing data stream or index, specify the\nsetting's value as `null` using the update index settings API.\n\n[source,console]\n----\nPUT my-index-000001/_settings\n{\n  \"index.merge.policy.max_merge_at_once_explicit\": null\n}\n----\n// TEST[setup:my_index]\n\n====\n\n[[index-max-adjacency-matrix-filters-removed]]\n.The `index.max_adjacency_matrix_filters` index setting has been removed.\n[%collapsible]\n====\n*Details* +\nThe `index.max_adjacency_matrix_filters` index setting has been removed.\nPreviously, you could use this setting to configure the maximum number of\nfilters for the\n{ref}/search-aggregations-bucket-adjacency-matrix-aggregation.html[adjacency\nmatrix aggregation]. The `indices.query.bool.max_clause_count` index setting now\ndetermines the maximum number of filters for the aggregation.\n\n*Impact* +\nDiscontinue use of the `index.max_adjacency_matrix_filters` index setting.\n\nRequests that include the index setting will return an error. If you upgrade a\ncluster with a 7.x index that already contains the setting, {es} will\n{ref}/archived-settings.html#archived-index-settings[archive the setting].\n\nRemove the index setting from index and component templates. Attempts to use a\ntemplate that contains the setting will fail and return an error. This includes\nautomated operations, such the {ilm-init} rollover action.\n====\n\n.The `index.force_memory_term_dictionary` setting has been removed.\n[%collapsible]\n====\n*Details* +\nThe `index.force_memory_term_dictionary` setting was introduced in 7.0 as a\ntemporary measure to allow users to opt-out of the optimization that leaves the\nterm dictionary on disk when appropriate. This optimization is now mandatory\nand the setting is removed.\n\n*Impact* +\nDiscontinue use of the `index.force_memory_term_dictionary` index setting.\nRequests that include this setting will return an error.\n====\n\n.The `index.soft_deletes.enabled` setting has been removed.\n[%collapsible]\n====\n*Details* +\nCreating indices with soft deletes disabled was deprecated in 7.6 and\nis no longer supported in 8.0. The `index.soft_deletes.enabled` setting\ncan no longer be set to `false`.\n\n*Impact* +\nDiscontinue use of the `index.soft_deletes.enabled` index setting. Requests that\nset `index.soft_deletes.enabled` to `false` will return an error.\n====\n\n.The `index.translog.retention.age` and `index.translog.retention.size` settings have been removed.\n[%collapsible]\n====\n*Details* +\nTranslog retention settings `index.translog.retention.age` and\n`index.translog.retention.size` were effectively ignored in 7.4, deprecated in\n7.7, and removed in 8.0 in favor of\n{ref}/index-modules-history-retention.html[soft deletes].\n\n*Impact* +\nDiscontinue use of the `index.translog.retention.age` and\n`index.translog.retention.size` index settings. Requests that\ninclude these settings will return an error.\n====\n"
}