{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.434589",
        "size": 2518,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multiple-indices.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "search-multiple-indices",
        "version": "8.15"
    },
    "doc": "[[search-multiple-indices]]\n=== Search multiple data streams and indices\n\nTo search multiple data streams and indices, add them as comma-separated values\nin the <<search-search,search API>>'s request path.\n\nThe following request searches the `my-index-000001` and `my-index-000002`\nindices.\n\n[source,console]\n----\nGET /my-index-000001,my-index-000002/_search\n{\n  \"query\": {\n    \"match\": {\n      \"user.id\": \"kimchy\"\n    }\n  }\n}\n----\n// TEST[setup:my_index]\n// TEST[s/^/PUT my-index-000002\\n/]\n\nYou can also search multiple data streams and indices using an index pattern.\n\nThe following request targets the `my-index-*` index pattern. The request\nsearches any data streams or indices in the cluster that start with `my-index-`.\n\n[source,console]\n----\nGET /my-index-*/_search\n{\n  \"query\": {\n    \"match\": {\n      \"user.id\": \"kimchy\"\n    }\n  }\n}\n----\n// TEST[setup:my_index]\n\nTo search all data streams and indices in a cluster, omit the target from the\nrequest path. Alternatively, you can use `_all` or `*`.\n\nThe following requests are equivalent and search all data streams and indices in\nthe cluster.\n\n[source,console]\n----\nGET /_search\n{\n  \"query\": {\n    \"match\": {\n      \"user.id\": \"kimchy\"\n    }\n  }\n}\n\nGET /_all/_search\n{\n  \"query\": {\n    \"match\": {\n      \"user.id\": \"kimchy\"\n    }\n  }\n}\n\nGET /*/_search\n{\n  \"query\": {\n    \"match\": {\n      \"user.id\": \"kimchy\"\n    }\n  }\n}\n----\n// TEST[setup:my_index]\n\n[discrete]\n[[index-boost]]\n==== Index boost\n\nWhen searching multiple indices, you can use the `indices_boost` parameter to\nboost results from one or more specified indices. This is useful when hits\ncoming from some indices matter more than hits from other.\n\nNOTE: You cannot use `indices_boost` with data streams.\n\n[source,console]\n--------------------------------------------------\nGET /_search\n{\n  \"indices_boost\": [\n    { \"my-index-000001\": 1.4 },\n    { \"my-index-000002\": 1.3 }\n  ]\n}\n--------------------------------------------------\n// TEST[s/^/PUT my-index-000001\\nPUT my-index-000002\\n/]\n\nAliases and index patterns can also be used:\n\n[source,console]\n--------------------------------------------------\nGET /_search\n{\n  \"indices_boost\": [\n    { \"my-alias\":  1.4 },\n    { \"my-index*\": 1.3 }\n  ]\n}\n--------------------------------------------------\n// TEST[s/^/PUT my-index-000001\\nPUT my-index-000001\\/_alias\\/my-alias\\n/]\n\nIf multiple matches are found, the first match will be used. For example, if an\nindex is included in `alias1` and matches the `my-index*` pattern, a boost value\nof `1.4` is applied."
}