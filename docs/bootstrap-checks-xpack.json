{
    "meta": {
        "size": 3294,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/bootstrap-checks-xpack.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "bootstrap-checks-xpack",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[bootstrap-checks-xpack]]\n== Bootstrap Checks for {xpack}\n\nIn addition to the <<bootstrap-checks,{es} bootstrap checks>>, there are\nchecks that are specific to {xpack} features.\n\n[discrete]\n[[bootstrap-checks-xpack-encrypt-sensitive-data]]\n=== Encrypt sensitive data check\n//See EncryptSensitiveDAtaBootstrapCheck.java\n\nIf you use {watcher} and have chosen to encrypt sensitive data (by setting\n`xpack.watcher.encrypt_sensitive_data` to `true`), you must also place a key in\nthe secure settings store.\n\nTo pass this bootstrap check, you must set the `xpack.watcher.encryption_key`\non each node in the cluster. For more information, see\n<<encrypting-data,Encrypting sensitive data in Watcher>>.\n\n[discrete]\n[[bootstrap-checks-xpack-pki-realm]]\n=== PKI realm check\n//See PkiRealmBootstrapCheckTests.java\n\nIf you use {es} {security-features} and a Public Key Infrastructure (PKI) realm,\nyou must configure Transport Layer Security (TLS) on your cluster and enable\nclient authentication on the network layers (either transport or http). For more\ninformation, see <<pki-realm,PKI user authentication>> and\n<<security-basic-setup-https,Set up basic security plus HTTPS>>.\n\nTo pass this bootstrap check, if a PKI realm is enabled, you must configure TLS\nand enable client authentication on at least one network communication layer.\n\n[discrete]\n[[bootstrap-checks-xpack-role-mappings]]\n=== Role mappings check\n\nIf you authenticate users with realms other than `native` or `file` realms, you\nmust create role mappings. These role mappings define which roles are assigned\nto each user.\n\nIf you use files to manage the role mappings, you must configure a YAML file\nand copy it to each node in the cluster. By default, role mappings are stored in\n`ES_PATH_CONF/role_mapping.yml`. Alternatively, you can specify a\ndifferent role mapping file for each type of realm and specify its location in\nthe `elasticsearch.yml` file. For more information, see\n<<mapping-roles-file>>.\n\nTo pass this bootstrap check, the role mapping files must exist and must be\nvalid. The Distinguished Names (DNs) that are listed in the role mappings files\nmust also be valid.\n\n[discrete]\n[[bootstrap-checks-tls]]\n=== SSL/TLS check\n//See TLSLicenseBootstrapCheck.java\n\nIf you enable {es} {security-features}, unless you have a trial license, you\nmust configure SSL/TLS for internode-communication.\n\nNOTE: Single-node clusters that use a loopback interface do not have this\nrequirement. For more information, see\n<<configuring-stack-security>>.\n\nTo pass this bootstrap check, you must\n<<encrypt-internode-communication,set up SSL/TLS in your cluster>>.\n\n\n[discrete]\n[[bootstrap-checks-xpack-token-ssl]]\n=== Token SSL check\n//See TokenSSLBootstrapCheckTests.java\n\nIf you use {es} {security-features} and the built-in token service is enabled,\nyou must configure your cluster to use SSL/TLS for the HTTP interface. HTTPS is\nrequired in order to use the token service.\n\nIn particular, if `xpack.security.authc.token.enabled` is\nset to `true` in the `elasticsearch.yml` file, you must also set\n`xpack.security.http.ssl.enabled` to `true`. For more information about these\nsettings, see <<security-settings>> and <<http-settings>>.\n\nTo pass this bootstrap check, you must enable HTTPS or disable the built-in\ntoken service.\n"
}