{
    "meta": {
        "timestamp": "2024-11-01T03:07:08.733281",
        "size": 2898,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/securing-aliases.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "securing-aliases",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[securing-aliases]]\n=== Granting privileges for data streams and aliases\n\n{es} {security-features} allow you to secure operations executed against\n<<data-streams,data streams>> and <<aliases,aliases>>.\n\n[[data-stream-privileges]]\n==== Data stream privileges\n\n// tag::data-stream-security[]\nUse <<privileges-list-indices,index privileges>> to control access to a data\nstream. Granting privileges on a data stream grants the same privileges on its\nbacking indices.\n// end::data-stream-security[]\n\nFor example, `my-data-stream` consists of two backing indices:\n`.ds-my-data-stream-2099.03.07-000001` and\n`.ds-my-data-stream-2099.03.08-000002`.\n\nA user is granted the `read` privilege to `my-data-stream`.\n\n[source,js]\n--------------------------------------------------\n{\n  \"names\" : [ \"my-data-stream\" ],\n  \"privileges\" : [ \"read\" ]\n}\n--------------------------------------------------\n// NOTCONSOLE\n\nBecause the user is automatically granted the same privileges to the stream's\nbacking indices, the user can retrieve a document directly from\n`.ds-my-data-stream-2099.03.08-000002`:\n\n////\n[source,console]\n----\nPUT my-index/_doc/2\n{\n  \"my-field\": \"foo\"\n}\n----\n////\n\n[source,console]\n----\nGET .ds-my-data-stream-2099.03.08-000002/_doc/2\n----\n// TEST[continued]\n// TEST[s/.ds-my-data-stream-2099.03.08-000002/my-index/]\n\nLater `my-data-stream` <<manually-roll-over-a-data-stream,rolls over>>. This\ncreates a new backing index: `.ds-my-data-stream-2099.03.09-000003`. Because the\nuser still has the `read` privilege for `my-data-stream`, the user can retrieve\ndocuments directly from `.ds-my-data-stream-2099.03.09-000003`:\n\n[source,console]\n----\nGET .ds-my-data-stream-2099.03.09-000003/_doc/2\n----\n// TEST[continued]\n// TEST[s/.ds-my-data-stream-2099.03.09-000003/my-index/]\n\n[[index-alias-privileges]]\n==== Alias privileges\n\nUse <<privileges-list-indices,index privileges>> to control access to an\n<<aliases,alias>>. Privileges on an index or data stream do not grant privileges\non its aliases. For information about managing aliases, see <<aliases>>.\n\nIMPORTANT: Don't use <<filter-alias,filtered aliases>> in place of\n<<document-level-security,document level security>>. {es} doesn't always apply\nalias filters.\n\nFor example, the `current_year` alias points only to the `2015` index. A user is\ngranted the `read` privilege for the `2015` index.\n\n[source,js]\n----\n{\n  \"names\" : [ \"2015\" ],\n  \"privileges\" : [ \"read\" ]\n}\n----\n// NOTCONSOLE\n\nWhen the user attempts to retrieve a document from the `current_year` alias,\n{es} rejects the request.\n\n[source,console]\n----\nGET current_year/_doc/1\n----\n// TEST[s/^/PUT 2015\\n{\"aliases\": {\"current_year\": {}}}\\nPUT 2015\\/_doc\\/1\\n{}\\n/]\n\nTo retrieve documents from `current_year`, the user must have the `read` index\nprivilege for the alias.\n\n[source,js]\n----\n{\n  \"names\" : [ \"current_year\" ],\n  \"privileges\" : [ \"read\" ]\n}\n----\n// NOTCONSOLE\n"
}