{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.268067",
        "size": 7060,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-get-service-accounts.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "security-api-get-service-accounts",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[security-api-get-service-accounts]]\n=== Get service accounts API\n\n++++\n<titleabbrev>Get service accounts</titleabbrev>\n++++\n\nRetrieves information about <<service-accounts,service accounts>>.\n\nNOTE: Currently, only the `elastic/fleet-server` service account is available.\n\n[[security-api-get-service-accounts-request]]\n==== {api-request-title}\n\n`GET /_security/service`\n\n`GET /_security/service/<namespace>`\n\n`GET /_security/service/<namespace>/<service>`\n\n[[security-api-get-service-accounts-prereqs]]\n==== {api-prereq-title}\n\n* To use this API, you must have at least the `manage_service_account`\n<<privileges-list-cluster,cluster privilege>>.\n\n[[security-api-get-service-accounts-desc]]\n==== {api-description-title}\n\nThis API returns a list of service accounts that match the provided path parameter(s).\n\n[[security-api-get-service-accounts-path-params]]\n==== {api-path-parms-title}\n\n`namespace`::\n  (Optional, string) Name of the namespace. Omit this parameter to retrieve information about all service accounts. If you omit this parameter, you must also omit the `service` parameter.\n\n`service`::\n  (Optional, string) Name of the service name. Omit this parameter to\n  retrieve information about all service accounts that belong to the specified\n  `namespace`.\n\n[[security-api-get-service-accounts-response-body]]\n==== {api-response-body-title}\n\nA successful call returns a JSON object of service accounts. The API returns an\nempty object if no service account is found.\n\n[[security-api-get-service-accounts-example]]\n==== {api-examples-title}\n\nTo following request retrieves a service account for the `elastic/fleet-server`\nservice account:\n\n[source,console]\n----\nGET /_security/service/elastic/fleet-server\n----\n\n[source,console-result]\n----\n{\n  \"elastic/fleet-server\": {\n    \"role_descriptor\": {\n      \"cluster\": [\n        \"monitor\",\n        \"manage_own_api_key\",\n        \"read_fleet_secrets\",\n        \"cluster:admin/xpack/connector/*\"\n      ],\n      \"indices\": [\n        {\n          \"names\": [\n            \"logs-*\",\n            \"metrics-*\",\n            \"traces-*\",\n            \".logs-endpoint.diagnostic.collection-*\",\n            \".logs-endpoint.action.responses-*\",\n            \".logs-endpoint.heartbeat-*\"\n          ],\n          \"privileges\": [\n            \"write\",\n            \"create_index\",\n            \"auto_configure\"\n          ],\n          \"allow_restricted_indices\": false\n        },\n        {\n          \"names\": [\n            \"profiling-*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\"\n          ],\n          \"allow_restricted_indices\": false\n        },\n        {\n          \"names\": [\n            \"traces-apm.sampled-*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"monitor\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": false\n        },\n        {\n          \"names\": [\n            \".fleet-secrets*\"\n          ],\n          \"privileges\": [\n            \"read\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-actions*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-agents*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-artifacts*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-enrollment-api-keys*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-policies*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-policies-leader*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-servers*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \".fleet-fileds*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\"\n          ],\n          \"allow_restricted_indices\": true\n        },\n        {\n          \"names\": [\n            \"synthetics-*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"create_index\",\n            \"auto_configure\"\n          ],\n          \"allow_restricted_indices\": false\n        },\n        {\n          \"names\": [\n            \".elastic-connectors*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\",\n            \"view_index_metadata\"\n          ],\n          \"allow_restricted_indices\": false\n        },\n        {\n          \"names\": [\n            \"content-*\",\n            \".search-acl-filter-*\"\n          ],\n          \"privileges\": [\n            \"read\",\n            \"write\",\n            \"monitor\",\n            \"create_index\",\n            \"auto_configure\",\n            \"maintenance\",\n            \"view_index_metadata\"\n          ],\n          \"allow_restricted_indices\": false\n        }\n      ],\n      \"applications\": [\n        {\n          \"application\": \"kibana-*\",\n          \"privileges\": [\n            \"reserved_fleet-setup\"\n          ],\n          \"resources\": [\n            \"*\"\n          ]\n        }\n      ],\n      \"run_as\": [],\n      \"metadata\": {},\n      \"transient_metadata\": {\n        \"enabled\": true\n      }\n    }\n  }\n}\n----\n\nOmit the `namespace` and `service` to retrieve all service accounts:\n\n[source,console]\n----\nGET /_security/service\n----\n"
}