{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.130272",
        "size": 3431,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-saml-complete-logout.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "security-api-saml-complete-logout",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[security-api-saml-complete-logout]]\n=== SAML complete logout API\n++++\n<titleabbrev>SAML complete logout</titleabbrev>\n++++\n\nVerifies the logout response sent from the SAML IdP.\n\nNOTE: This API is intended for use by custom web applications other than {kib}.\nIf you are using {kib}, see the <<saml-guide-stack>>.\n\n[[security-api-saml-complete-logout-request]]\n==== {api-request-title}\n\n`POST /_security/saml/complete_logout`\n\n[[security-api-saml-complete-logout-desc]]\n==== {api-description-title}\n\nThe SAML IdP may send a logout response back to the SP after handling\nthe <<security-api-saml-logout,SP-initiated SAML Single Logout>>.\nThis API verifies the response by ensuring the content is relevant\nand validating its signature. An empty response is returned if\nthe verification process is successful.\nThe response can be sent by the IdP with either the HTTP-Redirect or\nthe HTTP-Post binding. The caller of this API must prepare the request\naccordingly so that this API can handle either of them.\n\n{es} exposes all the necessary SAML related functionality via the SAML APIs.\nThese APIs are used internally by {kib} in order to provide SAML based\nauthentication, but can also be used by other custom web applications or other\nclients. See also <<security-api-saml-authenticate,SAML authenticate API>>,\n<<security-api-saml-prepare-authentication,SAML prepare authentication API>>,\n<<security-api-saml-invalidate,SAML invalidate API>>, and\n<<security-api-saml-logout,SAML logout API>>.\n\n[[security-api-saml-complete-logout-request-body]]\n==== {api-request-body-title}\n\n`realm`::\n  (Required, string) The name of the SAML realm in {es} for which the configuration is\n  used to verify the logout response.\n\n`ids`::\n  (Required, array) A json array with all the valid SAML Request Ids that the caller of\n  the API has for the current user.\n\n`query_string`::\n  (Optional, string) If the SAML IdP sends the logout response with the HTTP-Redirect\n  binding, this field must be set to the query string of the redirect URI.\n\n`queryString`::\ndeprecated:[7.14.0, \"Use query_string instead\"]\n  See `query_string`\n\n`content`::\n  (Optional, string) If the SAML IdP sends the logout response with the HTTP-Post\n  binding, this field must be set to the value of the `SAMLResponse` form parameter\n  from the logout response.\n\n[[security-api-saml-complete-logout-example]]\n==== {api-examples-title}\n\nThe following example verifies the logout response sent by the SAML IdP\nusing the HTTP-Redirect binding:\n\n[source,console]\n--------------------------------------------------\nPOST /_security/saml/complete_logout\n{\n  \"realm\": \"saml1\",\n  \"ids\": [ \"_1c368075e0b3...\" ],\n  \"query_string\": \"SAMLResponse=fZHLasMwEEVbfb1bf...&SigAlg=http%3A%2F%2Fwww.w3.org%2F2000%2F09%2Fxmldsig%23rsa-sha1&Signature=CuCmFn%2BLqnaZGZJqK...\"\n}\n--------------------------------------------------\n// TEST[skip:can't test this without a valid SAML Logout Response]\n\nIf the logout response is sent with the HTTP-Post binding, it can be verified\nas the follows:\n\n[source,console]\n--------------------------------------------------\nPOST /_security/saml/complete_logout\n{\n  \"realm\": \"saml1\",\n  \"ids\": [ \"_1c368075e0b3...\" ],\n  \"content\": \"PHNhbWxwOkxvZ291dFJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46...\"\n}\n--------------------------------------------------\n// TEST[skip:can't test this without a valid SAML Logout Response]\n\nThe API returns an empty response on success.\n"
}