{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.226081",
        "size": 6499,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-get-field-mapping.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "indices-get-field-mapping",
        "version": "8.15"
    },
    "doc": "[[indices-get-field-mapping]]\n=== Get field mapping API\n++++\n<titleabbrev>Get field mapping</titleabbrev>\n++++\n\nRetrieves <<mapping,mapping definitions>> for one or more fields. For data\nstreams, the API retrieves field mappings for the stream's backing indices.\n\nThis API is useful if you don't need a <<indices-get-mapping,complete mapping>>\nor if an index mapping contains a large number of fields.\n\n[source,console]\n----\nGET /my-index-000001/_mapping/field/user\n----\n// TEST[setup:my_index]\n\n\n[[get-field-mapping-api-request]]\n==== {api-request-title}\n\n`GET /_mapping/field/<field>`\n\n`GET /<target>/_mapping/field/<field>`\n\n[[get-field-mapping-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the\n`view_index_metadata` or `manage` <<privileges-list-indices,index privilege>>\nfor the target data stream, index, or alias.\n\n[[get-field-mapping-api-path-params]]\n==== {api-path-parms-title}\n\n`<target>`::\n(Optional, string) Comma-separated list of data streams, indices, and aliases\nused to limit the request. Supports wildcards (`*`). To target all data streams\nand indices, omit this parameter or use `*` or `_all`.\n\n`<field>`::\n(Optional, string) Comma-separated list or wildcard expression of fields used to\nlimit returned information.\n\n\n[[get-field-mapping-api-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n+\nDefaults to `true`.\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=expand-wildcards]\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=index-ignore-unavailable]\n\n`include_defaults`::\n(Optional, Boolean) If `true`, the response includes default mapping values.\nDefaults to `false`.\n\n\n[[get-field-mapping-api-example]]\n==== {api-examples-title}\n\n[[get-field-mapping-api-basic-ex]]\n===== Example with index setup\n\nYou can provide field mappings when creating a new index. The following\n<<indices-create-index, create index>> API request creates the `publications`\nindex with several field mappings.\n\n[source,console]\n--------------------------------------------------\nPUT /publications\n{\n  \"mappings\": {\n    \"properties\": {\n      \"id\": { \"type\": \"text\" },\n      \"title\": { \"type\": \"text\" },\n      \"abstract\": { \"type\": \"text\" },\n      \"author\": {\n        \"properties\": {\n          \"id\": { \"type\": \"text\" },\n          \"name\": { \"type\": \"text\" }\n        }\n      }\n    }\n  }\n}\n--------------------------------------------------\n\nThe following returns the mapping of the field `title` only:\n\n[source,console]\n--------------------------------------------------\nGET publications/_mapping/field/title\n--------------------------------------------------\n// TEST[continued]\n\nThe API returns the following response:\n\n[source,console-result]\n--------------------------------------------------\n{\n   \"publications\": {\n      \"mappings\": {\n          \"title\": {\n             \"full_name\": \"title\",\n             \"mapping\": {\n                \"title\": {\n                   \"type\": \"text\"\n                }\n             }\n          }\n       }\n   }\n}\n--------------------------------------------------\n\n[[get-field-mapping-api-specific-fields-ex]]\n===== Specifying fields\n\nThe get mapping API allows you to specify a comma-separated list of fields.\n\nFor instance to select the `id` of the `author` field, you must use its full name `author.id`.\n\n[source,console]\n--------------------------------------------------\nGET publications/_mapping/field/author.id,abstract,name\n--------------------------------------------------\n// TEST[continued]\n\nreturns:\n\n[source,console-result]\n--------------------------------------------------\n{\n   \"publications\": {\n      \"mappings\": {\n        \"author.id\": {\n           \"full_name\": \"author.id\",\n           \"mapping\": {\n              \"id\": {\n                 \"type\": \"text\"\n              }\n           }\n        },\n        \"abstract\": {\n           \"full_name\": \"abstract\",\n           \"mapping\": {\n              \"abstract\": {\n                 \"type\": \"text\"\n              }\n           }\n        }\n     }\n   }\n}\n--------------------------------------------------\n\nThe get field mapping API also supports wildcard notation.\n\n[source,console]\n--------------------------------------------------\nGET publications/_mapping/field/a*\n--------------------------------------------------\n// TEST[continued]\n\nreturns:\n\n[source,console-result]\n--------------------------------------------------\n{\n   \"publications\": {\n      \"mappings\": {\n         \"author.name\": {\n            \"full_name\": \"author.name\",\n            \"mapping\": {\n               \"name\": {\n                 \"type\": \"text\"\n               }\n            }\n         },\n         \"abstract\": {\n            \"full_name\": \"abstract\",\n            \"mapping\": {\n               \"abstract\": {\n                  \"type\": \"text\"\n               }\n            }\n         },\n         \"author.id\": {\n            \"full_name\": \"author.id\",\n            \"mapping\": {\n               \"id\": {\n                  \"type\": \"text\"\n               }\n            }\n         }\n      }\n   }\n}\n--------------------------------------------------\n\n[[get-field-mapping-api-multi-index-ex]]\n===== Multiple targets and fields\n\nThe get field mapping API can be used to get mappings for multiple fields from\nmultiple data streams or indices with a single request.\n\nThe `<target>` and `<field>` request path parameters both support\ncomma-separated lists and wildcard expressions.\n\nYou can omit the `<target>` parameter or use a value of `*` or `_all` to target\nall data streams and indices in a cluster.\n\nSimilarly, you can omit the `<field>` parameter or use a value of `*` to\nretrieve mappings for all fields in the targeted data streams or indices.\nHowever, the `<field>` parameter does not support the `_all` value.\n\nFor example, the following request retrieves mappings for the `message` field in\nany data stream or index named `my-index-000001` or `my-index-000002`.\n\n[source,console]\n----\nGET /my-index-000001,my-index-000002/_mapping/field/message\n----\n// TEST[setup:my_index]\n// TEST[s/^/PUT my-index-000002\\n/]\n\nThe following request retrieves mappings for the `message` and `user.id` fields\nin any data stream or index in the cluster.\n\n[source,console]\n----\nGET /_all/_mapping/field/message\n----\n// TEST[setup:my_index]\n\nThe following request retrieves mappings for fields with an `id` property in any\ndata stream or index in the cluster.\n\n[source,console]\n----\nGET /_all/_mapping/field/*.id\n----\n// TEST[setup:my_index]\n"
}