{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.223067",
        "size": 6586,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/get-dfanalytics.html",
        "type": "documentation",
        "role": [
            "child_attributes"
        ],
        "has_code": true,
        "title": "get-dfanalytics",
        "version": "8.15"
    },
    "doc": "[[get-dfanalytics]]\n= Get {dfanalytics-jobs} API\n[subs=\"attributes\"]\n++++\n<titleabbrev>Get {dfanalytics-jobs}</titleabbrev>\n++++\n\nRetrieves configuration information for {dfanalytics-jobs}.\n\n\n[[ml-get-dfanalytics-request]]\n== {api-request-title}\n\n`GET _ml/data_frame/analytics/<data_frame_analytics_id>` +\n\n`GET _ml/data_frame/analytics/<data_frame_analytics_id>,<data_frame_analytics_id>` +\n\n`GET _ml/data_frame/analytics/` +\n\n`GET _ml/data_frame/analytics/_all`\n\n\n[[ml-get-dfanalytics-prereq]]\n== {api-prereq-title}\n\nRequires the `monitor_ml` cluster privilege. This privilege is included in the \n`machine_learning_user` built-in role.\n\n\n[[ml-get-dfanalytics-desc]]\n== {api-description-title}\n\nYou can get information for multiple {dfanalytics-jobs} in a single API request\nby using a comma-separated list of {dfanalytics-jobs} or a wildcard expression.\n\n\n[[ml-get-dfanalytics-path-params]]\n== {api-path-parms-title}\n\n`<data_frame_analytics_id>`::\n(Optional, string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=job-id-data-frame-analytics-default]\n+\n--\nYou can get information for all {dfanalytics-jobs} by using _all, by specifying\n`*` as the `<data_frame_analytics_id>`, or by omitting the\n`<data_frame_analytics_id>`.\n--\n\n\n[[ml-get-dfanalytics-query-params]]\n== {api-query-parms-title}\n\n`allow_no_match`::\n(Optional, Boolean)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=allow-no-match-dfa-jobs]\n\n`exclude_generated`::\n(Optional, Boolean)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=exclude-generated]\n\n`from`::\n(Optional, integer)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=from]\n\n`size`::\n(Optional, integer)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=size]\n\n[role=\"child_attributes\"]\n[[ml-get-dfanalytics-results]]\n== {api-response-body-title}\n\n`data_frame_analytics`::\n(array)\nAn array of {dfanalytics-job} resources, which are sorted by the `id` value in\nascending order.\n+\n.Properties of {dfanalytics-job} resources\n[%collapsible%open]\n====\n`analysis`:::\n(object) The type of analysis that is performed on the `source`.\n\n//Begin analyzed_fields\n`analyzed_fields`:::\n(object) Contains `includes` and/or `excludes` patterns that select which fields\nare included in the analysis.\n+\n.Properties of `analyzed_fields`\n[%collapsible%open]\n=====\n`excludes`:::\n(Optional, array) An array of strings that defines the fields that are excluded\nfrom the analysis.\n\n`includes`:::\n(Optional, array) An array of strings that defines the fields that are included\nin the analysis.\n=====\n//End analyzed_fields\n//Begin authorization\n`authorization`:::\n(object)\nThe security privileges that the job uses to run its queries. If\n{stack-security-features} were disabled at the time of the most recent update to\nthe job, this property is omitted.\n+\n.Properties of `authorization`\n[%collapsible%open]\n=====\n`api_key`:::\n(object) If an API key was used for the most recent update to the job, its name\nand identifier are listed in the response.\n+\n.Properties of `api_key`\n[%collapsible%open]\n======\n`id`::::\n(string) The identifier for the API key.\n\n`name`::::\n(string) The name of the API key.\n======\n\n`roles`:::\n(array of strings) If a user ID was used for the most recent update to the job,\nits roles at the time of the update are listed in the response.\n\n`service_account`:::\n(string) If a service account was used for the most recent update to the job,\nthe account name is listed in the response.\n=====\n//End authorization\n//Begin dest\n`dest`:::\n(string) The destination configuration of the analysis.\n+\n.Properties of `dest`\n[%collapsible%open]\n=====\n`index`:::\n(string) The _destination index_ that stores the results of the\n{dfanalytics-job}.\n\n`results_field`:::\n(string) The name of the field that stores the results of the analysis. Defaults\nto `ml`.\n=====\n//End dest\n\n`id`:::\n(string) The unique identifier of the {dfanalytics-job}.\n\n`model_memory_limit`:::\n(string) The `model_memory_limit` that has been set for the {dfanalytics-job}.\n\n`source`:::\n(object) The configuration of how the analysis data is sourced. It has an\n`index` parameter and optionally a `query` and a `_source`.\n+\n.Properties of `source`\n[%collapsible%open]\n=====\n`index`:::\n(array) Index or indices on which to perform the analysis. It can be a single\nindex or index pattern as well as an array of indices or patterns.\n\n`query`:::\n(object) The query that has been specified for the {dfanalytics-job}. The {es}\nquery domain-specific language (<<query-dsl,DSL>>). This value corresponds to\nthe query object in an {es} search POST body. By default, this property has the\nfollowing value: `{\"match_all\": {}}`.\n\n`_source`:::\n(object) Contains the specified `includes` and/or `excludes` patterns that\nselect which fields are present in the destination. Fields that are excluded\ncannot be included in the analysis.\n+\n.Properties of `_source`\n[%collapsible%open]\n======\n`excludes`:::\n(array) An array of strings that defines the fields that are excluded from the\ndestination.\n\n`includes`:::\n(array) An array of strings that defines the fields that are included in the\ndestination.\n======\n//End of _source\n=====\n//End source\n====\n\n\n[[ml-get-dfanalytics-response-codes]]\n== {api-response-codes-title}\n\n`404` (Missing resources)::\n  If `allow_no_match` is `false`, this code indicates that there are no\n  resources that match the request or only partial matches for the request.\n\n\n[[ml-get-dfanalytics-example]]\n== {api-examples-title}\n\nThe following example gets configuration information for the `loganalytics`\n{dfanalytics-job}:\n\n[source,console]\n--------------------------------------------------\nGET _ml/data_frame/analytics/loganalytics\n--------------------------------------------------\n// TEST[skip:TBD]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n  \"count\" : 1,\n  \"data_frame_analytics\" : [\n    {\n      \"id\" : \"loganalytics\",\n      \"create_time\" : 1656364565517,\n      \"version\" : \"8.4.0\",\n      \"authorization\" : {\n        \"roles\" : [\n          \"superuser\"\n        ]\n      },\n      \"description\" : \"Outlier detection on log data\",\n      \"source\" : {\n        \"index\" : [\n          \"logdata\"\n        ],\n        \"query\" : {\n          \"match_all\" : { }\n        }\n      },\n      \"dest\" : {\n        \"index\" : \"logdata_out\",\n        \"results_field\" : \"ml\"\n      },\n      \"analysis\" : {\n        \"outlier_detection\" : {\n          \"compute_feature_influence\" : true,\n          \"outlier_fraction\" : 0.05,\n          \"standardization_enabled\" : true\n        }\n      },\n      \"model_memory_limit\" : \"1gb\",\n      \"allow_lazy_start\" : false,\n      \"max_num_threads\" : 1\n    }\n  ]\n}\n----\n"
}