{
    "meta": {
        "size": 4702,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/migrating-8.13.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "migrating-8.13",
        "version": "8.15"
    },
    "doc": "[[migrating-8.13]]\n== Migrating to 8.13\n++++\n<titleabbrev>8.13</titleabbrev>\n++++\n\nThis section discusses the changes that you need to be aware of when migrating\nyour application to {es} 8.13.\n\nSee also <<release-highlights>> and <<es-release-notes>>.\n\ncoming::[8.13.0]\n\n\n[discrete]\n[[breaking-changes-8.13]]\n=== Breaking changes\n\nThere are no breaking changes in 8.13.\n\n[discrete]\n[[migrate-notable-changes-8.13]]\n=== Notable changes\nThe following are notable, non-breaking updates to be aware of:\n\n* Changes to features that are in Technical Preview.\n* Changes to log formats.\n* Changes to non-public APIs.\n* Behaviour changes that repair critical bugs.\n\n[discrete]\n[[breaking_813_index_setting_changes]]\n==== Index setting changes\n\n[[change_index_look_ahead_time_index_settings_default_value_from_2_hours_to_30_minutes]]\n.Change `index.look_ahead_time` index setting's default value from 2 hours to 30 minutes.\n[%collapsible]\n====\n*Details* +\nLower the `index.look_ahead_time` index setting's max value from 2 hours to 30 minutes.\n\n*Impact* +\nDocuments with @timestamp of 30 minutes or more in the future will be rejected. Before documents with @timestamp of 2 hours or more in the future were rejected. If the previous behaviour should be kept, then update the `index.look_ahead_time` setting to two hours before performing the upgrade.\n====\n\n[[lower_look_ahead_time_index_settings_max_value]]\n.Lower the `look_ahead_time` index setting's max value\n[%collapsible]\n====\n*Details* +\nLower the `look_ahead_time` index setting's max value from 7 days to 2 hours.\n\n*Impact* +\nAny value between 2 hours and 7 days will be as a look ahead time  of 2 hours is defined\n====\n\n[discrete]\n[[breaking_813_rest_api_changes]]\n==== REST API changes\n\n[[esql_grammar_from_metadata_no_longer_requires]]\n.ESQL: Grammar - FROM METADATA no longer requires []\n[%collapsible]\n====\n*Details* +\nRemove [ ] for METADATA option inside FROM command statements\n\n*Impact* +\nPreviously to return metadata fields, one had to use square brackets: (eg. 'FROM index [METADATA _index]'). This is no longer needed: the [ ] are dropped and do not have to be specified, thus simplifying the command above to:'FROM index METADATA _index'.\n====\n\n[[es_ql_remove_project_keyword_from_grammar]]\n.ES|QL: remove PROJECT keyword from the grammar\n[%collapsible]\n====\n*Details* +\nRemoves the PROJECT keyword (an alias for KEEP) from ES|QL grammar\n\n*Impact* +\nBefore this change, users could use PROJECT as an alias for KEEP in ESQL queries, (eg. 'FROM idx | PROJECT name, surname') the parser replaced PROJECT with KEEP, emitted a warning: 'PROJECT command is no longer supported, please use KEEP instead' and the query was executed normally. With this change, PROJECT command is no longer recognized by the query parser; queries using PROJECT command now return a parsing exception.\n====\n\n[[esql_remove_nan_finite_infinite]]\n.[ESQL] Remove is_nan, is_finite, and `is_infinite`\n[%collapsible]\n====\n*Details* +\nRemoves the functions `is_nan`, `is_finite`, and `is_infinite`.\n\n*Impact* +\nAttempting to use the above functions will now be a planner time error.  These functions are no longer supported.\n====\n\n\n[discrete]\n[[deprecated-8.13]]\n=== Deprecations\n\nThe following functionality has been deprecated in {es} 8.13\nand will be removed in a future version.\nWhile this won't have an immediate impact on your applications,\nwe strongly encourage you to take the described steps to update your code\nafter upgrading to 8.13.\n\nTo find out if you are using any deprecated functionality,\nenable <<deprecation-logging, deprecation logging>>.\n\n[discrete]\n[[deprecations_813_cluster_and_node_setting]]\n==== Cluster and node setting deprecations\n\n[[deprecate_client_type]]\n.Deprecate `client.type`\n[%collapsible]\n====\n*Details* +\nThe node setting `client.type` has been ignored since the node client was removed in 8.0. The setting is now deprecated and will be removed in a future release.\n\n*Impact* +\nRemove the `client.type` setting from `elasticsearch.yml`\n====\n\n[discrete]\n[[deprecations_813_rest_api]]\n==== REST API deprecations\n\n[[desirednode_deprecate_node_version_field_make_it_optional_for_current_version]]\n.`DesiredNode:` deprecate `node_version` field and make it optional for the current version\n[%collapsible]\n====\n*Details* +\nThe desired_node API includes a `node_version` field to perform validation on the new node version required. This kind of check is too broad, and it's better done by external logic, so it has been removed, making the `node_version` field not necessary. The field will be removed in a later version.\n\n*Impact* +\nUsers should update their usages of `desired_node` to not include the `node_version` field anymore.\n====\n\n"
}