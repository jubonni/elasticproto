{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.161068",
        "size": 2697,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-fuzzy-query.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "query-dsl-fuzzy-query",
        "version": "8.15"
    },
    "doc": "[[query-dsl-fuzzy-query]]\n=== Fuzzy query\n++++\n<titleabbrev>Fuzzy</titleabbrev>\n++++\n\nReturns documents that contain terms similar to the search term, as measured by\na {wikipedia}/Levenshtein_distance[Levenshtein edit distance].\n\nAn edit distance is the number of one-character changes needed to turn one term\ninto another. These changes can include:\n\n* Changing a character (**b**ox \u2192 **f**ox)\n* Removing a character (**b**lack \u2192 lack)\n* Inserting a character (sic \u2192 sic**k**)\n* Transposing two adjacent characters (**ac**t \u2192 **ca**t)\n\nTo find similar terms, the `fuzzy` query creates a set of all possible\nvariations, or expansions, of the search term within a specified edit distance.\nThe query then returns exact matches for each expansion.\n\n[[fuzzy-query-ex-request]]\n==== Example requests\n\n[[fuzzy-query-ex-simple]]\n===== Simple example\n\n[source,console]\n----\nGET /_search\n{\n  \"query\": {\n    \"fuzzy\": {\n      \"user.id\": {\n        \"value\": \"ki\"\n      }\n    }\n  }\n}\n----\n\n[[fuzzy-query-ex-advanced]]\n===== Example using advanced parameters\n\n[source,console]\n----\nGET /_search\n{\n  \"query\": {\n    \"fuzzy\": {\n      \"user.id\": {\n        \"value\": \"ki\",\n        \"fuzziness\": \"AUTO\",\n        \"max_expansions\": 50,\n        \"prefix_length\": 0,\n        \"transpositions\": true,\n        \"rewrite\": \"constant_score_blended\"\n      }\n    }\n  }\n}\n----\n\n[[fuzzy-query-top-level-params]]\n==== Top-level parameters for `fuzzy`\n`<field>`::\n(Required, object) Field you wish to search.\n\n[[fuzzy-query-field-params]]\n==== Parameters for `<field>`\n`value`::\n(Required, string) Term you wish to find in the provided `<field>`.\n\n`fuzziness`::\n(Optional, string) Maximum edit distance allowed for matching. See <<fuzziness>>\nfor valid values and more information.\n\n\n`max_expansions`::\n+\n--\n(Optional, integer) Maximum number of variations created. Defaults to `50`.\n\nWARNING: Avoid using a high value in the `max_expansions` parameter, especially\nif the `prefix_length` parameter value is `0`. High values in the\n`max_expansions` parameter can cause poor performance due to the high number of\nvariations examined.\n--\n\n`prefix_length`::\n(Optional, integer) Number of beginning characters left unchanged when creating\nexpansions. Defaults to `0`.\n\n`transpositions`::\n(Optional, Boolean) Indicates whether edits include transpositions of two\nadjacent characters (ab \u2192 ba). Defaults to `true`.\n\n`rewrite`::\n(Optional, string) Method used to rewrite the query. For valid values and more\ninformation, see the <<query-dsl-multi-term-rewrite, `rewrite` parameter>>.\n\n[[fuzzy-query-notes]]\n==== Notes\nFuzzy queries will not be executed if <<query-dsl-allow-expensive-queries, `search.allow_expensive_queries`>>\nis set to false.\n"
}