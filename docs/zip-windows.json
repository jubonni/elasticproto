{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.567272",
        "size": 11473,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/zip-windows.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "zip-windows",
        "version": "8.15"
    },
    "doc": "[[zip-windows]]\n=== Install {es} with `.zip` on Windows\n\n:include-xpack: true\n\n{es} can be installed on Windows using the Windows `.zip` archive. This\ncomes with a `elasticsearch-service.bat` command which will setup {es} to run as a\nservice.\n\ninclude::license.asciidoc[]\n\nNOTE: On Windows the {es} {ml} feature requires the Microsoft Universal\nC Runtime library. This is built into Windows 10, Windows Server 2016 and more\nrecent versions of Windows. For older versions of Windows it can be installed\nvia Windows Update, or from a\nhttps://support.microsoft.com/en-us/help/2999226/update-for-universal-c-runtime-in-windows[separate download].\nIf you cannot install the Microsoft Universal C Runtime library you can still\nuse the rest of {es} if you disable the {ml} feature.\n\nThe latest stable version of {es} can be found on the\nlink:/downloads/elasticsearch[Download {es}] page.\nOther versions can be found on the\nlink:/downloads/past-releases[Past Releases page].\n\nNOTE: {es} includes a bundled version of https://openjdk.java.net[OpenJDK]\nfrom the JDK maintainers (GPLv2+CE). To use your own version of Java,\nsee the <<jvm-version, JVM version requirements>>\n\n[[install-windows]]\n==== Download and install the `.zip` package\n\nifeval::[\"{release-state}\"==\"unreleased\"]\n\nWARNING: Version {version} of {es} has not yet been released. The archive might not be available.\n\nendif::[]\n\nDownload the `.zip` archive for {es} {version} from: https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-{version}-windows-x86_64.zip\n\nUnzip it with your favorite unzip tool. This will create a folder called\n+elasticsearch-{version}+, which we will refer to as `%ES_HOME%`. In a terminal\nwindow, `cd` to the `%ES_HOME%` directory, for instance:\n\n[\"source\",\"sh\",subs=\"attributes\"]\n----------------------------\ncd C:\\Program Files\\elasticsearch-{version}\n----------------------------\n\nifdef::include-xpack[]\n[role=\"xpack\"]\n[[windows-enable-indices]]\n==== Enable automatic creation of system indices\n\ninclude::xpack-indices.asciidoc[]\n\nendif::include-xpack[]\n\n[[windows-running]]\ninclude::zip-windows-start.asciidoc[]\n\n[[windows-configuring]]\n==== Configure {es} on the command line\n\n{es} loads its configuration from the `%ES_HOME%\\config\\elasticsearch.yml`\nfile by default. The format of this config file is explained in\n<<settings>>.\n\nAny settings that can be specified in the config file can also be specified on\nthe command line, using the `-E` syntax as follows:\n\n[source,sh]\n--------------------------------------------\n.\\bin\\elasticsearch.bat -Ecluster.name=my_cluster -Enode.name=node_1\n--------------------------------------------\n\nNOTE: Values that contain spaces must be surrounded with quotes. For instance `-Epath.logs=\"C:\\My Logs\\logs\"`.\n\nTIP: Typically, any cluster-wide settings (like `cluster.name`) should be\nadded to the `elasticsearch.yml` config file, while any node-specific settings\nsuch as `node.name` could be specified on the command line.\n\n:es-conf:    %ES_HOME%\\config\n:slash:        \\\n\ninclude::check-running.asciidoc[]\n\n[[windows-service]]\n==== Install and run {es} as a service on Windows\n\nYou can install {es} as a service that runs in the background or starts\nautomatically at boot time without user interaction.\n\n. Install {es} as a service. The name of the service and the value of\n`ES_JAVA_HOME` will be made available during install:\n+\n[\"source\",\"sh\",subs=\"attributes\"]\n----\nC:\\Program Files\\elasticsearch-{version}{backslash}bin>elasticsearch-service.bat install\nInstalling service      :  \"elasticsearch-service-x64\"\nUsing ES_JAVA_HOME (64-bit):  \"C:\\jvm\\jdk1.8\"\nThe service 'elasticsearch-service-x64' has been installed.\n----\n\n. Start {es} as a service. When {es} starts, authentication is enabled by\ndefault:\n+\n[\"source\",\"sh\",subs=\"attributes\"]\n----\nC:\\Program Files\\elasticsearch-{version}{backslash}bin>bin\\elasticsearch-service.bat start\n----\n+\nNOTE: TLS is not enabled or configured when you start {es} as a service.\n\n. Generate a password for the `elastic` user with the\n<<reset-password,`elasticsearch-reset-password`>> tool. The password is output\nto the command line.\n+\n[\"source\",\"sh\",subs=\"attributes\"]\n----\nC:\\Program Files\\elasticsearch-{version}{backslash}bin>\\bin\\elasticsearch-reset-password -u elastic\n----\n\nNOTE: While a JRE can be used for the {es} service, due to its use of a client\nVM (as opposed to a server JVM which offers better performance for long-running\napplications) its usage is discouraged and a warning will be issued.\n\nNOTE: The system environment variable `ES_JAVA_HOME` should be set to the path\nof the JDK installation that you want the service to use. If you upgrade the\nJDK, you are not required to the reinstall the service but you must set the\nvalue of the system environment variable `ES_JAVA_HOME` to the path to the new\nJDK installation. However, upgrading across JVM types (e.g. JRE versus SE) is\nnot supported, and does require the service to be reinstalled.\n\n[[windows-service-manage]]\n===== Manage {es} as a service on Windows\n\nRun the `elasticsearch-service.bat` script in the `bin\\` folder to install,\nremove, manage, or configure the service and potentially start and stop the\nservice from the command line.\n\n[\"source\",\"sh\",subs=\"attributes,callouts\"]\n----\nC:\\Program Files\\elasticsearch-{version}{backslash}bin>elasticsearch-service.bat\n\nUsage: elasticsearch-service.bat install|remove|start|stop|manager [SERVICE_ID]\n----\n\nThe script requires one parameter (the command to execute), followed by an\noptional one indicating the service id (useful when installing multiple\n{es} services).\n\nThe commands available are:\n--\n[horizontal]\n`install`:: Install {es} as a service\n\n`remove`:: Remove the installed {es} service (and stop the service if started)\n\n`start`:: Start the {es} service (if installed)\n\n`stop`:: Stop the {es} service (if started)\n\n`manager`:: Start a GUI for managing the installed service\n--\n\n[[windows-service-settings]]\n[discrete]\n=== Customize service settings\n\nThe {es} service can be configured prior to installation by setting the following environment variables (either using the https://technet.microsoft.com/en-us/library/cc754250(v=ws.10).aspx[set command] from the command line, or through the *System Properties->Environment Variables* GUI).\n\n[horizontal]\n`SERVICE_ID`::\n\n  A unique identifier for the service. Useful if installing multiple instances\n  on the same machine. Defaults to `elasticsearch-service-x64`.\n\n`SERVICE_USERNAME`::\n\n  The user to run as, defaults to the local system account.\n\n`SERVICE_PASSWORD`::\n\n  The password for the user specified in `%SERVICE_USERNAME%`.\n\n`SERVICE_DISPLAY_NAME`::\n\n  The name of the service. Defaults to `{es} <version> %SERVICE_ID%`.\n\n`SERVICE_DESCRIPTION`::\n\n  The description of the service. Defaults to `{es} <version> Windows Service - https://elastic.co`.\n\n`ES_JAVA_HOME`::\n\n  The installation directory of the desired JVM to run the service under.\n\n`SERVICE_LOG_DIR`::\n\n    Service log directory, defaults to `%ES_HOME%\\logs`. Note that this does\n    not control the path for the {es} logs; the path for these is set\n    via the setting `path.logs` in the `elasticsearch.yml` configuration file,\n    or on the command line.\n\n`ES_PATH_CONF`::\n\n    Configuration file directory (which needs to include `elasticsearch.yml`,\n    `jvm.options`, and `log4j2.properties` files), defaults to\n    `%ES_HOME%\\config`.\n\n`ES_JAVA_OPTS`::\n\n    Any additional JVM system properties you may want to apply.\n\n`ES_START_TYPE`::\n\n    Startup mode for the service. Can be either `auto` or `manual` (default).\n\n`ES_STOP_TIMEOUT`::\n\n  The timeout in seconds that procrun waits for service to exit gracefully. Defaults to `0`.\n\nNOTE: At its core, `elasticsearch-service.bat` relies on https://commons.apache.org/proper/commons-daemon/[Apache Commons Daemon] project\nto install the service. Environment variables set prior to the service installation are copied and will be used during the service lifecycle. This means any changes made to them after the installation will not be picked up unless the service is reinstalled.\n\n[NOTE]\n====\nBy default, {es} automatically sizes JVM heap based on a node's\n<<node-roles,roles>> and total memory. We recommend this default sizing for most\nproduction environments. If needed, you can override default sizing by manually\nsetting the heap size.\n\nWhen installing {es} on Windows as a service for the first time or running {es}\nfrom the command line, you can manually <<set-jvm-heap-size>>.\nTo resize the heap for an already installed service,\nuse the service manager: `bin\\elasticsearch-service.bat manager`.\n====\n\nNOTE: The service automatically configures a private temporary directory for use\nby {es} when it is running. This private temporary directory is\nconfigured as a sub-directory of the private temporary directory for the user\nrunning the installation. If the service will run under a different user, you\ncan configure the location of the temporary directory that the service should\nuse by setting the environment variable `ES_TMPDIR` to the preferred location\nbefore you execute the service installation.\n\nUsing the Manager GUI::\n\nIt is also possible to configure the service after it's been installed using the manager GUI (`elasticsearch-service-mgr.exe`), which offers insight into the installed service, including its status, startup type, JVM, start and stop settings amongst other things. Invoke `elasticsearch-service.bat manager` from the command-line to open the manager window.\n\nMost changes (like JVM settings) made through the manager GUI will require a restart of the service to take affect.\n\ninclude::connect-clients.asciidoc[]\n\n[[windows-layout]]\n==== Directory layout of `.zip` archive\n\nThe `.zip` package is entirely self-contained. All files and directories are,\nby default, contained within `%ES_HOME%` -- the directory created when\nunpacking the archive.\n\nThis is very convenient because you don't have to create any directories to\nstart using {es}, and uninstalling {es} is as easy as\nremoving the `%ES_HOME%` directory. However, it is advisable to change the\ndefault locations of the config directory, the data directory, and the logs\ndirectory so that you do not delete important data later on.\n\n\n[cols=\"<h,<,<m,<m\",options=\"header\",]\n|=======================================================================\n| Type | Description | Default Location | Setting\n| home\n  | {es} home directory or `%ES_HOME%`\n d| Directory created by unpacking the archive\n  |\n\n| bin\n  | Binary scripts including `elasticsearch` to start a node\n    and `elasticsearch-plugin` to install plugins\n  | %ES_HOME%\\bin\n d|\n\n| conf\n  | Configuration files including `elasticsearch.yml`\n  | %ES_HOME%\\config\n  | <<config-files-location,ES_PATH_CONF>>\n\n| conf\n  | Generated TLS keys and certificates for the transport and HTTP layer.\n  | %ES_HOME%\\config\\certs\n d|\n\n| data\n  | The location of the data files of each index / shard allocated\n    on the node.\n  | %ES_HOME%\\data\n  | path.data\n\n| logs\n  | Log files location.\n  | %ES_HOME%\\logs\n  | path.logs\n\n| plugins\n  | Plugin files location. Each plugin will be contained in a subdirectory.\n  | %ES_HOME%\\plugins\n  |\n\n| repo\n  | Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.\n d| Not configured\n  | path.repo\n\n|=======================================================================\n\ninclude::next-steps.asciidoc[]\n"
}