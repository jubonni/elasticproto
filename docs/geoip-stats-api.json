{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.605579",
        "size": 2688,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/geoip-stats-api.html",
        "type": "documentation",
        "role": [
            "child_attributes"
        ],
        "has_code": false,
        "title": "geoip-stats-api",
        "version": "8.15"
    },
    "doc": "[[geoip-stats-api]]\n=== GeoIP stats API\n++++\n<titleabbrev>GeoIP stats</titleabbrev>\n++++\n\nGets statistics about the <<geoip-processor,`geoip` processor>>, including\ndownload statistics for GeoIP2 databases used with it.\n\n[source,console]\n----\nGET _ingest/geoip/stats\n----\n\n[[geoip-stats-api-request]]\n==== {api-request-title}\n\n`GET _ingest/geoip/stats`\n\n[[geoip-stats-api-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the `monitor` or\n`manage` <<privileges-list-cluster,cluster privilege>> to use this API.\n\n* If <<ingest-geoip-downloader-enabled,`ingest.geoip.downloader.enabled`>> is\ndisabled and no custom databases are configured, this API returns zero values and an empty `nodes` object.\n\n[role=\"child_attributes\"]\n[[geoip-stats-api-response-body]]\n==== {api-response-body-title}\n\n`stats`::\n(object)\nDownload statistics for all GeoIP2 databases.\n+\n.Properties of `stats`\n[%collapsible%open]\n====\n`successful_downloads`::\n(integer)\nTotal number of successful database downloads.\n\n`failed_downloads`::\n(integer)\nTotal number of failed database downloads.\n\n`total_download_time`::\n(integer)\nTotal milliseconds spent downloading databases.\n\n`database_count`::\n(integer)\nCurrent number of databases available for use.\n\n`skipped_updates`::\n(integer)\nTotal number of database updates skipped.\n====\n\n`nodes`::\n(object)\nStatistics for each node.\n+\n.Properties of `nodes`\n[%collapsible%open]\n====\n`<node_id>`::\n(object)\nDownloaded databases for the node. The field key is the node ID.\n+\n.Properties of `<node_id>`\n[%collapsible%open]\n=====\n`databases`::\n(array of objects)\nDownloaded databases for the node.\n+\n.Properties of `databases` objects\n[%collapsible%open]\n======\n`name`::\n(string)\nName of the database.\n======\n`cache_stats`::\n(object)\nGeoIP cache stats for the node.\n+\n.Properties of `cache_stats`\n[%collapsible%open]\n======\n`count`::\n(Long)\nNumber of cached entries.\n\n`hits`::\n(Long)\nThe number of enrich lookups served from cache.\n\n`misses`::\n(Long)\nThe number of times geoIP lookups couldn't be\nserved from cache.\n\n`evictions`::\n(Long)\nThe number cache entries evicted from the cache.\n\n`hits_time_in_millis`::\n(Long)\nThe amount of time in milliseconds spent fetching data from the cache on successful cache hits only.\n\n`misses_time_in_millis`::\n(Long)\nThe amount of time in milliseconds spent fetching data from the cache and the backing GeoIP2 database and updating the\ncache, on cache misses only.\n\n======\n\n\n`files_in_temp`::\n(array of strings)\nDownloaded database files, including related license files. {es} stores these\nfiles in the node's <<es-tmpdir,temporary directory>>:\n`$ES_TMPDIR/geoip-databases/<node_id>`.\n=====\n====\n"
}