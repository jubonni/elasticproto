{
    "meta": {
        "size": 3271,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/release-notes-8.4.2.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "release-notes-8.4.2",
        "version": "8.15"
    },
    "doc": "[[release-notes-8.4.2]]\n== {es} version 8.4.2\n\nAlso see <<breaking-changes-8.4,Breaking changes in 8.4>>.\n\n[[known-issues-8.4.2]]\n[float]\n=== Known issues\n\n* **This version contains a regression in `multi_match` queries that use the\n`cross_fields` scoring type.** {es}\n+\nWhen running a <<query-dsl-multi-match-query,`multi_match`>> query with the\n`cross_fields` type, {es} can sometimes throw an IllegalArgument exception\nwith the message \"totalTermFreq must be at least docFreq\". If you use the\n`cross_fields` scoring type, it is recommended that you skip version 8.4.2.\nThis regression was fixed in version 8.4.3.\n\n* When using date range search with format that does not have all date fields (missing month or day)\nan incorrectly parsed date could be used. The workaround is to use date pattern with all date fields (year, month, day)\n(issue: {es-issue}90187[#90187])\n\ninclude::8.4.0.asciidoc[tag=ml-pre-7-datafeeds-known-issue]\n\ninclude::8.4.0.asciidoc[tag=file-based-settings-deadlock-known-issue]\n\ninclude::8.0.0.asciidoc[tag=jackson-filtering-bug]\n\ninclude::8.4.0.asciidoc[tag=ingest-processor-log4j-cluster-instability-known-issue]\n\n[[bug-8.4.2]]\n[float]\n=== Bug fixes\n\nAllocation::\n* Fix debug mode in `MaxRetryAllocationDecider` {es-pull}89973[#89973]\n\nAuthentication::\n* Fix double sending of response in `TransportOpenIdConnectPrepareAuthenticationAction` {es-pull}89930[#89930]\n\nAutoscaling::\n* Fix issue with autoscaling after a clone or split {es-pull}89768[#89768] (issue: {es-issue}89758[#89758])\n\nHealth::\n* Fix the conditions for fetching remote master history {es-pull}89472[#89472] (issue: {es-issue}89431[#89431])\n\nILM+SLM::\n* Copy `isHidden` during ILM alias swap {es-pull}89650[#89650] (issue: {es-issue}89604[#89604])\n\nInfra/Core::\n* Extend the date rounding logic to be conditional {es-pull}89693[#89693] (issues: {es-issue}89096[#89096], {es-issue}58986[#58986])\n* Fix `FileSettingsService` hang on error update {es-pull}89630[#89630]\n* Implement fix to terminate file Watcher thread to avoid deadlock {es-pull}89934[#89934]\n\nIngest Node::\n* Fix pipeline `id` not present in ingest metadata inside `on_failure` block {es-pull}89632[#89632]\n\nMachine Learning::\n* Fix memory leak in `TransportDeleteExpiredDataAction` {es-pull}89935[#89935]\n* Do not retain categorization tokens when existing category matches {ml-pull}2398[#2398]\n\nNetwork::\n* Fix memory leak when double invoking `RestChannel.sendResponse` {es-pull}89873[#89873]\n\nRanking::\n* Avoid negative scores with `cross_fields` type {es-pull}89016[#89016] (issue: {es-issue}44700[#44700])\n\nRollup::\n* Fork `TransportRollupCapsAction` to MANAGEMENT POOL {es-pull}89803[#89803]\n\nSearch::\n* Empty intervals needs to start in position -1 {es-pull}89962[#89962] (issue: {es-issue}89789[#89789])\n\nTransform::\n* Scheduler concurrency fix {es-pull}89716[#89716] (issue: {es-issue}88991[#88991])\n\n[[enhancement-8.4.2]]\n[float]\n=== Enhancements\n\nAllocation::\n* Log unsuccessful attempts to get credentials from web identity tokens {es-pull}88241[#88241]\n\nHealth::\n* Add delayed allocation diagnosis case to shards availability indicator {es-pull}89056[#89056]\n\n[[upgrade-8.4.2]]\n[float]\n=== Upgrades\n\nPackaging::\n* Update OpenJDK to 18.0.2.1 {es-pull}89535[#89535] (issue: {es-issue}89531[#89531])\n"
}