{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.633578",
        "size": 4526,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/get-enrich-policy-api.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "get-enrich-policy-api",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[get-enrich-policy-api]]\n=== Get enrich policy API\n++++\n<titleabbrev>Get enrich policy</titleabbrev>\n++++\n\nReturns information about an <<enrich-policy,enrich policy>>.\n\n////\n[source,console]\n----\nPUT /users\n{\n  \"mappings\" : {\n    \"properties\" : {\n      \"email\" : { \"type\" : \"keyword\" }\n    }\n  }\n}\n\nPUT /_enrich/policy/my-policy\n{\n  \"match\": {\n    \"indices\": \"users\",\n    \"match_field\": \"email\",\n    \"enrich_fields\": [\"first_name\", \"last_name\", \"city\", \"zip\", \"state\"]\n  }\n}\n\nPUT /_enrich/policy/other-policy\n{\n  \"match\": {\n    \"indices\": \"users\",\n    \"match_field\": \"email\",\n    \"enrich_fields\": [\"first_name\", \"last_name\", \"city\", \"zip\", \"state\"]\n  }\n}\n----\n////\n\n[source,console]\n--------------------------------------------------\nGET /_enrich/policy/my-policy\n--------------------------------------------------\n// TEST[continued]\n\n\n[[get-enrich-policy-api-request]]\n==== {api-request-title}\n\n`GET /_enrich/policy/<name>`\n\n`GET /_enrich/policy`\n\n`GET /_enrich/policy/policy1,policy2`\n\n\n[[get-enrich-policy-api-prereqs]]\n==== {api-prereq-title}\n\ninclude::put-enrich-policy.asciidoc[tag=enrich-policy-api-prereqs]\n\n\n[[get-enrich-policy-api-path-params]]\n==== {api-path-parms-title}\n\n`<name>`::\n+\n--\n(Optional, string)\nComma-separated list of enrich policy names\nused to limit the request.\n\nTo return information for all enrich policies,\nomit this parameter.\n--\n\n\n[[get-enrich-policy-api-example]]\n==== {api-examples-title}\n\n\n[[get-enrich-policy-api-single-ex]]\n===== Get a single policy\n\n[source,console]\n--------------------------------------------------\nGET /_enrich/policy/my-policy\n--------------------------------------------------\n// TEST[continued]\n\nThe API returns the following response:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"policies\": [\n    {\n      \"config\": {\n        \"match\": {\n          \"name\": \"my-policy\",\n          \"indices\": [ \"users\" ],\n          \"match_field\": \"email\",\n          \"enrich_fields\": [\n            \"first_name\",\n            \"last_name\",\n            \"city\",\n            \"zip\",\n            \"state\"\n          ]\n        }\n      }\n    }\n  ]\n}\n--------------------------------------------------\n\n\n[[get-enrich-policy-api-commas-ex]]\n===== Get multiple policies\n\n[source,console]\n--------------------------------------------------\nGET /_enrich/policy/my-policy,other-policy\n--------------------------------------------------\n// TEST[continued]\n\nThe API returns the following response:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"policies\": [\n    {\n      \"config\": {\n        \"match\": {\n          \"name\": \"my-policy\",\n          \"indices\": [ \"users\" ],\n          \"match_field\": \"email\",\n          \"enrich_fields\": [\n            \"first_name\",\n            \"last_name\",\n            \"city\",\n            \"zip\",\n            \"state\"\n          ]\n        }\n      }\n    },\n    {\n      \"config\": {\n        \"match\": {\n          \"name\": \"other-policy\",\n          \"indices\": [ \"users\" ],\n          \"match_field\": \"email\",\n          \"enrich_fields\": [\n            \"first_name\",\n            \"last_name\",\n            \"city\",\n            \"zip\",\n            \"state\"\n          ]\n        }\n      }\n    }\n  ]\n}\n--------------------------------------------------\n\n\n[[get-enrich-policy-api-all-ex]]\n===== Get all policies\n\n[source,console]\n--------------------------------------------------\nGET /_enrich/policy\n--------------------------------------------------\n// TEST[continued]\n\nThe API returns the following response:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"policies\": [\n    {\n      \"config\": {\n        \"match\": {\n          \"name\": \"my-policy\",\n          \"indices\": [ \"users\" ],\n          \"match_field\": \"email\",\n          \"enrich_fields\": [\n            \"first_name\",\n            \"last_name\",\n            \"city\",\n            \"zip\",\n            \"state\"\n          ]\n        }\n      }\n    },\n    {\n      \"config\": {\n        \"match\": {\n          \"name\": \"other-policy\",\n          \"indices\": [ \"users\" ],\n          \"match_field\": \"email\",\n          \"enrich_fields\": [\n            \"first_name\",\n            \"last_name\",\n            \"city\",\n            \"zip\",\n            \"state\"\n          ]\n        }\n      }\n    }\n  ]\n}\n--------------------------------------------------\n\n////\n[source,console]\n--------------------------------------------------\nDELETE /_enrich/policy/my-policy\nDELETE /_enrich/policy/other-policy\n--------------------------------------------------\n// TEST[continued]\n////\n"
}