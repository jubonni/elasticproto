{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.588582",
        "size": 2652,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/span-queries.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "span-queries",
        "version": "8.15"
    },
    "doc": "[[span-queries]]\n== Span queries\n\nSpan queries are low-level positional queries which provide expert control\nover the order and proximity of the specified terms. These are typically used\nto implement very specific queries on legal documents or patents.\n\nIt is only allowed to set boost on an outer span query. Compound span queries,\nlike span_near, only use the list of matching spans of inner span queries in\norder to find their own spans, which they then use to produce a score. Scores\nare never computed on inner span queries, which is the reason why boosts are not\nallowed: they only influence the way scores are computed, not spans.\n\nSpan queries cannot be mixed with non-span queries (with the exception of the `span_multi` query).\n\nThe queries in this group are:\n\n<<query-dsl-span-containing-query,`span_containing` query>>::\nAccepts a list of span queries, but only returns those spans which also match a second span query.\n\n<<query-dsl-span-field-masking-query,`span_field_masking` query>>::\nAllows queries like `span-near` or `span-or` across different fields.\n\n<<query-dsl-span-first-query,`span_first` query>>::\nAccepts another span query whose matches must appear within the first N\npositions of the field.\n\n<<query-dsl-span-multi-term-query,`span_multi` query>>::\nWraps a <<query-dsl-term-query,`term`>>, <<query-dsl-range-query,`range`>>,\n<<query-dsl-prefix-query,`prefix`>>, <<query-dsl-wildcard-query,`wildcard`>>,\n<<query-dsl-regexp-query,`regexp`>>, or <<query-dsl-fuzzy-query,`fuzzy`>> query.\n\n<<query-dsl-span-near-query,`span_near` query>>::\nAccepts multiple span queries whose matches must be within the specified distance of each other, and possibly in the same order.\n\n<<query-dsl-span-not-query,`span_not` query>>::\nWraps another span query, and excludes any documents which match that query.\n\n<<query-dsl-span-or-query,`span_or` query>>::\nCombines multiple span queries -- returns documents which match any of the\nspecified queries.\n\n<<query-dsl-span-term-query,`span_term` query>>::\n\nThe equivalent of the <<query-dsl-term-query,`term` query>> but for use with\nother span queries.\n\n<<query-dsl-span-within-query,`span_within` query>>::\nThe result from a single span query is returned as long is its span falls\nwithin the spans returned by a list of other span queries.\n\n\ninclude::span-containing-query.asciidoc[]\n\ninclude::span-field-masking-query.asciidoc[]\n\ninclude::span-first-query.asciidoc[]\n\ninclude::span-multi-term-query.asciidoc[]\n\ninclude::span-near-query.asciidoc[]\n\ninclude::span-not-query.asciidoc[]\n\ninclude::span-or-query.asciidoc[]\n\ninclude::span-term-query.asciidoc[]\n\ninclude::span-within-query.asciidoc[]\n"
}