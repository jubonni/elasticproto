{
    "meta": {
        "timestamp": "2024-11-01T03:07:08.934270",
        "size": 3387,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/setting-system-settings.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "setting-system-settings",
        "version": "8.15"
    },
    "doc": "[[setting-system-settings]]\n=== Configuring system settings\n\nWhere to configure systems settings depends on which package you have used to\ninstall Elasticsearch, and which operating system you are using.\n\nWhen using the `.zip` or `.tar.gz` packages, system settings can be configured:\n\n* Temporarily with <<ulimit,`ulimit`>>.\n* Permanently in <<limits.conf,`/etc/security/limits.conf`>>.\n\nWhen using the RPM or Debian packages, most system settings are set in the\n<<sysconfig,system configuration file>>. However, systems which use systemd\nrequire that system limits are specified in a\n<<systemd,systemd configuration file>>.\n\n[[ulimit]]\n==== `ulimit`\n\nOn Linux systems, `ulimit` can be used to change resource limits on a\ntemporary basis. Limits usually need to be set as `root` before switching to\nthe user that will run Elasticsearch. For example, to set the number of\nopen file handles (`ulimit -n`) to 65,535, you can do the following:\n\n[source,sh]\n--------------------------------\nsudo su  <1>\nulimit -n 65535 <2>\nsu elasticsearch <3>\n--------------------------------\n<1> Become `root`.\n<2> Change the max number of open files.\n<3> Become the `elasticsearch` user in order to start Elasticsearch.\n\nThe new limit is only applied during the current session.\n\nYou can consult all currently applied limits with `ulimit -a`.\n\n[[limits.conf]]\n==== `/etc/security/limits.conf`\n\nOn Linux systems, persistent limits can be set for a particular user by\nediting the `/etc/security/limits.conf` file. To set the maximum number of\nopen files for the `elasticsearch` user to 65,535, add the following line to\nthe `limits.conf` file:\n\n[source,sh]\n--------------------------------\nelasticsearch  -  nofile  65535\n--------------------------------\n\nThis change will only take effect the next time the `elasticsearch` user opens\na new session.\n\n[NOTE]\n.Ubuntu and `limits.conf`\n===============================\nUbuntu ignores the `limits.conf` file for processes started by `init.d`. To\nenable the `limits.conf` file, edit `/etc/pam.d/su` and uncomment the\nfollowing line:\n\n[source,sh]\n--------------------------------\n# session    required   pam_limits.so\n--------------------------------\n===============================\n\n[[sysconfig]]\n==== Sysconfig file\n\nWhen using the RPM or Debian packages, environment variables can be specified\nin the system configuration file, which is located in:\n\n[horizontal]\nRPM::     `/etc/sysconfig/elasticsearch`\nDebian::  `/etc/default/elasticsearch`\n\nHowever, system limits need to be specified via <<systemd,systemd>>.\n\n[[systemd]]\n==== Systemd configuration\n\nWhen using the RPM or Debian packages on systems that use\n{wikipedia}/Systemd[systemd], system limits must be\nspecified via systemd.\n\nThe systemd service file (`/usr/lib/systemd/system/elasticsearch.service`)\ncontains the limits that are applied by default.\n\nTo override them, add a file called\n`/etc/systemd/system/elasticsearch.service.d/override.conf` (alternatively,\nyou may run `sudo systemctl edit elasticsearch` which opens the file \nautomatically inside your default editor). Set any changes in this file,\nsuch as:\n\n[source,sh]\n---------------------------------\n[Service]\nLimitMEMLOCK=infinity\n---------------------------------\n\nOnce finished, run the following command to reload units:\n\n[source,sh]\n---------------------------------\nsudo systemctl daemon-reload\n---------------------------------\n"
}