{
    "meta": {
        "timestamp": "2024-11-01T02:49:26.541069",
        "size": 2095,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stemmer-override-tokenfilter.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "analysis-stemmer-override-tokenfilter",
        "version": "8.15"
    },
    "doc": "[[analysis-stemmer-override-tokenfilter]]\n=== Stemmer override token filter\n++++\n<titleabbrev>Stemmer override</titleabbrev>\n++++\n\nOverrides stemming algorithms, by applying a custom mapping, then\nprotecting these terms from being modified by stemmers. Must be placed\nbefore any stemming filters.\n\nRules are mappings in the form of `token1[, ..., tokenN] => override`.\n\n[cols=\"<,<\",options=\"header\",]\n|=======================================================================\n|Setting |Description\n|`rules` |A list of mapping rules to use.\n\n|`rules_path` |A path (either relative to `config` location, or\nabsolute) to a list of mappings.\n|=======================================================================\n\nHere is an example:\n\n[source,console]\n--------------------------------------------------\nPUT /my-index-000001\n{\n  \"settings\": {\n    \"analysis\": {\n      \"analyzer\": {\n        \"my_analyzer\": {\n          \"tokenizer\": \"standard\",\n          \"filter\": [ \"lowercase\", \"custom_stems\", \"porter_stem\" ]\n        }\n      },\n      \"filter\": {\n        \"custom_stems\": {\n          \"type\": \"stemmer_override\",\n          \"rules_path\": \"analysis/stemmer_override.txt\"\n        }\n      }\n    }\n  }\n}\n--------------------------------------------------\n\nWhere the file looks like:\n\n[source,stemmer_override]\n--------------------------------------------------\ninclude::{elasticsearch-root}/docs/src/test/cluster/config/analysis/stemmer_override.txt[]\n--------------------------------------------------\n\nYou can also define the overrides rules inline:\n\n[source,console]\n--------------------------------------------------\nPUT /my-index-000001\n{\n  \"settings\": {\n    \"analysis\": {\n      \"analyzer\": {\n        \"my_analyzer\": {\n          \"tokenizer\": \"standard\",\n          \"filter\": [ \"lowercase\", \"custom_stems\", \"porter_stem\" ]\n        }\n      },\n      \"filter\": {\n        \"custom_stems\": {\n          \"type\": \"stemmer_override\",\n          \"rules\": [\n            \"running, runs => run\",\n            \"stemmer => stemmer\"\n          ]\n        }\n      }\n    }\n  }\n}\n--------------------------------------------------\n"
}