{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.234270",
        "size": 2287,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/fingerprint-processor.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "fingerprint-processor",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[fingerprint-processor]]\n=== Fingerprint processor\n++++\n<titleabbrev>Fingerprint</titleabbrev>\n++++\n\nComputes a hash of the document's content. You can use this hash for\n{wikipedia}/Fingerprint_(computing)[content fingerprinting].\n\n[[fingerprint-options]]\n.Fingerprint Options\n[options=\"header\"]\n|======\n| Name               | Required | Default       | Description\n| `fields`           | yes      | n/a           | Array of fields to include in\nthe fingerprint. For objects, the processor hashes both the field key and\nvalue. For other fields, the processor hashes only the field value.\n| `target_field`     | no       | `fingerprint` | Output field for the fingerprint.\n| `salt`             | no       | <none>        |\n{wikipedia}/Salt_(cryptography)[Salt value] for the hash function.\n| `method`           | no       | `SHA-1`       | The hash method used to\ncompute the fingerprint. Must be one of `MD5`, `SHA-1`, `SHA-256`, `SHA-512`, or\n`MurmurHash3`.\n| `ignore_missing`   | no       | `false`       | If `true`, the processor\nignores any missing `fields`. If all fields are missing, the processor silently\nexits without modifying the document.\n\ninclude::common-options.asciidoc[]\n|======\n\n[discrete]\n[[fingerprint-processor-ex]]\n===== Example\n\nThe following example illustrates the use of the fingerprint processor:\n\n[source,console]\n----\nPOST _ingest/pipeline/_simulate\n{\n  \"pipeline\": {\n    \"processors\": [\n      {\n        \"fingerprint\": {\n          \"fields\": [\"user\"]\n        }\n      }\n    ]\n  },\n  \"docs\": [\n    {\n      \"_source\": {\n        \"user\": {\n          \"last_name\": \"Smith\",\n          \"first_name\": \"John\",\n          \"date_of_birth\": \"1980-01-15\",\n          \"is_active\": true\n        }\n      }\n    }\n  ]\n}\n----\n\nWhich produces the following result:\n\n[source,console-result]\n----\n{\n  \"docs\": [\n    {\n      \"doc\": {\n        ...\n        \"_source\": {\n          \"fingerprint\" : \"WbSUPW4zY1PBPehh2AA/sSxiRjw=\",\n          \"user\" : {\n            \"last_name\" : \"Smith\",\n            \"first_name\" : \"John\",\n            \"date_of_birth\" : \"1980-01-15\",\n            \"is_active\" : true\n          }\n        }\n      }\n    }\n  ]\n}\n----\n// TESTRESPONSE[s/\\.\\.\\./\"_index\":\"_index\",\"_id\":\"_id\",\"_version\":\"-3\",\"_ingest\":{\"timestamp\":$body.docs.0.doc._ingest.timestamp},/]\n"
}