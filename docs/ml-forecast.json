{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.249271",
        "size": 2972,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ml-forecast.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ml-forecast",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ml-forecast]]\n= Forecast jobs API\n++++\n<titleabbrev>Forecast jobs</titleabbrev>\n++++\n\nPredicts the future behavior of a time series by using its historical behavior. \n\n[[ml-forecast-request]]\n== {api-request-title}\n\n`POST _ml/anomaly_detectors/<job_id>/_forecast`\n\n[[ml-forecast-prereqs]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the \n`machine_learning_admin` built-in role.\n\n[[ml-forecast-desc]]\n== {api-description-title}\n\nYou can create a forecast job based on an {anomaly-job} to extrapolate future \nbehavior. Refer to\n{ml-docs}/ml-ad-forecast.html[Forecasting the future]\nand \n{ml-docs}/ml-limitations.html#ml-forecast-limitations[Forecast limitations] to \nlearn more.\n\nYou can delete a forecast by using the \n<<ml-delete-forecast,Delete forecast API>>.\n\n[NOTE]\n===============================\n\n* Forecasts are not supported for jobs that perform population analysis; an\nerror occurs if you try to create a forecast for a job that has an\n`over_field_name` property in its configuration.\n* The job must be open when you create a forecast. Otherwise, an error occurs.\n===============================\n\n[[ml-forecast-path-parms]]\n== {api-path-parms-title}\n\n`<job_id>`::\n(Required, string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=job-id-anomaly-detection]\n\n[[ml-forecast-query-parms]]\n== {api-query-parms-title}\n\n`duration`::\n  (Optional, <<time-units, time units>>) A period of time that indicates how far \n  into the future to forecast. For example, `30d` corresponds to 30 days. The \n  default value is 1 day. The forecast starts at the last record that was \n  processed.\n\n`expires_in`::\n  (Optional, <<time-units, time units>>) The period of time that forecast \n  results are retained. After a forecast expires, the results are deleted. The \n  default value is 14 days. If set to a value of `0`, the forecast is never \n  automatically deleted.\n\n`max_model_memory`::\n  (Optional, <<byte-units,byte value>>) The maximum memory the forecast can use.\n  If the forecast needs to use more than the provided amount, it will spool to\n  disk. Default is 20mb, maximum is 500mb and minimum is 1mb. If set to 40% or\n  more of the job's configured memory limit, it is automatically reduced to\n  below that amount.\n\n[[ml-forecast-request-body]]\n== {api-request-body-title}\n\nYou can also specify the query parameters (such as `duration` and\n`expires_in`) in the request body.\n\n[[ml-forecast-example]]\n== {api-examples-title}\n\n[source,console]\n--------------------------------------------------\nPOST _ml/anomaly_detectors/low_request_rate/_forecast\n{\n  \"duration\": \"10d\"\n}\n--------------------------------------------------\n// TEST[skip:requires delay]\n\nWhen the forecast is created, you receive the following results:\n[source,js]\n----\n{\n  \"acknowledged\": true,\n  \"forecast_id\": \"wkCWa2IB2lF8nSE_TzZo\"\n}\n----\n// NOTCONSOLE\n\nYou can subsequently see the forecast in the *Single Metric Viewer* in {kib}.\n"
}