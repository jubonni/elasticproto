{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.318274",
        "size": 6109,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-get-follow-info.html",
        "type": "documentation",
        "role": [
            "xpack",
            "child_attributes"
        ],
        "has_code": true,
        "title": "ccr-get-follow-info",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ccr-get-follow-info]]\n=== Get follower info API\n++++\n<titleabbrev>Get follower info</titleabbrev>\n++++\n\nRetrieves information about all <<xpack-ccr,{ccr}>> follower indices.\n\n[[ccr-get-follow-info-request]]\n==== {api-request-title}\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPUT /follower_index/_ccr/follow?wait_for_active_shards=1\n{\n  \"remote_cluster\" : \"remote_cluster\",\n  \"leader_index\" : \"leader_index\"\n}\n--------------------------------------------------\n// TESTSETUP\n// TEST[setup:remote_cluster_and_leader_index]\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nGET /<index>/_ccr/info\n--------------------------------------------------\n// TEST[s/<index>/follower_index/]\n\n[[ccr-get-follow-info-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have `monitor` cluster\nprivileges. For more information, see <<security-privileges>>.\n\n[[ccr-get-follow-info-desc]]\n==== {api-description-title}\n\nThis API lists the parameters and the status for each follower index.\nFor example, the results include follower index names, leader index names,\nreplication options and whether the follower indices are active or paused.\n\n[[ccr-get-follow-info-path-parms]]\n==== {api-path-parms-title}\n\n`<index>`::\n  (Required, string) A comma-delimited list of follower index patterns.\n\n[[ccr-get-follow-info-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n\n[role=\"child_attributes\"]\n[[ccr-get-follow-info-response-body]]\n==== {api-response-body-title}\n\n//Begin follower_indices\n`follower_indices`::\n(array) An array of follower index statistics.\n+\n.Properties of objects in `follower_indices`\n[%collapsible%open]\n====\n`follower_index`::\n(string) The name of the follower index.\n\n`leader_index`::\n(string) The name of the index in the leader cluster that is followed.\n\n//Begin parameters\n`parameters`::\n(object) An object that encapsulates {ccr} parameters. If the follower index's `status` is `paused`,\nthis object is omitted.\n+\n.Properties of `parameters`\n[%collapsible%open]\n=====\n`max_outstanding_read_requests`::\n(long) The maximum number of outstanding read requests from the remote cluster.\n\n`max_outstanding_write_requests`::\n(integer) The maximum number of outstanding write requests on the follower.\n\n`max_read_request_operation_count`::\n(integer) The maximum number of operations to pull per read from the remote\ncluster.\n\n`max_read_request_size`::\n(<<byte-units,byte value>>) The maximum size in bytes of per read of a batch of\noperations pulled from the remote cluster.\n\n`max_retry_delay`::\n(<<time-units,time value>>) The maximum time to wait before retrying an\noperation that failed exceptionally. An exponential backoff strategy is employed\nwhen retrying.\n\n`max_write_buffer_count`::\n(integer) The maximum number of operations that can be queued for writing. When\nthis limit is reached, reads from the remote cluster are deferred until the\nnumber of queued operations goes below the limit.\n\n`max_write_buffer_size`::\n(<<byte-units,byte value>>) The maximum total bytes of operations that can be\nqueued for writing. When this limit is reached, reads from the remote cluster\nare deferred until the total bytes of queued operations goes below the limit.\n\n`max_write_request_operation_count`::\n(integer) The maximum number of operations per bulk write request executed on\nthe follower.\n\n`max_write_request_size`::\n(<<byte-units,byte value>>) The maximum total bytes of operations per bulk write\nrequest executed on the follower.\n\n`read_poll_timeout`::\n(<<time-units,time value>>) The maximum time to wait for new operations on the\nremote cluster when the follower index is synchronized with the leader index.\nWhen the timeout has elapsed, the poll for operations returns to the follower so\nthat it can update some statistics, then the follower immediately attempts\nto read from the leader again.\n=====\n//End parameters\n\n`remote_cluster`::\n(string) The <<remote-clusters,remote cluster>> that contains the\nleader index.\n\n`status`::\n(string) Whether index following is `active` or `paused`.\n====\n//End follower_indices\n\n[[ccr-get-follow-info-examples]]\n==== {api-examples-title}\n\nThis example retrieves follower info:\n\n[source,console]\n--------------------------------------------------\nGET /follower_index/_ccr/info\n--------------------------------------------------\n\nIf the follower index is `active`, the API returns the following results:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"follower_indices\": [\n    {\n      \"follower_index\": \"follower_index\",\n      \"remote_cluster\": \"remote_cluster\",\n      \"leader_index\": \"leader_index\",\n      \"status\": \"active\",\n      \"parameters\": {\n        \"max_read_request_operation_count\": 5120,\n        \"max_read_request_size\": \"32mb\",\n        \"max_outstanding_read_requests\": 12,\n        \"max_write_request_operation_count\": 5120,\n        \"max_write_request_size\": \"9223372036854775807b\",\n        \"max_outstanding_write_requests\": 9,\n        \"max_write_buffer_count\": 2147483647,\n        \"max_write_buffer_size\": \"512mb\",\n        \"max_retry_delay\": \"500ms\",\n        \"read_poll_timeout\": \"1m\"\n      }\n    }\n  ]\n}\n--------------------------------------------------\n\n////\n[source,console]\n--------------------------------------------------\nPOST /follower_index/_ccr/pause_follow\n--------------------------------------------------\n// TEST[continued]\n\n[source,console]\n--------------------------------------------------\nGET /follower_index/_ccr/info\n--------------------------------------------------\n// TEST[continued]\n////\n\nIf the follower index is `paused`, the API returns the following results:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"follower_indices\": [\n    {\n      \"follower_index\": \"follower_index\",\n      \"remote_cluster\": \"remote_cluster\",\n      \"leader_index\": \"leader_index\",\n      \"status\": \"paused\"\n    }\n  ]\n}\n--------------------------------------------------\n"
}