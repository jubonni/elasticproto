{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.468271",
        "size": 2322,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/watcher-troubleshooting.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "watcher-troubleshooting",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[watcher-troubleshooting]]\n== Troubleshooting {watcher}\n[subs=\"attributes\"]\n\n[discrete]\n=== Dynamic mapping error when trying to add a watch\n\nIf you get the _Dynamic Mapping is Disabled_ error when you try to add a watch,\nverify that the index mappings for the `.watches` index are available. You can\ndo that by submitting the following request:\n\n[source,console]\n--------------------------------------------------\nGET .watches/_mapping\n--------------------------------------------------\n// TEST[skip:deprecation warning]\n\nIf the index mappings are missing, follow these steps to restore the correct\nmappings:\n\n. Stop the Elasticsearch node.\n. Add `xpack.watcher.index.rest.direct_access : true` to `elasticsearch.yml`.\n. Restart the Elasticsearch node.\n. Delete the `.watches` index:\n+\n--\n[source,console]\n--------------------------------------------------\nDELETE .watches\n--------------------------------------------------\n// TEST[skip:index deletion and deprecation warning]\n--\n. Disable direct access to the `.watches` index:\n.. Stop the Elasticsearch node.\n.. Remove `xpack.watcher.index.rest.direct_access : true` from `elasticsearch.yml`.\n.. Restart the Elasticsearch node.\n\n[discrete]\n=== Unable to send email\n\nIf you get an authentication error indicating that you need to continue the\nsign-in process from a web browser when Watcher attempts to send email, you need\nto configure Gmail to\nhttps://support.google.com/accounts/answer/6010255?hl=en[Allow Less Secure Apps to access your account].\n\nIf you have two-step verification enabled for your email account, you must\ngenerate and use an App Specific password to send email from {watcher}. For more\ninformation, see:\n\n- Gmail: https://support.google.com/accounts/answer/185833?hl=en[Sign in using App Passwords]\n- Outlook.com: http://windows.microsoft.com/en-us/windows/app-passwords-two-step-verification[App passwords and two-step verification]\n\n[discrete]\n=== {watcher} not responsive\n\nKeep in mind that there's no built-in validation of scripts that you add to a\nwatch. Buggy or deliberately malicious scripts can negatively impact {watcher}\nperformance. For example, if you add multiple watches with buggy script\nconditions in a short period of time, {watcher} might be temporarily unable to\nprocess watches until the bad watches time out.\n"
}