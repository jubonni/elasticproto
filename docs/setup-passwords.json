{
    "meta": {
        "size": 3223,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-passwords.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "setup-passwords",
        "version": "8.15"
    },
    "doc": "[[setup-passwords]]\n== elasticsearch-setup-passwords\n\ndeprecated[8.0, \"The `elasticsearch-setup-passwords` tool is deprecated and will be removed in a future release. To manually reset the password for the built-in users (including the `elastic` user), use the <<reset-password,`elasticsearch-reset-password`>> tool, the {es} change password API, or the User Management features in {kib}.\"]\n\nThe `elasticsearch-setup-passwords` command sets the passwords for the\n<<built-in-users,built-in users>>.\n\n[discrete]\n=== Synopsis\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-setup-passwords auto|interactive\n[-b, --batch] [-h, --help] [-E <KeyValuePair>]\n[-s, --silent] [-u, --url \"<URL>\"] [-v, --verbose]\n--------------------------------------------------\n\n[discrete]\n=== Description\n\nThis command is intended for use only during the initial configuration of the\n{es} {security-features}. It uses the\n<<bootstrap-elastic-passwords,`elastic` bootstrap password>>\nto run user management API requests. If your {es} keystore is password protected,\nbefore you can set the passwords for the built-in users, you must enter the keystore password.\nAfter you set a password for the `elastic`\nuser, the bootstrap password is no longer active and you cannot use this command.\nInstead, you can change passwords by using the *Management > Users* UI in {kib}\nor the <<security-api-change-password,Change Password API>>.\n\nThis command uses an HTTP connection to connect to the cluster and run the user\nmanagement requests. If your cluster uses TLS/SSL on the HTTP layer, the command\nautomatically attempts to establish the connection by using the HTTPS protocol.\nIt configures the connection by using the `xpack.security.http.ssl` settings in\nthe `elasticsearch.yml` file. If you do not use the default config directory\nlocation, ensure that the *ES_PATH_CONF* environment variable returns the\ncorrect path before you run the `elasticsearch-setup-passwords` command. You can\noverride settings in your `elasticsearch.yml` file by using the `-E` command\noption. For more information about debugging connection failures, see\n<<trb-security-setup>>.\n\n[discrete]\n[[setup-passwords-parameters]]\n=== Parameters\n\n`auto`::  Outputs randomly-generated passwords to the console.\n\n`-b, --batch`:: If enabled, runs the change password process without prompting the\nuser.\n\n`-E <KeyValuePair>`:: Configures a standard {es} or {xpack} setting.\n\n`-h, --help`:: Shows help information.\n\n`interactive`:: Prompts you to manually enter passwords.\n\n`-s, --silent`:: Shows minimal output.\n\n`-u, --url \"<URL>\"`:: Specifies the URL that the tool uses to submit the user management API\nrequests. The default value is determined from the settings in your\n`elasticsearch.yml` file. If `xpack.security.http.ssl.enabled`  is set to `true`,\nyou must specify an HTTPS URL.\n\n`-v, --verbose`:: Shows verbose output.\n\n[discrete]\n=== Examples\n\nThe following example uses the `-u` parameter to tell the tool where to submit\nits user management API requests:\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-setup-passwords auto -u \"http://localhost:9201\"\n--------------------------------------------------\n"
}