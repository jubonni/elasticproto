{
    "meta": {
        "size": 1817,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/rank-feature.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "rank-feature",
        "version": "8.15"
    },
    "doc": "[[rank-feature]]\n=== Rank feature field type\n++++\n<titleabbrev>Rank feature</titleabbrev>\n++++\n\nA `rank_feature` field can index numbers so that they can later be used to boost\ndocuments in queries with a <<query-dsl-rank-feature-query,`rank_feature`>> query.\n\n[source,console]\n--------------------------------------------------\nPUT my-index-000001\n{\n  \"mappings\": {\n    \"properties\": {\n      \"pagerank\": {\n        \"type\": \"rank_feature\" <1>\n      },\n      \"url_length\": {\n        \"type\": \"rank_feature\",\n        \"positive_score_impact\": false <2>\n      }\n    }\n  }\n}\n\nPUT my-index-000001/_doc/1\n{\n  \"pagerank\": 8,\n  \"url_length\": 22\n}\n\nGET my-index-000001/_search\n{\n  \"query\": {\n    \"rank_feature\": {\n      \"field\": \"pagerank\"\n    }\n  }\n}\n--------------------------------------------------\n\n<1> Rank feature fields must use the `rank_feature` field type\n<2> Rank features that correlate negatively with the score need to declare it\n\nNOTE: `rank_feature` fields only support single-valued fields and strictly positive\nvalues. Multi-valued fields and negative values will be rejected.\n\nNOTE: `rank_feature` fields do not support querying, sorting or aggregating. They may\nonly be used within <<query-dsl-rank-feature-query,`rank_feature`>> queries.\n\nNOTE: `rank_feature` fields only preserve 9 significant bits for the precision, which\ntranslates to a relative error of about 0.4%.\n\nRank features that correlate negatively with the score should set\n`positive_score_impact` to `false` (defaults to `true`). This will be used by\nthe <<query-dsl-rank-feature-query,`rank_feature`>> query to modify the scoring formula\nin such a way that the score decreases with the value of the feature instead of\nincreasing. For instance in web search, the url length is a commonly used\nfeature which correlates negatively with scores.\n"
}