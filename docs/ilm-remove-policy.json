{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.056271",
        "size": 2407,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ilm-remove-policy.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ilm-remove-policy",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ilm-remove-policy]]\n=== Remove policy from index API\n++++\n<titleabbrev>Remove policy</titleabbrev>\n++++\n\nRemoves assigned <<index-lifecycle-management,lifecycle>> policies from an index or a data stream's backing\nindices.\n\n[[ilm-remove-policy-request]]\n==== {api-request-title}\n\n`POST <target>/_ilm/remove`\n\n[[ilm-remove-policy-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the `manage_ilm`\nprivileges on the indices being managed to use this API. For more information,\nsee <<security-privileges>>.\n\n[[ilm-remove-policy-desc]]\n==== {api-description-title}\n\nFor indices, the remove lifecycle policy API removes the assigned lifecycle\npolicy and stops managing the specified index.\n\nFor data streams, the API removes any assigned lifecycle policies from \nthe stream's backing indices and stops managing the indices.\n\n[[ilm-remove-policy-path-params]]\n==== {api-path-parms-title}\n\n`<target>`::\n(Required, string) Comma-separated list of data streams, indices, and aliases to\ntarget. Supports wildcards (`*`). To target all data streams and indices, use\n`*` or `_all`.\n\n[[ilm-remove-policy-query-params]]\n==== {api-query-parms-title}\n\ninclude::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n\n[[ilm-remove-policy-example]]\n==== {api-examples-title}\n\nThe following example removes the assigned policy from `my-index-000001`.\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPUT _ilm/policy/my_policy\n{\n  \"policy\": {\n    \"phases\": {\n      \"warm\": {\n        \"min_age\": \"10d\",\n        \"actions\": {\n          \"forcemerge\": {\n            \"max_num_segments\": 1\n          }\n        }\n      },\n      \"delete\": {\n        \"min_age\": \"30d\",\n        \"actions\": {\n          \"delete\": {}\n        }\n      }\n    }\n  }\n}\n\nPUT my-index-000001\n{\n  \"settings\": {\n    \"index.lifecycle.name\": \"my_policy\"\n  }\n}\n--------------------------------------------------\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nPOST my-index-000001/_ilm/remove\n--------------------------------------------------\n// TEST[continued]\n\nIf the request succeeds, you receive the following result:\n\n[source,console-result]\n--------------------------------------------------\n{\n  \"has_failures\" : false,\n  \"failed_indexes\" : []\n}\n--------------------------------------------------\n"
}