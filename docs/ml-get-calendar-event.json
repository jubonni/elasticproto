{
    "meta": {
        "timestamp": "2024-11-01T03:02:52.622590",
        "size": 4255,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ml-get-calendar-event.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ml-get-calendar-event",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ml-get-calendar-event]]\n= Get scheduled events API\n++++\n<titleabbrev>Get scheduled events</titleabbrev>\n++++\n\nRetrieves information about the scheduled events in calendars.\n\n[[ml-get-calendar-event-request]]\n== {api-request-title}\n\n`GET _ml/calendars/<calendar_id>/events` +\n\n`GET _ml/calendars/_all/events`\n\n[[ml-get-calendar-event-prereqs]]\n== {api-prereq-title}\n\nRequires the `monitor_ml` cluster privilege. This privilege is included in the \n`machine_learning_user` built-in role.\n\n[[ml-get-calendar-event-desc]]\n== {api-description-title}\n\nFor more information, see\n{ml-docs}/ml-ad-run-jobs.html#ml-ad-calendars[Calendars and scheduled events].\n\n[[ml-get-calendar-event-path-parms]]\n== {api-path-parms-title}\n\n`<calendar_id>`::\n(Required, string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=calendar-id]\n+\nYou can get scheduled event information for multiple calendars in a single\nAPI request by using a comma-separated list of ids or a wildcard expression.\nYou can get scheduled event information for all calendars by using `_all` or `*`\nas the calendar identifier.\n\n[[ml-get-calendar-event-query-parms]]\n== {api-query-parms-title}\n\n`end`::\n  (Optional, string) Specifies to get events with timestamps earlier than this\n  time.\n\n`from`::\n  (Optional, integer) Skips the specified number of events. Defaults to `0`.\n\n`job_id`::\n  (Optional, string) Specifies to get events for a specific {anomaly-job}\n  identifier or job group. It must be used with a calendar identifier of `_all`\n  or `*`.\n\n`size`::\n  (Optional, integer) Specifies the maximum number of events to obtain. Defaults\n  to `100`.\n\n`start`::\n  (Optional, string) Specifies to get events with timestamps after this time.\n\n[[ml-get-calendar-event-request-body]]\n== {api-request-body-title}\n\nYou can also specify the query parameters in the request body; the exception are\n`from` and `size`, use `page` instead:\n\n`page`::\n+\n.Properties of `page`\n[%collapsible%open]\n====\n\n`from`:::\n(Optional, integer) Skips the specified number of events. Defaults to `0`.\n\n`size`:::\n(Optional, integer) Specifies the maximum number of events to obtain. Defaults\nto `100`.\n====\n\n\n[[ml-get-calendar-event-results]]\n== {api-response-body-title}\n\nThe API returns an array of scheduled event resources, which have the\nfollowing properties:\n\n`calendar_id`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=calendar-id]\n\n`description`::\n(string) A description of the scheduled event.\n\n`end_time`::\n(date) The timestamp for the end of the scheduled event in milliseconds since\nthe epoch or ISO 8601 format.\n\n`event_id`::\n(string) An automatically-generated identifier for the scheduled event.\n\n`start_time`::\n(date) The timestamp for the beginning of the scheduled event in milliseconds\nsince the epoch or ISO 8601 format.\n\n[[ml-get-calendar-event-example]]\n== {api-examples-title}\n\n[source,console]\n--------------------------------------------------\nGET _ml/calendars/planned-outages/events\n--------------------------------------------------\n// TEST[skip:setup:calendar_outages_addevent]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n  \"count\": 3,\n  \"events\": [\n    {\n      \"description\": \"event 1\",\n      \"start_time\": 1513641600000,\n      \"end_time\": 1513728000000,\n      \"calendar_id\": \"planned-outages\",\n      \"event_id\": \"LS8LJGEBMTCMA-qz49st\"\n    },\n    {\n      \"description\": \"event 2\",\n      \"start_time\": 1513814400000,\n      \"end_time\": 1513900800000,\n      \"calendar_id\": \"planned-outages\",\n      \"event_id\": \"Li8LJGEBMTCMA-qz49st\"\n    },\n    {\n      \"description\": \"event 3\",\n      \"start_time\": 1514160000000,\n      \"end_time\": 1514246400000,\n      \"calendar_id\": \"planned-outages\",\n      \"event_id\": \"Ly8LJGEBMTCMA-qz49st\"\n    }\n  ]\n}\n----\n// TESTRESPONSE[s/LS8LJGEBMTCMA-qz49st/$body.$_path/]\n// TESTRESPONSE[s/Li8LJGEBMTCMA-qz49st/$body.$_path/]\n// TESTRESPONSE[s/Ly8LJGEBMTCMA-qz49st/$body.$_path/]\n\nThe following example retrieves scheduled events that occur within a specific\nperiod of time:\n\n[source,console]\n--------------------------------------------------\nGET _ml/calendars/planned-outages/events?start=1635638400000&end=1635724800000\n--------------------------------------------------\n// TEST[skip:setup:calendar_outages_addevent]"
}