{
    "meta": {
        "timestamp": "2024-11-01T02:49:26.018068",
        "size": 2197,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/put-trained-model-definition-part.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "put-trained-model-definition-part",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[put-trained-model-definition-part]]\n= Create trained model definition part API\n[subs=\"attributes\"]\n++++\n<titleabbrev>Create part of a trained model</titleabbrev>\n++++\n\nCreates part of a trained model definition.\n\n[[ml-put-trained-model-definition-part-request]]\n== {api-request-title}\n\n`PUT _ml/trained_models/<model_id>/definition/<part_num>`\n\n\n[[ml-put-trained-model-definition-part-prereq]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the\n`machine_learning_admin` built-in role.\n\n\n[[ml-put-trained-model-definition-part-path-params]]\n== {api-path-parms-title}\n\n`<model_id>`::\n(Required, string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=model-id]\n\n`<part>`::\n(Required, number)\nThe definition part number. When the definition is loaded for inference\nthe definition parts will be streamed in order of their `part_num`.\nThe first part must be `0` and the final part must be `total_parts - 1`.\n\n[[ml-put-trained-model-definition-part-request-body]]\n== {api-request-body-title}\n\n`definition`::\n(Required, string)\nThe definition part for the model. Must be a base64 encoded string.\n\n`total_definition_length`::\n(Required, number)\nThe total uncompressed definition length in bytes. Not base64 encoded.\n\n`total_parts`::\n(Required, number)\nThe total number of parts that will be uploaded. Must be greater than 0.\n\n[[ml-put-trained-model-definition-part-example]]\n== {api-examples-title}\n\nThe following example creates a model definition part for a previously\nstored model configuration. The definition part is stored in the index\nthat is configured by the `location.index.name`.\n\n\nNOTE: The value of the `definition` object is elided from the example\nas it is a very large base64 encoded string.\n\n[source,console]\n--------------------------------------------------\nPUT _ml/trained_models/elastic__distilbert-base-uncased-finetuned-conll03-english/definition/0\n{\n    \"definition\": \"...\",\n    \"total_definition_length\": 265632637,\n    \"total_parts\": 64\n}\n--------------------------------------------------\n// TEST[skip:TBD]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n    \"acknowledged\": true\n}\n----\n"
}