{
    "meta": {
        "timestamp": "2024-11-01T02:49:25.643068",
        "size": 3071,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/migrating-8.14.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "migrating-8.14",
        "version": "8.15"
    },
    "doc": "[[migrating-8.14]]\n== Migrating to 8.14\n++++\n<titleabbrev>8.14</titleabbrev>\n++++\n\nThis section discusses the changes that you need to be aware of when migrating\nyour application to {es} 8.14.\n\nSee also <<release-highlights>> and <<es-release-notes>>.\n\ncoming::[8.14.0]\n\n\n[discrete]\n[[breaking-changes-8.14]]\n=== Breaking changes\n\nThe following changes in {es} 8.14 might affect your applications\nand prevent them from operating normally.\nBefore upgrading to 8.14, review these changes and take the described steps\nto mitigate the impact.\n\n\nThere are no notable breaking changes in {es} 8.14.\nBut there are some less critical breaking changes.\n\n[discrete]\n[[breaking_814_rest_api_changes]]\n==== REST API changes\n\n[[prevent_dls_fls_if_replication_assigned]]\n.Prevent DLS/FLS if `replication` is assigned\n[%collapsible]\n====\n*Details* +\nFor cross-cluster API keys, {es} no longer allows specifying document-level security (DLS) or field-level security (FLS) in the `search` field, if `replication` is also specified. {es} likewise blocks the use of any existing cross-cluster API keys that meet this condition.\n\n*Impact* +\nRemove any document-level security (DLS) or field-level security (FLS) definitions from the `search` field for cross-cluster API keys that also have a `replication` field, or create two separate cross-cluster API keys, one for search and one for replication.\n====\n\n\n[discrete]\n[[breaking_814_dls_changes]]\n==== Stricter Document Level Security (DLS)\n\n[[stricter_dls_814]]\n.Document Level Security (DLS) applies stricter checks for the validate query API and for terms aggregations when min_doc_count is set to 0.\n\n[%collapsible]\n====\n*Details* +\nWhen Document Level Security (DLS) is applied to terms aggregations and min_doc_count is set to 0, stricter security rules apply.\n\nWhen Document Level Security (DLS) is applied to the validate query API with the rewrite parameter, stricter security rules apply.\n\n*Impact* +\nIf needed, test workflows with DLS enabled to ensure that the stricter security rules do not impact your application.\n====\n\n\n[discrete]\n[[deprecated-8.14]]\n=== Deprecations\n\nThe following functionality has been deprecated in {es} 8.14\nand will be removed in a future version.\nWhile this won't have an immediate impact on your applications,\nwe strongly encourage you to take the described steps to update your code\nafter upgrading to 8.14.\n\nTo find out if you are using any deprecated functionality,\nenable <<deprecation-logging, deprecation logging>>.\n\n[discrete]\n[[deprecations_814_mapping]]\n==== Mapping deprecations\n\n[[deprecate_allowing_fields_in_scenarios_where_it_ignored]]\n.Deprecate allowing `fields` in scenarios where it is ignored\n[%collapsible]\n====\n*Details* +\nThe following mapped types have always ignored `fields` when using multi-fields. This deprecation makes this clearer and we will completely disallow `fields` for these mapped types in the future.\n\n*Impact* +\nIn the future, `join`, `aggregate_metric_double`, and `constant_keyword`, will all disallow supplying `fields` as a parameter in the mapping.\n====\n\n"
}