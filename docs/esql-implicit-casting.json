{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.455271",
        "size": 1874,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/esql-implicit-casting.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "esql-implicit-casting",
        "version": "8.15"
    },
    "doc": "[[esql-implicit-casting]]\n=== {esql} implicit casting\n\n++++\n<titleabbrev>Implicit casting</titleabbrev>\n++++\n\nOften users will input `datetime`, `ip`, `version`, or geospatial objects as simple strings in their queries for use in predicates, functions, or expressions. {esql} provides <<esql-type-conversion-functions, type conversion functions>> to explicitly convert these strings into the desired data types.\n\nWithout implicit casting users must explicitly code these `to_X` functions in their queries, when string literals don't match the target data types they are assigned or compared to. Here is an example of using `to_datetime` to explicitly perform a data type conversion.\n\n[source.merge.styled,esql]\n----\nFROM employees\n| EVAL dd_ns1=date_diff(\"day\", to_datetime(\"2023-12-02T11:00:00.00Z\"), birth_date)\n| SORT emp_no\n| KEEP dd_ns1\n| LIMIT 1\n----\n\nImplicit casting improves usability, by automatically converting string literals to the target data type. This is most useful when the target data type is `datetime`, `ip`, `version` or a geo spatial. It is natural to specify these as a string in queries.\n\nThe first query can be coded without calling the `to_datetime` function, as follows:\n\n[source.merge.styled,esql]\n----\nFROM employees\n| EVAL dd_ns1=date_diff(\"day\", \"2023-12-02T11:00:00.00Z\", birth_date)\n| SORT emp_no\n| KEEP dd_ns1\n| LIMIT 1\n----\n\n[float]\n=== Implicit casting support\n\nThe following table details which {esql} operations support implicit casting for different data types.\n\n[%header.monospaced.styled,format=dsv,separator=|]\n|===\n||ScalarFunction|BinaryComparison|ArithmeticOperation|InListPredicate|AggregateFunction\n|DATETIME|Y|Y|Y|Y|N\n|DOUBLE|Y|N|N|N|N\n|LONG|Y|N|N|N|N\n|INTEGER|Y|N|N|N|N\n|IP|Y|Y|Y|Y|N\n|VERSION|Y|Y|Y|Y|N\n|GEO_POINT|Y|N|N|N|N\n|GEO_SHAPE|Y|N|N|N|N\n|CARTESIAN_POINT|Y|N|N|N|N\n|CARTESIAN_SHAPE|Y|N|N|N|N\n|BOOLEAN|Y|Y|Y|Y|N\n|===\n"
}