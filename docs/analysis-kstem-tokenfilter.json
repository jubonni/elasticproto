{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.541276",
        "size": 2473,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-kstem-tokenfilter.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "analysis-kstem-tokenfilter",
        "version": "8.15"
    },
    "doc": "[[analysis-kstem-tokenfilter]]\n=== KStem token filter\n++++\n<titleabbrev>KStem</titleabbrev>\n++++\n\nProvides https://ciir.cs.umass.edu/pubfiles/ir-35.pdf[KStem]-based stemming for\nthe English language. The `kstem` filter combines\n<<algorithmic-stemmers,algorithmic stemming>> with a built-in\n<<dictionary-stemmers,dictionary>>.\n\nThe `kstem` filter tends to stem less aggressively than other English stemmer\nfilters, such as the <<analysis-porterstem-tokenfilter,`porter_stem`>> filter.\n\nThe `kstem` filter is equivalent to the\n<<analysis-stemmer-tokenfilter,`stemmer`>> filter's\n<<analysis-stemmer-tokenfilter-language-parm,`light_english`>> variant.\n\nThis filter uses Lucene's\n{lucene-analysis-docs}/en/KStemFilter.html[KStemFilter].\n\n[[analysis-kstem-tokenfilter-analyze-ex]]\n==== Example\n\nThe following analyze API request uses the `kstem` filter to stem `the foxes\njumping quickly` to `the fox jump quick`:\n\n[source,console]\n----\nGET /_analyze\n{\n  \"tokenizer\": \"standard\",\n  \"filter\": [ \"kstem\" ],\n  \"text\": \"the foxes jumping quickly\"\n}\n----\n\nThe filter produces the following tokens:\n\n[source,text]\n----\n[ the, fox, jump, quick ]\n----\n\n////\n[source,console-result]\n----\n{\n  \"tokens\": [\n    {\n      \"token\": \"the\",\n      \"start_offset\": 0,\n      \"end_offset\": 3,\n      \"type\": \"<ALPHANUM>\",\n      \"position\": 0\n    },\n    {\n      \"token\": \"fox\",\n      \"start_offset\": 4,\n      \"end_offset\": 9,\n      \"type\": \"<ALPHANUM>\",\n      \"position\": 1\n    },\n    {\n      \"token\": \"jump\",\n      \"start_offset\": 10,\n      \"end_offset\": 17,\n      \"type\": \"<ALPHANUM>\",\n      \"position\": 2\n    },\n    {\n      \"token\": \"quick\",\n      \"start_offset\": 18,\n      \"end_offset\": 25,\n      \"type\": \"<ALPHANUM>\",\n      \"position\": 3\n    }\n  ]\n}\n----\n////\n\n[[analysis-kstem-tokenfilter-analyzer-ex]]\n==== Add to an analyzer\n\nThe following <<indices-create-index,create index API>> request uses the\n`kstem` filter to configure a new <<analysis-custom-analyzer,custom\nanalyzer>>.\n\n[IMPORTANT]\n====\nTo work properly, the `kstem` filter requires lowercase tokens. To ensure tokens\nare lowercased, add the <<analysis-lowercase-tokenfilter,`lowercase`>> filter\nbefore the `kstem` filter in the analyzer configuration.\n====\n\n[source,console]\n----\nPUT /my-index-000001\n{\n  \"settings\": {\n    \"analysis\": {\n      \"analyzer\": {\n        \"my_analyzer\": {\n          \"tokenizer\": \"whitespace\",\n          \"filter\": [\n            \"lowercase\",\n            \"kstem\"\n          ]\n        }\n      }\n    }\n  }\n}\n----\n"
}