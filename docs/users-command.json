{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.866580",
        "size": 4481,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/users-command.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "users-command",
        "version": "8.15"
    },
    "doc": "[[users-command]]\n== elasticsearch-users\n\nIf you use file-based user authentication, the `elasticsearch-users` command\nenables you to add and remove users, assign user roles, and manage passwords\nper node.\n\n[discrete]\n=== Synopsis\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-users\n([useradd <username>] [-p <password>] [-r <roles>]) |\n([list] <username>) |\n([passwd <username>] [-p <password>]) |\n([roles <username>] [-a <roles>] [-r <roles>]) |\n([userdel <username>])\n--------------------------------------------------\n\n[discrete]\n=== Description\n\nIf you use the built-in `file` internal realm, users are defined in local files\non each node in the cluster.\n\nUsernames and roles must be at least 1 and no more than 1024 characters. They\ncan contain alphanumeric characters (`a-z`, `A-Z`, `0-9`), spaces, punctuation,\nand printable symbols in the\n{wikipedia}/Basic_Latin_(Unicode_block)[Basic Latin (ASCII) block].\nLeading or trailing whitespace is not allowed.\n\nPasswords must be at least 6 characters long.\n\nFor more information, see <<file-realm>>.\n\nTIP: To ensure that {es} can read the user and role information at startup, run\n`elasticsearch-users useradd` as the same user you use to run {es}. Running the\ncommand as root or some other user updates the permissions for the `users` and\n`users_roles` files and prevents {es} from accessing them.\n\n[discrete]\n[[users-command-parameters]]\n=== Parameters\n\n`-a <roles>`:: If used with the `roles` parameter, adds a comma-separated list\nof roles to a user.\n\n//`-h, --help`:: Returns all of the command parameters.\n\n`list`:: List the users that are registered with the `file` realm\non the local node. If you also specify a user name, the command provides\ninformation for that user.\n\n`-p <password>`:: Specifies the user's password. If you do not specify this\nparameter, the command prompts you for the password.\n+\n--\nTIP: Omit the `-p` option to keep\nplaintext passwords out of the terminal session's command history.\n\n--\n\n`passwd <username>`:: Resets a user's password. You can specify the new\npassword directly with the `-p` parameter.\n\n`-r <roles>`::\n* If used with the `useradd` parameter, defines a user's roles. This option\naccepts a comma-separated list of role names to assign to the user.\n* If used with the `roles` parameter, removes a comma-separated list of roles\nfrom a user.\n\n`roles`:: Manages the roles of a particular user. You can combine adding and\nremoving roles within the same command to change a user's roles.\n\n//`-s, --silent`:: Shows minimal output.\n\n`useradd <username>`:: Adds a user to your local node.\n\n`userdel <username>`:: Deletes a user from your local node.\n\n//`-v, --verbose`:: Shows verbose output.\n\n//[discrete]\n//=== Authorization\n\n[discrete]\n=== Examples\n\nThe following example adds a new user named `jacknich` to the `file` realm. The\npassword for this user is `theshining`, and this user is associated with the\n`network` and `monitoring` roles.\n\n[source,shell]\n-------------------------------------------------------------------\nbin/elasticsearch-users useradd jacknich -p theshining -r network,monitoring\n-------------------------------------------------------------------\n\nThe following example lists the users that are registered with the `file` realm\non the local node:\n\n[source, shell]\n----------------------------------\nbin/elasticsearch-users list\nrdeniro        : admin\nalpacino       : power_user\njacknich       : monitoring,network\n----------------------------------\n\nUsers are in the left-hand column and their corresponding roles are listed in\nthe right-hand column.\n\nThe following example resets the `jacknich` user's password:\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-users passwd jachnich\n--------------------------------------------------\n\nSince the `-p` parameter was omitted, the command prompts you to enter and\nconfirm a password in interactive mode.\n\nThe following example removes the `network` and `monitoring` roles from the\n`jacknich` user and adds the `user` role:\n\n[source,shell]\n------------------------------------------------------------\nbin/elasticsearch-users roles jacknich -r network,monitoring -a user\n------------------------------------------------------------\n\nThe following example deletes the `jacknich` user:\n\n[source,shell]\n--------------------------------------------------\nbin/elasticsearch-users userdel jacknich\n--------------------------------------------------\n"
}