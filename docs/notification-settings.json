{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.059592",
        "size": 16363,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/notification-settings.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "notification-settings",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[notification-settings]]\n=== {watcher} settings in Elasticsearch\n\n[subs=\"attributes\"]\n++++\n<titleabbrev>{watcher} settings</titleabbrev>\n++++\n\n[[notification-settings-description]]\n// tag::notification-settings-description-tag[]\nYou configure {watcher} settings to set up {watcher} and send notifications via\n<<email-notification-settings,email>>,\n<<slack-notification-settings,Slack>>, and\n<<pagerduty-notification-settings, PagerDuty>>.\n\nAll of these settings can be added to the `elasticsearch.yml` configuration file,\nwith the exception of the secure settings, which you add to the {es} keystore.\nFor more information about creating and updating the {es} keystore, see\n<<secure-settings>>. Dynamic settings can also be updated across a cluster with the\n<<cluster-update-settings,cluster update settings API>>.\n// end::notification-settings-description-tag[]\n\n[[general-notification-settings]]\n==== General Watcher Settings\n`xpack.watcher.enabled`::\n(<<static-cluster-setting,Static>>)\nSet to `false` to disable {watcher} on the node.\n\n[[xpack-watcher-encrypt-sensitive-data]]\n// tag::watcher-encrypt-sensitive-data-tag[]\n`xpack.watcher.encrypt_sensitive_data` {ess-icon}::\n(<<static-cluster-setting,Static>>)\nSet to `true` to encrypt sensitive data. If this setting is enabled, you\nmust also specify the `xpack.watcher.encryption_key` setting. For more\ninformation, see <<encrypting-data>>.\n// end::watcher-encrypt-sensitive-data-tag[]\n\n`xpack.watcher.encryption_key`::\n(<<secure-settings,Secure>>)\nSpecifies the path to a file that contains a key for encrypting sensitive data.\nIf `xpack.watcher.encrypt_sensitive_data` is set to `true`, this setting is\nrequired. For more information, see <<encrypting-data>>.\n\n`xpack.watcher.max.history.record.size`::\n(<<static-cluster-setting,Static>>)\nThe maximum size watcher history record that can be written into the watcher history index. Any larger history record will have some of\nits larger fields removed. Defaults to 10mb.\n\n`xpack.http.proxy.host`::\n(<<static-cluster-setting,Static>>)\nSpecifies the address of the proxy server to use to connect to HTTP services.\n\n`xpack.http.proxy.port`::\n(<<static-cluster-setting,Static>>)\nSpecifies the port number to use to connect to the proxy server.\n\n`xpack.http.proxy.scheme`::\n(<<static-cluster-setting,Static>>)\nProtocol used to communicate with the proxy server. Valid values are `http` and\n`https`. Defaults to the protocol used in the request.\n\n`xpack.http.default_connection_timeout`::\n(<<static-cluster-setting,Static>>)\nThe maximum period to wait until abortion of the request, when a\nconnection is being initiated.\n\n`xpack.http.default_read_timeout`::\n(<<static-cluster-setting,Static>>)\nThe maximum period of inactivity between two data packets, before the\nrequest is aborted.\n\n`xpack.http.tcp.keep_alive`::\n(<<static-cluster-setting,Static>>)\nWhether to enable TCP keepalives on HTTP connections. Defaults to `true`.\n\n`xpack.http.connection_pool_ttl`::\n(<<static-cluster-setting,Static>>)\nThe time-to-live of connections in the connection pool. If a connection is not\nre-used within this timeout, it is closed. By default, the time-to-live is\ninfinite meaning that connections never expire.\n\n`xpack.http.max_response_size`::\n(<<static-cluster-setting,Static>>)\nSpecifies the maximum size an HTTP response is allowed to have, defaults to\n`10mb`, the maximum configurable value is `50mb`.\n\n`xpack.http.whitelist`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA list of URLs, that the internal HTTP client is allowed to connect to. This\nclient is used in the HTTP input, the webhook, the slack, pagerduty,\nand jira actions. This setting can be updated dynamically. It defaults to `*`\nallowing everything. Note: If you configure this setting and you are using one\nof the slack/pagerduty actions, you have to ensure that the\ncorresponding endpoints are explicitly allowed as well.\n\n[[ssl-notification-settings]]\n:ssl-prefix:             xpack.http\n:component:              {watcher} HTTP\n:verifies:\n:server!:\n:ssl-context:            watcher\n:no-enabled-setting:\n\ninclude::ssl-settings.asciidoc[]\n\n[[email-notification-settings]]\n==== Email Notification Settings\nYou can configure the following email notification settings in\n`elasticsearch.yml`. For more information about sending notifications\nvia email, see <<configuring-email-actions>>.\n\n`xpack.notification.email.default_account`::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault email account to use.\n+\nIf you configure multiple email accounts, you must either configure this setting\nor specify the email account to use in the <<actions-email,`email`>> action. See\n<<configuring-email>>.\n\n`xpack.notification.email.account`::\nSpecifies account information for sending notifications via email. You\ncan specify the following email account attributes:\n+\n\n`xpack.notification.email.account.domain_allowlist`::\n(<<dynamic-cluster-setting,Dynamic>>)\nSpecifies domains to which emails are allowed to be sent. Emails with recipients (`To:`, `Cc:`, or\n`Bcc:`) outside of these domains will be rejected and an error thrown. This setting defaults to\n`[\"*\"]` which means all domains are allowed. Simple globbing is supported, such as `*.company.com`\nin the list of allowed domains.\n--\n[[email-account-attributes]]\n\n`profile`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe <<configuring-email,email profile>> to use to build the MIME\nmessages that are sent from the account. Valid values: `standard`, `gmail` and\n`outlook`. Defaults to `standard`.\n\n`email_defaults.*`::\n(<<dynamic-cluster-setting,Dynamic>>)\nAn optional set of email attributes to use as defaults\nfor the emails sent from the account. See\n<<email-action-attributes>> for the supported\nattributes.\n\n`smtp.auth`::\n(<<dynamic-cluster-setting,Dynamic>>)\nSet to `true` to attempt to authenticate the user using the\nAUTH command. Defaults to `false`.\n\n`smtp.host`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe SMTP server to connect to. Required.\n\n`smtp.port`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe SMTP server port to connect to. Defaults to 25.\n\n`smtp.user`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe user name for SMTP. Required.\n\n`smtp.secure_password`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe password for the specified SMTP user.\n\n`smtp.starttls.enable`::\n(<<dynamic-cluster-setting,Dynamic>>)\nSet to `true` to enable the use of the `STARTTLS`\ncommand (if supported by the server) to switch the connection to a\nTLS-protected connection before issuing any login commands. Note that\nan appropriate trust store must be configured so that the client will\ntrust the server's certificate. Defaults to `false`.\n\n`smtp.starttls.required`::\n(<<dynamic-cluster-setting,Dynamic>>)\nIf `true`, then `STARTTLS` will be required. If that command fails, the\nconnection will fail. Defaults to `false`.\n\n`smtp.ssl.trust`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA list of SMTP server hosts that are assumed trusted and for which\ncertificate verification is disabled. If set to \"*\", all hosts are\ntrusted. If set to a whitespace separated list of hosts, those hosts\nare trusted. Otherwise, trust depends on the certificate the server\npresents.\n\n`smtp.timeout`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe socket read timeout. Default is two minutes.\n\n`smtp.connection_timeout`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe socket connection timeout. Default is two minutes.\n\n`smtp.write_timeout`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe socket write timeout. Default is two minutes.\n\n`smtp.local_address`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA configurable local address when sending emails. Not configured by default.\n\n`smtp.local_port`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA configurable local port when sending emails. Not configured by default.\n\n`smtp.send_partial`::\n(<<dynamic-cluster-setting,Dynamic>>)\nSend an email, despite one of the receiver addresses being invalid.\n\n`smtp.wait_on_quit`::\n(<<dynamic-cluster-setting,Dynamic>>)\nIf set to false the QUIT command is sent and the connection closed. If set to\ntrue, the QUIT command is sent and a reply is waited for. True by default.\n--\n\n`xpack.notification.email.html.sanitization.allow`::\nSpecifies the HTML elements that are allowed in email notifications. For\nmore information, see\n<<email-html-sanitization>>. You can\nspecify individual HTML elements and the following HTML feature groups:\n+\n--\n[[html-feature-groups]]\n\n`_tables`::\n(<<static-cluster-setting,Static>>)\nAll table related elements: `<table>`, `<th>`, `<tr>`, `<td>`, `<caption>`,\n`<col>`, `<colgroup>`, `<thead>`, `<tbody>`, and `<tfoot>`.\n\n`_blocks`::\n(<<static-cluster-setting,Static>>)\nThe following block elements: `<p>`, `<div>`, `<h1>`,\n`<h2>`, `<h3>`, `<h4>`, `<h5>`, `<h6>`, `<ul>`, `<ol>`,\n`<li>`, and `<blockquote>`.\n\n`_formatting`::\n(<<static-cluster-setting,Static>>)\nThe following inline formatting elements: `<b>`, `<i>`,\n`<s>`, `<u>`, `<o>`, `<sup>`, `<sub>`, `<ins>`, `<del>`,\n`<strong>`, `<strike>`, `<tt>`, `<code>`, `<big>`,\n`<small>`, `<hr>`, `<br>`, `<span>`, and `<em>`.\n\n`_links`::\n(<<static-cluster-setting,Static>>)\nThe `<a>` element with an `href` attribute that points\nto a URL using the following protocols: `http`, `https`\nand `mailto`.\n\n`_styles`::\n(<<static-cluster-setting,Static>>)\nThe `style` attribute on all elements. Note that CSS\nattributes are also sanitized to prevent XSS attacks.\n\n`img`::\n`img:all`::\n(<<static-cluster-setting,Static>>)\nAll images (external and embedded).\n\n`img:embedded`::\n(<<static-cluster-setting,Static>>)\nOnly embedded images. Embedded images can only use the\n`cid:` URL protocol in their `src` attribute.\n--\n\n`xpack.notification.email.html.sanitization.disallow`::\n(<<static-cluster-setting,Static>>)\nSpecifies the HTML elements that are NOT allowed in email notifications.\nYou can specify individual HTML elements and <<html-feature-groups,\nHTML feature groups>>.\n\n`xpack.notification.email.html.sanitization.enabled` ::\n(<<static-cluster-setting,Static>>)\nSet to `false` to completely disable HTML sanitation. Not recommended.\nDefaults to `true`.\n\n`xpack.notification.reporting.warning.kbn-csv-contains-formulas.text`::\n(<<dynamic-cluster-setting,Dynamic>>)\nSpecifies a custom message, which is sent if the formula verification criteria\nfor CSV files from {kib}'s {kibana-ref}/reporting-settings-kb.html#reporting-csv-settings[`xpack.reporting.csv.checkForFormulas`] is `true`.\nUse `%s` in the message as a placeholder for the filename.\nDefaults to `Warning: The attachment [%s] contains characters which spreadsheet applications may interpret as formulas. Please ensure that the attachment is safe prior to opening.`\n\n[[ssl-notification-smtp-settings]]\n:ssl-prefix:             xpack.notification.email\n:component:              {watcher} Email\n:verifies:\n:server!:\n:ssl-context:            watcher-email\n:no-enabled-setting:\n\ninclude::ssl-settings.asciidoc[]\n\n[[slack-notification-settings]]\n==== Slack Notification Settings\nYou can configure the following Slack notification settings in\n`elasticsearch.yml`. For more information about sending notifications\nvia Slack, see <<configuring-slack-actions>>.\n\n\n`xpack.notification.slack.default_account`::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault Slack account to use.\n+\nIf you configure multiple Slack accounts, you must either configure this setting\nor specify the Slack account to use in the <<actions-slack,`slack`>> action. See\n<<configuring-slack>>.\n\n[[slack-account-attributes]]\n`xpack.notification.slack.account`::\nSpecifies account information for sending notifications\nvia Slack. You can specify the following Slack account attributes:\n+\n--\n`secure_url`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe Incoming Webhook URL to use to post messages to Slack. Required.\n\n`message_defaults`::\nDefault values for\n<<slack-action-attributes,Slack message attributes>>.\n\n`from`:::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe sender name to display in the\nSlack message. Defaults to the watch ID.\n\n`to`:::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe default Slack channels or groups you\nwant to send messages to.\n\n`icon`:::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe icon to display in the Slack messages.\nOverrides the incoming webhook's configured\nicon. Accepts a public URL to an image.\n\n`text`:::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe default message content.\n\n`attachment`:::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault message attachments. Slack message attachments\nenable you to create more richly-formatted messages.\nSpecified as an array as defined in the\nhttps://api.slack.com/docs/attachments[\nSlack attachments documentation].\n--\n\n[[jira-notification-settings]]\n==== Jira Notification Settings\nYou can configure the following Jira notification settings in\n`elasticsearch.yml`. For more information about using notifications\nto create issues in Jira, see <<configuring-jira-actions>>.\n\n`xpack.notification.jira.default_account`::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault Jira account to use.\n+\nIf you configure multiple Jira accounts, you must either configure this setting\nor specify the Jira account to use in the <<actions-jira,`jira`>> action. See\n<<configuring-jira>>.\n\n[[jira-account-attributes]]\n`xpack.notification.jira.account`::\nSpecifies account information for using notifications to create\nissues in Jira. You can specify the following Jira account attributes:\n+\n--\n`allow_http`::\n(<<dynamic-cluster-setting,Dynamic>>)\nIf `false`, Watcher rejects URL settings that use a HTTP protocol. Defaults to\n`false`.\n\n`secure_url`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe URL of the Jira Software server. Required.\n\n`secure_user`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe name of the user to connect to the Jira Software server. Required.\n\n`secure_password`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe password of the user to connect to the Jira Software server. Required.\n\n`issue_defaults`::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault fields values for the issue created in Jira. See\n<<jira-action-attributes>> for more information.\nOptional.\n--\n\n[[pagerduty-notification-settings]]\n==== PagerDuty Notification Settings\nYou can configure the following PagerDuty notification settings in\n`elasticsearch.yml`. For more information about sending notifications\nvia PagerDuty, see <<configuring-pagerduty-actions>>.\n\n`xpack.notification.pagerduty.default_account`::\n(<<dynamic-cluster-setting,Dynamic>>)\nDefault PagerDuty account to use.\n+\nIf you configure multiple PagerDuty accounts, you must either configure this\nsetting or specify the PagerDuty account to use in the\n<<actions-pagerduty,`pagerduty`>> action. See <<configuring-pagerduty>>.\n\n[[pagerduty-account-attributes]]\n`xpack.notification.pagerduty.account`::\nSpecifies account information for sending notifications via PagerDuty. You can\nspecify the following PagerDuty account attributes:\n+\n--\n`name`::\n(<<static-cluster-setting,Static>>)\nA name for the PagerDuty account associated with the API key you\nare using to access PagerDuty. Required.\n\n`secure_service_api_key`::\n(<<secure-settings,Secure>>, <<reloadable-secure-settings,reloadable>>)\nThe https://developer.pagerduty.com/documentation/rest/authentication[\nPagerDuty API key] to use to access PagerDuty. Required.\n--\n+\n`event_defaults`::\nDefault values for\n<<pagerduty-event-trigger-incident-attributes,PagerDuty event attributes>>.\nOptional.\n+\n--\n`description`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA string that contains the default description for PagerDuty events.\nIf no default is configured, each PagerDuty action must specify a\n`description`.\n\n`incident_key`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA string that contains the default incident key to use when sending\nPagerDuty events.\n\n`client`::\n(<<dynamic-cluster-setting,Dynamic>>)\nA string that specifies the default monitoring client.\n\n`client_url`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe URL of the default monitoring client.\n\n`event_type`::\n(<<dynamic-cluster-setting,Dynamic>>)\nThe default event type. Valid values: `trigger`,`resolve`, `acknowledge`.\n\n`attach_payload`::\n(<<dynamic-cluster-setting,Dynamic>>)\nWhether or not to provide the watch payload as context for\nthe event by default. Valid values: `true`, `false`.\n--\n"
}