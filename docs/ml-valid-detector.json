{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.871585",
        "size": 3289,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ml-valid-detector.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "ml-valid-detector",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ml-valid-detector]]\n= Validate detectors API\n++++\n<titleabbrev>Validate detectors</titleabbrev>\n++++\n\nValidates detector configuration information.\n\n[[ml-valid-detector-request]]\n== {api-request-title}\n\n`POST _ml/anomaly_detectors/_validate/detector`\n\n[[ml-valid-detector-prereqs]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the \n`machine_learning_admin` built-in role.\n\n[[ml-valid-detector-desc]]\n== {api-description-title}\n\nThis API enables you to validate the detector configuration\nbefore you create an {anomaly-job}.\n\n[[ml-valid-detector-request-body]]\n== {api-request-body-title}\n\n`by_field_name`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=by-field-name]\n\n`custom_rules`::\n+\n--\n(array)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules]\n\n`analysis_config`.`detectors`.`custom_rules`.`actions`:::\n(array)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-actions]\n\n`analysis_config`.`detectors`.`custom_rules`.`scope`:::\n(object)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-scope]\n\n`analysis_config`.`detectors`.`custom_rules`.`scope`.`filter_id`::::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-scope-filter-id]\n\n`analysis_config`.`detectors`.`custom_rules`.`scope`.`filter_type`::::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-scope-filter-type]\n\n`analysis_config`.`detectors`.`custom_rules`.`conditions`:::\n(array)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-conditions]\n\n`analysis_config`.`detectors`.`custom_rules`.`conditions`.`applies_to`::::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-conditions-applies-to]\n\n`analysis_config`.`detectors`.`custom_rules`.`conditions`.`operator`::::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-conditions-operator]\n\n`analysis_config`.`detectors`.`custom_rules`.`conditions`.`value`::::\n(double)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=custom-rules-conditions-value]\n--\n\n`detector_description`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=detector-description]\n\n`detector_index`::\n(integer)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=detector-index]\n\n`exclude_frequent`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=exclude-frequent]\n\n`field_name`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=detector-field-name]\n\n`function`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=function]\n\n`over_field_name`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=over-field-name]\n\n`partition_field_name`::\n(string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=partition-field-name]\n\n`use_null`::\n(Boolean)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=use-null]\n\n[[ml-valid-detector-example]]\n== {api-examples-title}\n\n[source,console]\n--------------------------------------------------\nPOST _ml/anomaly_detectors/_validate/detector\n{\n  \"function\": \"metric\",\n  \"field_name\": \"responsetime\",\n  \"by_field_name\": \"airline\"\n}\n--------------------------------------------------\n// TEST[skip:needs-licence]\n\nWhen the validation completes, you receive the following results:\n\n[source,console-result]\n----\n{\n  \"acknowledged\": true\n}\n----\n"
}