{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.310281",
        "size": 2353,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/get-desired-nodes.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "get-desired-nodes",
        "version": "8.15"
    },
    "doc": "[[get-desired-nodes]]\n=== Get desired nodes API\n++++\n<titleabbrev>Get desired nodes</titleabbrev>\n++++\n\nNOTE: {cloud-only}\n\nGet desired nodes.\n\n[[get-desired-nodes-request]]\n==== {api-request-title}\n\n//////////////////////////\n[source,console]\n--------------------------------------------------\nPUT /_internal/desired_nodes/my_history/1\n{\n    \"nodes\" : [\n        {\n            \"settings\" : {\n                 \"node.name\" : \"instance-000187\",\n                 \"node.external_id\": \"instance-000187\",\n                 \"node.roles\" : [\"data_hot\", \"master\"],\n                 \"node.attr.data\" : \"hot\",\n                 \"node.attr.logical_availability_zone\" : \"zone-0\"\n            },\n            \"processors\" : 8.0,\n            \"memory\" : \"59gb\",\n            \"storage\" : \"2tb\"\n        }\n    ]\n}\n--------------------------------------------------\n// TESTSETUP\n\n\n[source,console]\n--------------------------------------------------\nDELETE /_internal/desired_nodes\n--------------------------------------------------\n// TEST\n// TEARDOWN\n\n//////////////////////////\n\n[source,console]\n--------------------------------------------------\nGET /_internal/desired_nodes/_latest\n--------------------------------------------------\n// TEST\n\n[[get-desired-nodes-desc]]\n==== {api-description-title}\n\nThis API gets the latest desired nodes.\n\n[[get-desired-nodes-examples]]\n==== {api-examples-title}\n\nThis example gets the latest desired nodes.\n\n[source,console]\n--------------------------------------------------\nGET /_internal/desired_nodes/_latest\n--------------------------------------------------\n// TEST\n\nThe API returns the following result:\n\n[source,console-result]\n--------------------------------------------------\n{\n    \"history_id\": <history_id>,\n    \"version\": <version>,\n    \"nodes\": [\n        {\n            \"settings\": <node_settings>,\n            \"processors\": <node_processors>,\n            \"memory\": \"<node_memory>\",\n            \"storage\": \"<node_storage>\"\n        }\n    ]\n}\n--------------------------------------------------\n// TEST[s/<history_id>/$body.history_id/]\n// TEST[s/<version>/$body.version/]\n// TEST[s/<node_settings>/$body.nodes.0.settings/]\n// TEST[s/<node_processors>/$body.nodes.0.processors/]\n// TEST[s/<node_memory>/$body.nodes.0.memory/]\n// TEST[s/<node_storage>/$body.nodes.0.storage/]\n// TEST[s/<node_version>/$body.nodes.0.node_version/]\n"
}