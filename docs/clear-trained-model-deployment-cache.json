{
    "meta": {
        "size": 1655,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/clear-trained-model-deployment-cache.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "clear-trained-model-deployment-cache",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[clear-trained-model-deployment-cache]]\n= Clear trained model deployment cache API\n[subs=\"attributes\"]\n++++\n<titleabbrev>Clear trained model deployment cache</titleabbrev>\n++++\n\nClears the {infer} cache on all nodes where the deployment is assigned.\n\n[[clear-trained-model-deployment-cache-request]]\n== {api-request-title}\n\n`POST _ml/trained_models/<deployment_id>/deployment/cache/_clear`\n\n[[clear-trained-model-deployment-cache-prereq]]\n== {api-prereq-title}\n\nRequires the `manage_ml` cluster privilege. This privilege is included in the\n`machine_learning_admin` built-in role.\n\n[[clear-trained-model-deployment-cache-desc]]\n== {api-description-title}\n\nA trained model deployment may have an inference cache enabled. As requests are \nhandled by each allocated node, their responses may be cached on that individual \nnode. Calling this API clears the caches without restarting the deployment.\n\n[[clear-trained-model-deployment-cache-path-params]]\n== {api-path-parms-title}\n\n`deployment_id`::\n(Required, string)\ninclude::{es-ref-dir}/ml/ml-shared.asciidoc[tag=deployment-id]\n\n[[clear-trained-model-deployment-cache-example]]\n== {api-examples-title}\n\nThe following example clears the cache for the new deployment for the\n`elastic__distilbert-base-uncased-finetuned-conll03-english` trained model:\n\n[source,console]\n--------------------------------------------------\nPOST _ml/trained_models/elastic__distilbert-base-uncased-finetuned-conll03-english/deployment/cache/_clear\n--------------------------------------------------\n// TEST[skip:TBD]\n\nThe API returns the following results:\n\n[source,console-result]\n----\n{\n   \"cleared\": true\n}\n----\n"
}