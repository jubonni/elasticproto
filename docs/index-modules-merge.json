{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.619289",
        "size": 1201,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-merge.html",
        "type": "documentation",
        "role": [],
        "has_code": false,
        "title": "index-modules-merge",
        "version": "8.15"
    },
    "doc": "[[index-modules-merge]]\n== Merge\n\nA shard in Elasticsearch is a Lucene index, and a Lucene index is broken down\ninto segments. Segments are internal storage elements in the index where the\nindex data is stored, and are immutable. Smaller segments are periodically\nmerged into larger segments to keep the index size at bay and to expunge\ndeletes.\n\nThe merge process uses auto-throttling to balance the use of hardware\nresources between merging and other activities like search.\n\n[discrete]\n[[merge-scheduling]]\n=== Merge scheduling\n\nThe merge scheduler (ConcurrentMergeScheduler) controls the execution of merge\noperations when they are needed. Merges run in separate threads, and when the\nmaximum number of threads is reached, further merges will wait until a merge\nthread becomes available.\n\nThe merge scheduler supports the following _dynamic_ setting:\n\n`index.merge.scheduler.max_thread_count`::\n\n    The maximum number of threads on a single shard that may be merging at once.\n\tDefaults to\n    `Math.max(1, Math.min(4, <<node.processors, node.processors>> / 2))` which\n    works well for a good solid-state-disk (SSD). If your index is on spinning\n    platter drives instead, decrease this to 1.\n\n"
}