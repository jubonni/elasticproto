{
    "meta": {
        "timestamp": "2024-11-01T02:49:24.543065",
        "size": 3835,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-auto-follow.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": false,
        "title": "ccr-auto-follow",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[ccr-auto-follow]]\n=== Manage auto-follow patterns\nTo replicate time series indices, you configure an auto-follow pattern so that\neach new index in the series is replicated automatically. Whenever the name of\na new index on the remote cluster matches the auto-follow pattern, a\ncorresponding follower index is added to the local cluster.\n\nNOTE: Auto-follow patterns only match open indices on the remote cluster that\nhave all primary shards started. Auto-follow patterns do not match indices that\ncan't be used for {ccr-init} such as <<open-index-api-desc,closed indices>> or\n<<searchable-snapshots,{search-snaps}>>. Avoid using an auto-follow pattern\nthat matches indices with a <<index-block-settings, read or write block>>. These\nblocks prevent follower indices from replicating such indices.\n\nYou can also create auto-follow patterns for data streams. When a new backing\nindex is generated on a remote cluster, that index and its data stream are\nautomatically followed if the data stream name matches an auto-follow\npattern. If you create a data stream after creating the auto-follow pattern,\nall backing indices are followed automatically.\n\nThe data streams replicated from a remote cluster by CCR are protected from\nlocal rollovers. The <<promote-data-stream-api,promote data stream API>>\ncan be used to turn these data streams into regular data streams.\n\nAuto-follow patterns are especially useful with\n<<index-lifecycle-management,{ilm-cap}>>, which might continually create\nnew indices on the cluster containing the leader index.\n\n[[ccr-access-ccr-auto-follow]]\nTo start using {ccr} auto-follow patterns from Stack Management in {kib}, select\n*Cross-Cluster Replication* from the side navigation and choose the\n*Auto-follow patterns* tab.\n\n[[ccr-auto-follow-create]]\n==== Create auto-follow patterns\nWhen you <<ccr-getting-started-auto-follow,create an auto-follow pattern>>,\nyou are configuring a collection of patterns against a single remote cluster.\nWhen an index is created in the remote cluster with a name that matches one of\nthe patterns in the collection, a follower index is configured in the local\ncluster. The follower index uses the new index as its leader index.\n\nUse the <<ccr-put-auto-follow-pattern,create auto-follow pattern API>> to add a\nnew auto-follow pattern configuration.\n\n[[ccr-auto-follow-retrieve]]\n==== Retrieve auto-follow patterns\nTo view existing auto-follow patterns and make changes to the backing\npatterns, <<ccr-access-ccr-auto-follow,access {kib}>> on your _remote_ cluster.\n\nSelect the auto-follow pattern that you want to view details about. From there,\nyou can make changes to the auto-follow pattern. You can also view your\nfollower indices included in the auto-follow pattern.\n\nUse the <<ccr-get-auto-follow-pattern,get auto-follow pattern API>> to inspect\nall configured auto-follow pattern collections.\n\n[[ccr-auto-follow-pause]]\n==== Pause and resume auto-follow patterns\nTo pause and resume replication of auto-follow pattern collections,\n<<ccr-access-ccr-auto-follow,access {kib}>>, select the auto-follow pattern,\nand pause replication.\n\nTo resume replication, select the pattern and choose\n*Manage pattern > Resume replication*.\n\nUse the <<ccr-pause-auto-follow-pattern,pause auto-follow pattern API>> to\npause auto-follow patterns.\nUse the <<ccr-resume-auto-follow-pattern,resume auto-follow pattern API>> to\nresume auto-follow patterns.\n\n[[ccr-auto-follow-delete]]\n==== Delete auto-follow patterns\nTo delete an auto-follow pattern collection,\n<<ccr-access-ccr-auto-follow,access {kib}>>, select the auto-follow pattern,\nand pause replication.\n\nWhen the pattern status changes to Paused, choose\n*Manage pattern > Delete pattern*.\n\nUse the <<ccr-delete-auto-follow-pattern,delete auto-follow pattern API>> to\ndelete a configured auto-follow pattern collection.\n"
}