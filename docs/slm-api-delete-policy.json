{
    "meta": {
        "timestamp": "2024-11-01T03:07:10.268272",
        "size": 1711,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/slm-api-delete-policy.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "slm-api-delete-policy",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[slm-api-delete-policy]]\n=== Delete snapshot lifecycle policy API\n++++\n<titleabbrev>Delete policy</titleabbrev>\n++++\n\nDeletes an existing snapshot lifecycle policy.\n\n[[slm-api-delete-lifecycle-request]]\n==== {api-request-title}\n\n`DELETE /_slm/policy/<snapshot-lifecycle-policy-id>`\n\n[[slm-api-delete-lifecycle-prereqs]]\n==== {api-prereq-title}\n\nIf the {es} {security-features} are enabled, you must have the `manage_slm`\ncluster privilege to use this API. For more information, see\n<<security-privileges>>.\n\n[[slm-api-delete-lifecycle-desc]]\n==== {api-description-title}\n\nDeletes the specified lifecycle policy definition. \nThis prevents any future snapshots from being taken\nbut does not cancel in-progress snapshots\nor remove previously-taken snapshots.\n\n\n[[slm-api-delete-lifecycle-path-params]]\n==== {api-path-parms-title}\n\n`<policy-id>`::\n(Required, string)\nID of the snapshot lifecycle policy to delete.\n\n[[slm-api-delete-lifecycle-example]]\n==== {api-examples-title}\n\n////\n[source,console]\n--------------------------------------------------\nPUT /_slm/policy/daily-snapshots\n{\n  \"schedule\": \"0 30 1 * * ?\", <1>\n  \"name\": \"<daily-snap-{now/d}>\", <2>\n  \"repository\": \"my_repository\", <3>\n  \"config\": { <4>\n    \"indices\": [\"data-*\", \"important\"], <5>\n    \"ignore_unavailable\": false,\n    \"include_global_state\": false\n  },\n  \"retention\": { <6>\n    \"expire_after\": \"30d\", <7>\n    \"min_count\": 5, <8>\n    \"max_count\": 50 <9>\n  }\n}\n--------------------------------------------------\n// TEST[setup:setup-repository]\n////\n\n[source,console]\n--------------------------------------------------\nDELETE /_slm/policy/daily-snapshots\n--------------------------------------------------\n// TEST[continued]\n"
}