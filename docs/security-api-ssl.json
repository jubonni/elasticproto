{
    "meta": {
        "size": 4175,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-ssl.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "security-api-ssl",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[security-api-ssl]]\n=== SSL certificate API\n++++\n<titleabbrev>SSL certificate</titleabbrev>\n++++\n\nThe `certificates` API enables you to retrieve information about the X.509\ncertificates that are used to encrypt communications in your {es} cluster.\n\n[[security-api-ssl-request]]\n==== {api-request-title}\n\n`GET /_ssl/certificates`\n\n\n[[security-api-ssl-prereqs]]\n==== {api-prereq-title}\n\n* If the {security-features} are enabled, you must have `monitor` cluster\nprivileges to use this API. For more information, see\n<<security-privileges>>.\n\n[[security-api-ssl-desc]]\n==== {api-description-title}\n\nFor more information about how certificates are configured in conjunction with\nTransport Layer Security (TLS), see\n<<encrypt-internode-communication>>.\n\nThe API returns a list that includes certificates from all TLS contexts\nincluding:\n\n* Settings for transport and HTTP interfaces\n* TLS settings that are used within authentication realms\n* TLS settings for remote monitoring exporters\n\nThe list includes certificates that are used for configuring trust, such as\nthose configured in the `xpack.security.transport.ssl.truststore` and\n`xpack.security.transport.ssl.certificate_authorities` settings. It also\nincludes certificates that are used for configuring server identity, such as\n`xpack.security.http.ssl.keystore` and\n`xpack.security.http.ssl.certificate` settings.\n\nThe list does not include certificates that are sourced from the default SSL\ncontext of the Java Runtime Environment (JRE), even if those certificates are in\nuse within {es}.\n\nNOTE: When a PKCS#11 token is configured as the truststore of the JRE, the API\nwill return all the certificates that are included in the PKCS#11 token\nirrespectively to whether these are used in the {es} TLS configuration or not.\n\nIf {es} is configured to use a keystore or truststore, the API output\nincludes all certificates in that store, even though some of the certificates\nmight not be in active use within the cluster.\n\n[[security-api-ssl-response-body]]\n==== {api-response-body-title}\n\nThe response is an array of objects, with each object representing a\nsingle certificate. The fields in each object are:\n\n`path`:: (string) The path to the certificate, as configured in the\n`elasticsearch.yml` file.\n`format`:: (string) The format of the file. One of: `jks`, `PKCS12`, `PEM`.\n`alias`:: (string) If the path refers to a container file (a jks keystore, or a\n  PKCS#12 file), the alias of the certificate. Otherwise, null.\n`subject_dn`:: (string) The Distinguished Name of the certificate's subject.\n`serial_number`:: (string) The hexadecimal representation of the certificate's\nserial number.\n`has_private_key`:: (Boolean) Indicates whether {es} has access to the private\nkey for this certificate.\n`expiry`:: (string) The ISO formatted date of the certificate's expiry\n(not-after) date.\n`issuer`:: (string) The Distinguished Name of the certificate's issuer.\n\n[[security-api-ssl-example]]\n==== {api-examples-title}\n\nThe following example provides information about the certificates on a single\nnode of {es}:\n\n[source,console]\n--------------------------------------------------\nGET /_ssl/certificates\n--------------------------------------------------\n\nThe API returns the following results:\n\n[source,js]\n----\n[\n  {\n    \"path\": \"certs/elastic-certificates.p12\",\n    \"format\": \"PKCS12\",\n    \"alias\": \"instance\",\n    \"subject_dn\": \"CN=Elastic Certificate Tool Autogenerated CA\",\n    \"serial_number\": \"a20f0ee901e8f69dc633ff633e5cd5437cdb4137\",\n    \"has_private_key\": false,\n    \"expiry\": \"2021-01-15T20:42:49.000Z\"\n  },\n  {\n    \"path\": \"certs/elastic-certificates.p12\",\n    \"format\": \"PKCS12\",\n    \"alias\": \"ca\",\n    \"subject_dn\": \"CN=Elastic Certificate Tool Autogenerated CA\",\n    \"serial_number\": \"a20f0ee901e8f69dc633ff633e5cd5437cdb4137\",\n    \"has_private_key\": false,\n    \"expiry\": \"2021-01-15T20:42:49.000Z\"\n  },\n  {\n    \"path\": \"certs/elastic-certificates.p12\",\n    \"format\": \"PKCS12\",\n    \"alias\": \"instance\",\n    \"subject_dn\": \"CN=instance\",\n    \"serial_number\": \"fc1905e1494dc5230218d079c47a617088f84ce0\",\n    \"has_private_key\": true,\n    \"expiry\": \"2021-01-15T20:44:32.000Z\"\n  }\n]\n----\n// NOTCONSOLE\n"
}