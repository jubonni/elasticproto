{
    "meta": {
        "size": 1859,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/controlling-user-cache.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "controlling-user-cache",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[controlling-user-cache]]\n=== Controlling the user cache\n\nUser credentials are cached in memory on each node to avoid connecting to a\nremote authentication service or hitting the disk for every incoming request.\nYou can configure characteristics of the user cache with the `cache.ttl`,\n`cache.max_users`, and `cache.hash_algo` realm settings.\n\nNOTE: JWT realms use `jwt.cache.ttl` and `jwt.cache.size` realm settings.\n\nNOTE: PKI and JWT realms do not cache user credentials, but do cache the resolved user\nobject to avoid unnecessarily needing to perform role mapping on each request.\n\nThe cached user credentials are hashed in memory. By default, the {es}\n{security-features} use a salted `sha-256` hash algorithm. You can use a\ndifferent hashing algorithm by setting the `cache.hash_algo` realm settings. See\n<<hashing-settings>>.\n\n[[cache-eviction-api]]\n==== Evicting users from the cache\n\nYou can use the <<security-api-clear-cache,clear cache API>> to force\nthe eviction of cached users . For example, the following request evicts all\nusers from the `ad1` realm:\n\n[source,js]\n------------------------------------------------------------\n$ curl -XPOST 'http://localhost:9200/_security/realm/ad1/_clear_cache'\n------------------------------------------------------------\n\nTo clear the cache for multiple realms, specify the realms as a comma-separated\nlist:\n\n[source,js]\n------------------------------------------------------------\n$ curl -XPOST 'http://localhost:9200/_security/realm/ad1,ad2/_clear_cache'\n------------------------------------------------------------\n\nYou can also evict specific users:\n\n[source, java]\n------------------------------------------------------------\n$ curl -XPOST 'http://localhost:9200/_security/realm/ad1/_clear_cache?usernames=rdeniro,alpacino'\n------------------------------------------------------------\n"
}