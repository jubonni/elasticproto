{
    "meta": {
        "timestamp": "2024-11-01T03:02:53.589581",
        "size": 808,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-within-query.html",
        "type": "documentation",
        "role": [],
        "has_code": true,
        "title": "query-dsl-span-within-query",
        "version": "8.15"
    },
    "doc": "[[query-dsl-span-within-query]]\n=== Span within query\n++++\n<titleabbrev>Span within</titleabbrev>\n++++\n\nReturns matches which are enclosed inside another span query.\nHere is an example:\n\n[source,console]\n--------------------------------------------------\nGET /_search\n{\n  \"query\": {\n    \"span_within\": {\n      \"little\": {\n        \"span_term\": { \"field1\": \"foo\" }\n      },\n      \"big\": {\n        \"span_near\": {\n          \"clauses\": [\n            { \"span_term\": { \"field1\": \"bar\" } },\n            { \"span_term\": { \"field1\": \"baz\" } }\n          ],\n          \"slop\": 5,\n          \"in_order\": true\n        }\n      }\n    }\n  }\n}\n--------------------------------------------------\n\nThe `big` and `little` clauses can be any span type query. Matching\nspans from `little` that are enclosed within `big` are returned.\n"
}