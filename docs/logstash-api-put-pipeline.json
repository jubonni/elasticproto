{
    "meta": {
        "timestamp": "2024-11-01T03:07:09.974287",
        "size": 2721,
        "url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/logstash-api-put-pipeline.html",
        "type": "documentation",
        "role": [
            "xpack"
        ],
        "has_code": true,
        "title": "logstash-api-put-pipeline",
        "version": "8.15"
    },
    "doc": "[role=\"xpack\"]\n[[logstash-api-put-pipeline]]\n=== Create or update {ls} pipeline API\n++++\n<titleabbrev>Create or update {ls} pipeline</titleabbrev>\n++++\n\nThis API creates or updates a {ls} pipeline used for\n{logstash-ref}/logstash-centralized-pipeline-management.html[{ls} Central\nManagement].\n\n[[logstash-api-put-pipeline-request]]\n==== {api-request-title}\n\n`PUT _logstash/pipeline/<pipeline_id>`\n\n[[logstash-api-put-pipeline-prereqs]]\n==== {api-prereq-title}\n\n* If the {es} {security-features} are enabled, you must have the\n`manage_logstash_pipelines` cluster privilege to use this API.\n\n[[logstash-api-put-pipeline-desc]]\n==== {api-description-title}\n\nCreates a {ls} pipeline. If the specified pipeline exists, the pipeline is\nreplaced.\n\n[[logstash-api-put-pipeline-params]]\n==== {api-path-parms-title}\n\n`<pipeline_id>`::\n  (Required, string) Identifier for the pipeline.\n\n[[logstash-api-put-pipeline-request-body]]\n==== {api-request-body-title}\n\n`description`::\n(Optional, string)\nDescription of the pipeline. This description is not used by {es} or {ls}.\n\n`last_modified`::\n(Required, string)\nDate the pipeline was last updated. Must be in the `yyyy-MM-dd'T'HH:mm:ss.SSSZZ`\n<<mapping-date-format,`strict_date_time`>> format.\n\n`pipeline`::\n(Required, string)\nConfiguration for the pipeline. For supported syntax, see the\n{logstash-ref}/configuration-file-structure.html[{ls} configuration\ndocumentation].\n\n`pipeline_metadata`::\n(Required, object)\nOptional metadata about the pipeline. May have any contents. This metadata is\nnot generated or used by {es} or {ls}.\n\n`pipeline_settings`::\n(Required, object)\nSettings for the pipeline. Supports only flat keys in dot notation. For\nsupported settings, see the {logstash-ref}/logstash-settings-file.html[{ls}\nsettings documentation].\n\n`username`::\n(Required, string)\nUser who last updated the pipeline.\n\n[[logstash-api-put-pipeline-example]]\n==== {api-examples-title}\n\nThe following example creates a new pipeline named `my_pipeline`:\n\n[source,console]\n--------------------------------------------------\nPUT _logstash/pipeline/my_pipeline\n{\n  \"description\": \"Sample pipeline for illustration purposes\",\n  \"last_modified\": \"2021-01-02T02:50:51.250Z\",\n  \"pipeline_metadata\": {\n    \"type\": \"logstash_pipeline\",\n    \"version\": \"1\"\n  },\n  \"username\": \"elastic\",\n  \"pipeline\": \"input {}\\n filter { grok {} }\\n output {}\",\n  \"pipeline_settings\": {\n    \"pipeline.workers\": 1,\n    \"pipeline.batch.size\": 125,\n    \"pipeline.batch.delay\": 50,\n    \"queue.type\": \"memory\",\n    \"queue.max_bytes\": \"1gb\",\n    \"queue.checkpoint.writes\": 1024\n  }\n}\n--------------------------------------------------\n\nIf the request succeeds, you receive an empty response with an appropriate\nstatus code.\n"
}